<!doctype html><html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name="generator" content="Hugo 0.110.0">
<link rel="alternate" type="text/releases" href="https://kube-logging.dev/4.5/docs/logging-infrastructure/fluentd/releases.releases">
<meta name="robots" content="index, follow">
<link rel="shortcut icon" href="/4.5/favicons/favicon.ico">
<link rel="apple-touch-icon" href="/4.5/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/4.5/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/4.5/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/4.5/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/4.5/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/4.5/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/4.5/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/4.5/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/4.5/favicons/android-192x192.png" sizes="192x192">
<title>Configure Fluentd | Logging operator</title><meta name="description" content="This page shows some examples on configuring Fluentd.
Ways to configure Fluentd There are two ways to configure the Fluentd statefulset:
Using the spec.fluentd section of The Logging custom resource.
Using the standalone FluentdConfig CRD. This method is only available in Logging operator version 4.5 and newer, and the specification of the CRD is compatible with the spec.fluentd configuration method. That way you can use a multi-tenant model, where tenant owners are responsible for operating their own aggregator, while the Logging resource is in control of the central operations team.">
<meta property="og:title" content="Configure Fluentd">
<meta property="og:description" content="This page shows some examples on configuring Fluentd.
Ways to configure Fluentd There are two ways to configure the Fluentd statefulset:
Using the spec.fluentd section of The Logging custom resource.
Using the standalone FluentdConfig CRD. This method is only available in Logging operator version 4.5 and newer, and the specification of the CRD is compatible with the spec.fluentd configuration method. That way you can use a multi-tenant model, where tenant owners are responsible for operating their own aggregator, while the Logging resource is in control of the central operations team.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://kube-logging.dev/4.5/docs/logging-infrastructure/fluentd/"><meta property="article:section" content="docs">
<meta property="article:modified_time" content="2024-03-12T20:03:54+01:00"><meta property="og:site_name" content="Logging operator">
<meta itemprop="name" content="Configure Fluentd">
<meta itemprop="description" content="This page shows some examples on configuring Fluentd.
Ways to configure Fluentd There are two ways to configure the Fluentd statefulset:
Using the spec.fluentd section of The Logging custom resource.
Using the standalone FluentdConfig CRD. This method is only available in Logging operator version 4.5 and newer, and the specification of the CRD is compatible with the spec.fluentd configuration method. That way you can use a multi-tenant model, where tenant owners are responsible for operating their own aggregator, while the Logging resource is in control of the central operations team.">
<meta itemprop="dateModified" content="2024-03-12T20:03:54+01:00">
<meta itemprop="wordCount" content="2059">
<meta itemprop="keywords" content><meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Configure Fluentd">
<meta name="twitter:description" content="This page shows some examples on configuring Fluentd.
Ways to configure Fluentd There are two ways to configure the Fluentd statefulset:
Using the spec.fluentd section of The Logging custom resource.
Using the standalone FluentdConfig CRD. This method is only available in Logging operator version 4.5 and newer, and the specification of the CRD is compatible with the spec.fluentd configuration method. That way you can use a multi-tenant model, where tenant owners are responsible for operating their own aggregator, while the Logging resource is in control of the central operations team.">
<meta name="twitter:site" content="@calisti12">
<link rel="preload" href="/4.5/scss/main.min.d20db6d79e80313ee4aa9c44648bc3348ea0b541c8d2ecc5ca8b144682beb4f8.css" as="style">
<link href="/4.5/scss/main.min.d20db6d79e80313ee4aa9c44648bc3348ea0b541c8d2ecc5ca8b144682beb4f8.css" rel="stylesheet" integrity>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/4.5/css/prism.css">
<script src="/js/w3.js" type="application/x-javascript"></script>
<link rel="canonical" href="https://kube-logging.dev/docs/logging-infrastructure/">
<script src="/pagefind/pagefind-highlight.js" type="application/x-javascript"></script>
<script type="module">
        await import('/pagefind/pagefind-highlight.js');
        new PagefindHighlight({ highlightParam: "highlight" });
    </script>
</head><body class="td-page" data-pagefind-filter="section:4.5">
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class="navbar-brand" href="/4.5/"><span class="navbar-brand__logo navbar-logo"><svg viewBox="0 0 3237.738 490.023" id="svg142" sodipodi:docname="logo-new2.svg" inkscape:version="1.2.1 (9c6d41e4, 2022-07-14)" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><defs id="defs146"/><sodipodi:namedview id="namedview144" pagecolor="#505050" bordercolor="#ffffff" borderopacity="1" inkscape:showpageshadow="0" inkscape:pageopacity="0" inkscape:pagecheckerboard="1" inkscape:deskcolor="#505050" showgrid="false" inkscape:zoom=".37340884" inkscape:cx="1620.208" inkscape:cy="243.70071" inkscape:window-width="705" inkscape:window-height="480" inkscape:window-x="0" inkscape:window-y="25" inkscape:window-maximized="0" inkscape:current-layer="svg142"/><g id="Group_2068" data-name="Group 2068" transform="translate(-43577.297 -34456.625)"><g id="Group_2067" data-name="Group 2067" transform="translate(27723.789 24565.273)"><path id="Path_4217" data-name="Path 4217" d="M47842.219 34024.414l-276.027 475.07h71.242l240.227-414.1z" transform="translate(-31703.996 -24123.111)" fill="#d6d7d9" stroke="#d6d7d9" stroke-width="10"/><path id="Path_4218" data-name="Path 4218" d="M47831.324 34080.781l166.754 287.355h-333.035z" transform="translate(-31640.254 -24086.76)" fill="#fff" stroke="#fff" stroke-width="10"/><path id="Path_4220" data-name="Path 4220" d="M47668.742 34274.2l-37.727 64.1h442.43l-37.156-64.1z" transform="translate(-31662.199 -23962.018)" fill="#d6d7d9" stroke="#d6d7d9" stroke-width="10"/><path id="Path_4222" data-name="Path 4222" d="M11294.989 10157.944l311.97-.01-156.218-269.074-78.621 135.83z" transform="translate(4740.338 117.39)" fill="#fff"/><path id="Path_4224" data-name="Path 4224" d="M47787.594 34159.125l-54.391 93.035h108.039z" transform="translate(-31596.297 -24036.238)" fill="#13142c" stroke="#13132d" stroke-width="10"/></g><text id="Logging_Operator" data-name="Logging Operator" transform="translate(45475.035 34799.609)" fill="#fff" font-size="267" font-family="Montserrat-Bold, Montserrat" font-weight="700" letter-spacing=".046em"><tspan x="-1339.806" y="0" id="tspan138">Logging Operator</tspan></text></g></svg></span><span class="navbar-brand__name">Logging operator</span>
<span class="font-weight-bold navbar-logo navbar-version">4.5.1</span></a>
<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link" href="https://github.com/kube-logging/logging-operator" title="Go to GitHub project page" target="_blank"><span>Project page</span></a>
</li><li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link" href="/4.5/docs/" title="Read the documentation"><span>Documentation</span></a>
</li><li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link" href="/4.5/docs/community/" title="Come chat with us!"><span>Community</span></a>
</li><li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
Releases
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
<div w3-include-html="/docs/logging-infrastructure/fluentd//releases.releases" w3-include-html-default='<a class="dropdown-item" href="/docs/releases.releases">Latest</a>'></div><script type="application/x-javascript">w3.includeHTML()</script>
</div></li></ul></div><div class="navbar-nav d-none d-lg-block">
<div class="main-menu-search">
<a href="/search">
<span class="nav-link"><i class="fa fa-search" aria-hidden="true"></i> Search</span>
</a>
</div></div></nav></header><div class="container-fluid td-outer">
<div class="td-main">
<div class="row flex-xl-nowrap">
<aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
<div id="td-sidebar-menu" class="td-sidebar__inner">
<form class="td-sidebar__search d-flex align-items-center">
<div class="main-menu-search">
<a href="/search">
<span class="nav-link"><i class="fa fa-search" aria-hidden="true"></i> Search</span>
</a>
</div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
</button>
</form><nav class="collapse td-sidebar-nav foldable-nav" id="td-section-nav">
<ul class="td-sidebar-nav__section pr-md-3 ul-0">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-45docs-li">
<a href="/4.5/docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-45docs"><span>Logging operator</span></a>
<ul class="ul-1">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docswhats-new-li">
<input type="checkbox" id="m-45docswhats-new-check">
<label for="m-45docswhats-new-check"><a href="/4.5/docs/whats-new/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docswhats-new"><span>What's new</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsinstall-li">
<input type="checkbox" id="m-45docsinstall-check">
<label for="m-45docsinstall-check"><a href="/4.5/docs/install/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsinstall"><span>Install</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsquickstarts-li">
<input type="checkbox" id="m-45docsquickstarts-check">
<label for="m-45docsquickstarts-check"><a href="/4.5/docs/quickstarts/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsquickstarts"><span>Quick start guides</span></a></label>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsquickstartssingle-li">
<input type="checkbox" id="m-45docsquickstartssingle-check">
<label for="m-45docsquickstartssingle-check"><a href="/4.5/docs/quickstarts/single/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsquickstartssingle"><span>Single app, one destination</span></a></label>
</li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsconfiguration-li">
<input type="checkbox" id="m-45docsconfiguration-check">
<label for="m-45docsconfiguration-check"><a href="/4.5/docs/configuration/" title="Configure log routing" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsconfiguration"><span>Routing logs</span></a></label>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationfluentd-vs-syslog-ng-li">
<input type="checkbox" id="m-45docsconfigurationfluentd-vs-syslog-ng-check">
<label for="m-45docsconfigurationfluentd-vs-syslog-ng-check"><a href="/4.5/docs/configuration/fluentd-vs-syslog-ng/" title="Which log forwarder to use" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationfluentd-vs-syslog-ng"><span>Fluentd or syslog-ng</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationoutput-li">
<input type="checkbox" id="m-45docsconfigurationoutput-check">
<label for="m-45docsconfigurationoutput-check"><a href="/4.5/docs/configuration/output/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationoutput"><span>Output and ClusterOutput</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationflow-li">
<input type="checkbox" id="m-45docsconfigurationflow-check">
<label for="m-45docsconfigurationflow-check"><a href="/4.5/docs/configuration/flow/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationflow"><span>Flow and ClusterFlow</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationlog-routing-li">
<input type="checkbox" id="m-45docsconfigurationlog-routing-check">
<label for="m-45docsconfigurationlog-routing-check"><a href="/4.5/docs/configuration/log-routing/" title="Routing your logs with Fluentd match directives" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationlog-routing"><span>Log routing with Fluentd</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationlog-routing-syslog-ng-li">
<input type="checkbox" id="m-45docsconfigurationlog-routing-syslog-ng-check">
<label for="m-45docsconfigurationlog-routing-syslog-ng-check"><a href="/4.5/docs/configuration/log-routing-syslog-ng/" title="Routing your logs with syslog-ng" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationlog-routing-syslog-ng"><span>Log routing with syslog-ng</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsconfigurationextensions-li">
<input type="checkbox" id="m-45docsconfigurationextensions-check">
<label for="m-45docsconfigurationextensions-check"><a href="/4.5/docs/configuration/extensions/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsconfigurationextensions"><span>Kubernetes events, node logs, and logfiles</span></a></label>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationextensionskubernetes-event-tailer-li">
<input type="checkbox" id="m-45docsconfigurationextensionskubernetes-event-tailer-check">
<label for="m-45docsconfigurationextensionskubernetes-event-tailer-check"><a href="/4.5/docs/configuration/extensions/kubernetes-event-tailer/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationextensionskubernetes-event-tailer"><span>Kubernetes Event Tailer</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationextensionskubernetes-host-tailer-li">
<input type="checkbox" id="m-45docsconfigurationextensionskubernetes-host-tailer-check">
<label for="m-45docsconfigurationextensionskubernetes-host-tailer-check"><a href="/4.5/docs/configuration/extensions/kubernetes-host-tailer/" title="Kubernetes host logs, journals, and logfiles" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationextensionskubernetes-host-tailer"><span>Kubernetes Host Tailer</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationextensionstailer-webhook-li">
<input type="checkbox" id="m-45docsconfigurationextensionstailer-webhook-check">
<label for="m-45docsconfigurationextensionstailer-webhook-check"><a href="/4.5/docs/configuration/extensions/tailer-webhook/" title="Tail logfiles with a webhook" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationextensionstailer-webhook"><span>File Tailer Webhook</span></a></label>
</li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsconfigurationcrds-li">
<input type="checkbox" id="m-45docsconfigurationcrds-check">
<label for="m-45docsconfigurationcrds-check"><a href="/4.5/docs/configuration/crds/" title="Custom Resource Definitions" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsconfigurationcrds"><span>CRDs</span></a></label>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsconfigurationcrdsv1beta1-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1-check">
<label for="m-45docsconfigurationcrdsv1beta1-check"><a href="/4.5/docs/configuration/crds/v1beta1/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsconfigurationcrdsv1beta1"><span>Available CRDs</span></a></label>
<ul class="ul-4 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1clusterflow_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1clusterflow_types-check">
<label for="m-45docsconfigurationcrdsv1beta1clusterflow_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/clusterflow_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1clusterflow_types"><span>ClusterFlow</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1clusteroutput_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1clusteroutput_types-check">
<label for="m-45docsconfigurationcrdsv1beta1clusteroutput_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/clusteroutput_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1clusteroutput_types"><span>ClusterOutput</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1common_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1common_types-check">
<label for="m-45docsconfigurationcrdsv1beta1common_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/common_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1common_types"><span>Common</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1flow_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1flow_types-check">
<label for="m-45docsconfigurationcrdsv1beta1flow_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/flow_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1flow_types"><span>FlowSpec</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1fluentbit_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1fluentbit_types-check">
<label for="m-45docsconfigurationcrdsv1beta1fluentbit_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/fluentbit_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1fluentbit_types"><span>FluentbitSpec</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1fluentd_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1fluentd_types-check">
<label for="m-45docsconfigurationcrdsv1beta1fluentd_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/fluentd_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1fluentd_types"><span>FluentdSpec</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1loggingroute_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1loggingroute_types-check">
<label for="m-45docsconfigurationcrdsv1beta1loggingroute_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/loggingroute_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1loggingroute_types"><span>LoggingRouteSpec</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1logging_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1logging_types-check">
<label for="m-45docsconfigurationcrdsv1beta1logging_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/logging_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1logging_types"><span>LoggingSpec</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1node_agent_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1node_agent_types-check">
<label for="m-45docsconfigurationcrdsv1beta1node_agent_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/node_agent_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1node_agent_types"><span>NodeAgent</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1output_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1output_types-check">
<label for="m-45docsconfigurationcrdsv1beta1output_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/output_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1output_types"><span>OutputSpec</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1syslogng_clusterflow_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1syslogng_clusterflow_types-check">
<label for="m-45docsconfigurationcrdsv1beta1syslogng_clusterflow_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/syslogng_clusterflow_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1syslogng_clusterflow_types"><span>SyslogNGClusterFlow</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1syslogng_clusteroutput_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1syslogng_clusteroutput_types-check">
<label for="m-45docsconfigurationcrdsv1beta1syslogng_clusteroutput_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/syslogng_clusteroutput_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1syslogng_clusteroutput_types"><span>SyslogNGClusterOutput</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1syslogng_flow_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1syslogng_flow_types-check">
<label for="m-45docsconfigurationcrdsv1beta1syslogng_flow_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/syslogng_flow_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1syslogng_flow_types"><span>SyslogNGFlowSpec</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1syslogng_output_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1syslogng_output_types-check">
<label for="m-45docsconfigurationcrdsv1beta1syslogng_output_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/syslogng_output_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1syslogng_output_types"><span>SyslogNGOutputSpec</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsv1beta1syslogng_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsv1beta1syslogng_types-check">
<label for="m-45docsconfigurationcrdsv1beta1syslogng_types-check"><a href="/4.5/docs/configuration/crds/v1beta1/syslogng_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsv1beta1syslogng_types"><span>SyslogNGSpec</span></a></label>
</li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsconfigurationcrdsextensions-li">
<input type="checkbox" id="m-45docsconfigurationcrdsextensions-check">
<label for="m-45docsconfigurationcrdsextensions-check"><a href="/4.5/docs/configuration/crds/extensions/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsconfigurationcrdsextensions"><span>Logging extensions CRDs</span></a></label>
<ul class="ul-4 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsextensionseventtailer_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsextensionseventtailer_types-check">
<label for="m-45docsconfigurationcrdsextensionseventtailer_types-check"><a href="/4.5/docs/configuration/crds/extensions/eventtailer_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsextensionseventtailer_types"><span>EventTailer</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationcrdsextensionshosttailer_types-li">
<input type="checkbox" id="m-45docsconfigurationcrdsextensionshosttailer_types-check">
<label for="m-45docsconfigurationcrdsextensionshosttailer_types-check"><a href="/4.5/docs/configuration/crds/extensions/hosttailer_types/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationcrdsextensionshosttailer_types"><span>HostTailer</span></a></label>
</li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsconfigurationplugins-li">
<input type="checkbox" id="m-45docsconfigurationplugins-check">
<label for="m-45docsconfigurationplugins-check"><a href="/4.5/docs/configuration/plugins/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsconfigurationplugins"><span>Supported Plugins</span></a></label>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginscommonsecurity-li">
<input type="checkbox" id="m-45docsconfigurationpluginscommonsecurity-check">
<label for="m-45docsconfigurationpluginscommonsecurity-check"><a href="/4.5/docs/configuration/plugins/common/security/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginscommonsecurity"><span>Security</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginscommontransport-li">
<input type="checkbox" id="m-45docsconfigurationpluginscommontransport-check">
<label for="m-45docsconfigurationpluginscommontransport-check"><a href="/4.5/docs/configuration/plugins/common/transport/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginscommontransport"><span>Transport</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsconfigurationpluginsfilters-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfilters-check">
<label for="m-45docsconfigurationpluginsfilters-check"><a href="/4.5/docs/configuration/plugins/filters/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsconfigurationpluginsfilters"><span>Fluentd filters</span></a></label>
<ul class="ul-4 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfiltersconcat-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfiltersconcat-check">
<label for="m-45docsconfigurationpluginsfiltersconcat-check"><a href="/4.5/docs/configuration/plugins/filters/concat/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfiltersconcat"><span>Concat</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfiltersdedot-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfiltersdedot-check">
<label for="m-45docsconfigurationpluginsfiltersdedot-check"><a href="/4.5/docs/configuration/plugins/filters/dedot/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfiltersdedot"><span>Dedot</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfilterselasticsearch_genid-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfilterselasticsearch_genid-check">
<label for="m-45docsconfigurationpluginsfilterselasticsearch_genid-check"><a href="/4.5/docs/configuration/plugins/filters/elasticsearch_genid/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfilterselasticsearch_genid"><span>ElasticSearch GenId</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfiltersenhance_k8s-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfiltersenhance_k8s-check">
<label for="m-45docsconfigurationpluginsfiltersenhance_k8s-check"><a href="/4.5/docs/configuration/plugins/filters/enhance_k8s/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfiltersenhance_k8s"><span>Enhance K8s Metadata</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfiltersdetect_exceptions-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfiltersdetect_exceptions-check">
<label for="m-45docsconfigurationpluginsfiltersdetect_exceptions-check"><a href="/4.5/docs/configuration/plugins/filters/detect_exceptions/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfiltersdetect_exceptions"><span>Exception Detector</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfiltersgeoip-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfiltersgeoip-check">
<label for="m-45docsconfigurationpluginsfiltersgeoip-check"><a href="/4.5/docs/configuration/plugins/filters/geoip/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfiltersgeoip"><span>Geo IP</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfiltersgrep-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfiltersgrep-check">
<label for="m-45docsconfigurationpluginsfiltersgrep-check"><a href="/4.5/docs/configuration/plugins/filters/grep/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfiltersgrep"><span>Grep</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfilterskube_events_timestamp-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfilterskube_events_timestamp-check">
<label for="m-45docsconfigurationpluginsfilterskube_events_timestamp-check"><a href="/4.5/docs/configuration/plugins/filters/kube_events_timestamp/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfilterskube_events_timestamp"><span>Kubernetes Events Timestamp</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfiltersparser-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfiltersparser-check">
<label for="m-45docsconfigurationpluginsfiltersparser-check"><a href="/4.5/docs/configuration/plugins/filters/parser/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfiltersparser"><span>Parser</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfiltersprometheus-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfiltersprometheus-check">
<label for="m-45docsconfigurationpluginsfiltersprometheus-check"><a href="/4.5/docs/configuration/plugins/filters/prometheus/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfiltersprometheus"><span>Prometheus</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfiltersrecord_modifier-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfiltersrecord_modifier-check">
<label for="m-45docsconfigurationpluginsfiltersrecord_modifier-check"><a href="/4.5/docs/configuration/plugins/filters/record_modifier/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfiltersrecord_modifier"><span>Record Modifier</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfiltersrecord_transformer-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfiltersrecord_transformer-check">
<label for="m-45docsconfigurationpluginsfiltersrecord_transformer-check"><a href="/4.5/docs/configuration/plugins/filters/record_transformer/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfiltersrecord_transformer"><span>Record Transformer</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfiltersstdout-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfiltersstdout-check">
<label for="m-45docsconfigurationpluginsfiltersstdout-check"><a href="/4.5/docs/configuration/plugins/filters/stdout/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfiltersstdout"><span>StdOut</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfilterssumologic-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfilterssumologic-check">
<label for="m-45docsconfigurationpluginsfilterssumologic-check"><a href="/4.5/docs/configuration/plugins/filters/sumologic/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfilterssumologic"><span>SumoLogic</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfilterstagnormaliser-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfilterstagnormaliser-check">
<label for="m-45docsconfigurationpluginsfilterstagnormaliser-check"><a href="/4.5/docs/configuration/plugins/filters/tagnormaliser/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfilterstagnormaliser"><span>Tag Normaliser</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfiltersthrottle-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfiltersthrottle-check">
<label for="m-45docsconfigurationpluginsfiltersthrottle-check"><a href="/4.5/docs/configuration/plugins/filters/throttle/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfiltersthrottle"><span>Throttle</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsfiltersuseragent-li">
<input type="checkbox" id="m-45docsconfigurationpluginsfiltersuseragent-check">
<label for="m-45docsconfigurationpluginsfiltersuseragent-check"><a href="/4.5/docs/configuration/plugins/filters/useragent/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsfiltersuseragent"><span>User Agent</span></a></label>
</li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsconfigurationpluginsoutputs-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputs-check">
<label for="m-45docsconfigurationpluginsoutputs-check"><a href="/4.5/docs/configuration/plugins/outputs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsconfigurationpluginsoutputs"><span>Fluentd outputs</span></a></label>
<ul class="ul-4 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsoss-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsoss-check">
<label for="m-45docsconfigurationpluginsoutputsoss-check"><a href="/4.5/docs/configuration/plugins/outputs/oss/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsoss"><span>Alibaba Cloud</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputscloudwatch-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputscloudwatch-check">
<label for="m-45docsconfigurationpluginsoutputscloudwatch-check"><a href="/4.5/docs/configuration/plugins/outputs/cloudwatch/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputscloudwatch"><span>Amazon CloudWatch</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsaws_elasticsearch-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsaws_elasticsearch-check">
<label for="m-45docsconfigurationpluginsoutputsaws_elasticsearch-check"><a href="/4.5/docs/configuration/plugins/outputs/aws_elasticsearch/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsaws_elasticsearch"><span>Amazon Elasticsearch</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputskinesis_firehose-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputskinesis_firehose-check">
<label for="m-45docsconfigurationpluginsoutputskinesis_firehose-check"><a href="/4.5/docs/configuration/plugins/outputs/kinesis_firehose/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputskinesis_firehose"><span>Amazon Kinesis</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputskinesis_stream-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputskinesis_stream-check">
<label for="m-45docsconfigurationpluginsoutputskinesis_stream-check"><a href="/4.5/docs/configuration/plugins/outputs/kinesis_stream/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputskinesis_stream"><span>Amazon Kinesis</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputss3-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputss3-check">
<label for="m-45docsconfigurationpluginsoutputss3-check"><a href="/4.5/docs/configuration/plugins/outputs/s3/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputss3"><span>Amazon S3</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsazurestore-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsazurestore-check">
<label for="m-45docsconfigurationpluginsoutputsazurestore-check"><a href="/4.5/docs/configuration/plugins/outputs/azurestore/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsazurestore"><span>Azure Storage</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsbuffer-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsbuffer-check">
<label for="m-45docsconfigurationpluginsoutputsbuffer-check"><a href="/4.5/docs/configuration/plugins/outputs/buffer/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsbuffer"><span>Buffer</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsdatadog-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsdatadog-check">
<label for="m-45docsconfigurationpluginsoutputsdatadog-check"><a href="/4.5/docs/configuration/plugins/outputs/datadog/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsdatadog"><span>Datadog</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputselasticsearch-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputselasticsearch-check">
<label for="m-45docsconfigurationpluginsoutputselasticsearch-check"><a href="/4.5/docs/configuration/plugins/outputs/elasticsearch/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputselasticsearch"><span>Elasticsearch</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsfile-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsfile-check">
<label for="m-45docsconfigurationpluginsoutputsfile-check"><a href="/4.5/docs/configuration/plugins/outputs/file/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsfile"><span>File</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsformat-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsformat-check">
<label for="m-45docsconfigurationpluginsoutputsformat-check"><a href="/4.5/docs/configuration/plugins/outputs/format/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsformat"><span>Format</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsformat_rfc5424-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsformat_rfc5424-check">
<label for="m-45docsconfigurationpluginsoutputsformat_rfc5424-check"><a href="/4.5/docs/configuration/plugins/outputs/format_rfc5424/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsformat_rfc5424"><span>Format rfc5424</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsforward-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsforward-check">
<label for="m-45docsconfigurationpluginsoutputsforward-check"><a href="/4.5/docs/configuration/plugins/outputs/forward/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsforward"><span>Forward</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsgelf-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsgelf-check">
<label for="m-45docsconfigurationpluginsoutputsgelf-check"><a href="/4.5/docs/configuration/plugins/outputs/gelf/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsgelf"><span>GELF</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsgcs-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsgcs-check">
<label for="m-45docsconfigurationpluginsoutputsgcs-check"><a href="/4.5/docs/configuration/plugins/outputs/gcs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsgcs"><span>Google Cloud Storage</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsloki-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsloki-check">
<label for="m-45docsconfigurationpluginsoutputsloki-check"><a href="/4.5/docs/configuration/plugins/outputs/loki/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsloki"><span>Grafana Loki</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputshttp-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputshttp-check">
<label for="m-45docsconfigurationpluginsoutputshttp-check"><a href="/4.5/docs/configuration/plugins/outputs/http/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputshttp"><span>Http</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputskafka-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputskafka-check">
<label for="m-45docsconfigurationpluginsoutputskafka-check"><a href="/4.5/docs/configuration/plugins/outputs/kafka/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputskafka"><span>Kafka</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputslogdna-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputslogdna-check">
<label for="m-45docsconfigurationpluginsoutputslogdna-check"><a href="/4.5/docs/configuration/plugins/outputs/logdna/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputslogdna"><span>LogDNA</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputslogz-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputslogz-check">
<label for="m-45docsconfigurationpluginsoutputslogz-check"><a href="/4.5/docs/configuration/plugins/outputs/logz/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputslogz"><span>LogZ</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsmattermost-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsmattermost-check">
<label for="m-45docsconfigurationpluginsoutputsmattermost-check"><a href="/4.5/docs/configuration/plugins/outputs/mattermost/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsmattermost"><span>Mattermost</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsnewrelic-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsnewrelic-check">
<label for="m-45docsconfigurationpluginsoutputsnewrelic-check"><a href="/4.5/docs/configuration/plugins/outputs/newrelic/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsnewrelic"><span>NewRelic</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsopensearch-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsopensearch-check">
<label for="m-45docsconfigurationpluginsoutputsopensearch-check"><a href="/4.5/docs/configuration/plugins/outputs/opensearch/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsopensearch"><span>OpenSearch</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsredis-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsredis-check">
<label for="m-45docsconfigurationpluginsoutputsredis-check"><a href="/4.5/docs/configuration/plugins/outputs/redis/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsredis"><span>Redis</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputsrelabel-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputsrelabel-check">
<label for="m-45docsconfigurationpluginsoutputsrelabel-check"><a href="/4.5/docs/configuration/plugins/outputs/relabel/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputsrelabel"><span>Relabel</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputssplunk_hec-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputssplunk_hec-check">
<label for="m-45docsconfigurationpluginsoutputssplunk_hec-check"><a href="/4.5/docs/configuration/plugins/outputs/splunk_hec/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputssplunk_hec"><span>Splunk</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputssqs-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputssqs-check">
<label for="m-45docsconfigurationpluginsoutputssqs-check"><a href="/4.5/docs/configuration/plugins/outputs/sqs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputssqs"><span>SQS</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputssumologic-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputssumologic-check">
<label for="m-45docsconfigurationpluginsoutputssumologic-check"><a href="/4.5/docs/configuration/plugins/outputs/sumologic/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputssumologic"><span>SumoLogic</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputssyslog-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputssyslog-check">
<label for="m-45docsconfigurationpluginsoutputssyslog-check"><a href="/4.5/docs/configuration/plugins/outputs/syslog/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputssyslog"><span>Syslog</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginsoutputssecret-li">
<input type="checkbox" id="m-45docsconfigurationpluginsoutputssecret-check">
<label for="m-45docsconfigurationpluginsoutputssecret-check"><a href="/4.5/docs/configuration/plugins/outputs/secret/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginsoutputssecret"><span>Secret definition</span></a></label>
</li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsconfigurationpluginssyslog-ng-filters-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-filters-check">
<label for="m-45docsconfigurationpluginssyslog-ng-filters-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-filters/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsconfigurationpluginssyslog-ng-filters"><span>syslog-ng filters</span></a></label>
<ul class="ul-4 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-filtersmatch-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-filtersmatch-check">
<label for="m-45docsconfigurationpluginssyslog-ng-filtersmatch-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-filters/match/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-filtersmatch"><span>Match</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-filtersparser-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-filtersparser-check">
<label for="m-45docsconfigurationpluginssyslog-ng-filtersparser-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-filters/parser/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-filtersparser"><span>Parser</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-filtersrewrite-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-filtersrewrite-check">
<label for="m-45docsconfigurationpluginssyslog-ng-filtersrewrite-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-filters/rewrite/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-filtersrewrite"><span>Rewrite</span></a></label>
</li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsconfigurationpluginssyslog-ng-outputs-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputs-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputs-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsconfigurationpluginssyslog-ng-outputs"><span>syslog-ng outputs</span></a></label>
<ul class="ul-4 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputsauth-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputsauth-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputsauth-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/auth/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputsauth"><span>Authentication for syslog-ng outputs</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputsdisk_buffer-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputsdisk_buffer-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputsdisk_buffer-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/disk_buffer/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputsdisk_buffer"><span>Disk buffer</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputselasticsearch-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputselasticsearch-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputselasticsearch-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/elasticsearch/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputselasticsearch"><span>Elasticsearch</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputsfile-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputsfile-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputsfile-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/file/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputsfile"><span>File</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputshttp-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputshttp-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputshttp-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/http/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputshttp"><span>HTTP</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputsloggly-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputsloggly-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputsloggly-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/loggly/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputsloggly"><span>Loggly output</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputslogscale-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputslogscale-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputslogscale-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/logscale/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputslogscale"><span>LogScale</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputsloki-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputsloki-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputsloki-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/loki/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputsloki"><span>Loki</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputsmongodb-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputsmongodb-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputsmongodb-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/mongodb/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputsmongodb"><span>MongoDB</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputsmqtt-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputsmqtt-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputsmqtt-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/mqtt/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputsmqtt"><span>MQTT</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputsopenobserve-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputsopenobserve-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputsopenobserve-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/openobserve/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputsopenobserve"><span>Openobserve</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputsredis-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputsredis-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputsredis-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/redis/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputsredis"><span>Redis</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputss3-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputss3-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputss3-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/s3/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputss3"><span>S3</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputssplunk_hec-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputssplunk_hec-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputssplunk_hec-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/splunk_hec/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputssplunk_hec"><span>SplunkHEC</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputssumologic_http-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputssumologic_http-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputssumologic_http-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/sumologic_http/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputssumologic_http"><span>Sumo Logic HTTP</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputssumologic_syslog-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputssumologic_syslog-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputssumologic_syslog-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/sumologic_syslog/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputssumologic_syslog"><span>Sumo Logic Syslog</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputssyslog-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputssyslog-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputssyslog-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/syslog/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputssyslog"><span>Syslog (RFC5424) output</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsconfigurationpluginssyslog-ng-outputstls-li">
<input type="checkbox" id="m-45docsconfigurationpluginssyslog-ng-outputstls-check">
<label for="m-45docsconfigurationpluginssyslog-ng-outputstls-check"><a href="/4.5/docs/configuration/plugins/syslog-ng-outputs/tls/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsconfigurationpluginssyslog-ng-outputstls"><span>TLS config for syslog-ng outputs</span></a></label>
</li></ul></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsexamples-li">
<input type="checkbox" id="m-45docsexamples-check">
<label for="m-45docsexamples-check"><a href="/4.5/docs/examples/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsexamples"><span>Examples</span></a></label>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsexamplesfilters-in-flows-li">
<input type="checkbox" id="m-45docsexamplesfilters-in-flows-check">
<label for="m-45docsexamplesfilters-in-flows-check"><a href="/4.5/docs/examples/filters-in-flows/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsexamplesfilters-in-flows"><span>Filter examples in Flows</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsexamplesdate-parser-li">
<input type="checkbox" id="m-45docsexamplesdate-parser-check">
<label for="m-45docsexamplesdate-parser-check"><a href="/4.5/docs/examples/date-parser/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsexamplesdate-parser"><span>Parsing custom date formats</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsexamplescloudwatch-nginx-li">
<input type="checkbox" id="m-45docsexamplescloudwatch-nginx-check">
<label for="m-45docsexamplescloudwatch-nginx-check"><a href="/4.5/docs/examples/cloudwatch-nginx/" title="Store Nginx Access Logs in Amazon CloudWatch with Logging Operator" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsexamplescloudwatch-nginx"><span>Amazon CloudWatch with Fluentd</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsexamplesexample-s3-li">
<input type="checkbox" id="m-45docsexamplesexample-s3-check">
<label for="m-45docsexamplesexample-s3-check"><a href="/4.5/docs/examples/example-s3/" title="Transport all logs into Amazon S3  with Logging operator" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsexamplesexample-s3"><span>Amazon S3 with Fluentd</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsexampleses-nginx-li">
<input type="checkbox" id="m-45docsexampleses-nginx-check">
<label for="m-45docsexampleses-nginx-check"><a href="/4.5/docs/examples/es-nginx/" title="Store NGINX access logs in Elasticsearch with Logging operator" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsexampleses-nginx"><span>Elasticsearch with Fluentd</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsexamplessplunk-li">
<input type="checkbox" id="m-45docsexamplessplunk-check">
<label for="m-45docsexamplessplunk-check"><a href="/4.5/docs/examples/splunk/" title="Splunk operator with Logging operator" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsexamplessplunk"><span>Splunk HEC with Fluentd</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsexamplessumologic-li">
<input type="checkbox" id="m-45docsexamplessumologic-check">
<label for="m-45docsexamplessumologic-check"><a href="/4.5/docs/examples/sumologic/" title="Sumo Logic with Logging operator and Fluentd" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsexamplessumologic"><span>Sumo Logic with Fluentd</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsexamplessyslog-ng-sumologic-li">
<input type="checkbox" id="m-45docsexamplessyslog-ng-sumologic-check">
<label for="m-45docsexamplessyslog-ng-sumologic-check"><a href="/4.5/docs/examples/syslog-ng-sumologic/" title="Sumo Logic with Logging operator and syslog-ng" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsexamplessyslog-ng-sumologic"><span>Sumo Logic with syslog-ng</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsexampleskafka-nginx-li">
<input type="checkbox" id="m-45docsexampleskafka-nginx-check">
<label for="m-45docsexampleskafka-nginx-check"><a href="/4.5/docs/examples/kafka-nginx/" title="Transport Nginx Access Logs into Kafka with Logging operator" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsexampleskafka-nginx"><span>Kafka with Fluentd</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsexamplesloki-nginx-li">
<input type="checkbox" id="m-45docsexamplesloki-nginx-check">
<label for="m-45docsexamplesloki-nginx-check"><a href="/4.5/docs/examples/loki-nginx/" title="Store Nginx Access Logs in Grafana Loki with Logging operator" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsexamplesloki-nginx"><span>Grafana Loki with Fluentd</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsexamplesmultitenancy-li">
<input type="checkbox" id="m-45docsexamplesmultitenancy-check">
<label for="m-45docsexamplesmultitenancy-check"><a href="/4.5/docs/examples/multitenancy/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsexamplesmultitenancy"><span>Nodegroup-based multitenancy</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsexamplescustom-syslog-ng-metrics-li">
<input type="checkbox" id="m-45docsexamplescustom-syslog-ng-metrics-check">
<label for="m-45docsexamplescustom-syslog-ng-metrics-check"><a href="/4.5/docs/examples/custom-syslog-ng-metrics/" title="Custom source and output metrics" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsexamplescustom-syslog-ng-metrics"><span>Custom syslog-ng metrics</span></a></label>
</li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-45docslogging-infrastructure-li">
<input type="checkbox" id="m-45docslogging-infrastructure-check" checked>
<label for="m-45docslogging-infrastructure-check"><a href="/4.5/docs/logging-infrastructure/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docslogging-infrastructure"><span>Logging infrastructure setup</span></a></label>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docslogging-infrastructurelogging-li">
<input type="checkbox" id="m-45docslogging-infrastructurelogging-check">
<label for="m-45docslogging-infrastructurelogging-check"><a href="/4.5/docs/logging-infrastructure/logging/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docslogging-infrastructurelogging"><span>The Logging custom resource</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-45docslogging-infrastructurefluentd-li">
<input type="checkbox" id="m-45docslogging-infrastructurefluentd-check" checked>
<label for="m-45docslogging-infrastructurefluentd-check"><a href="/4.5/docs/logging-infrastructure/fluentd/" title="Configure Fluentd" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id="m-45docslogging-infrastructurefluentd"><span class="td-sidebar-nav-active-item">Fluentd log forwarder</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docslogging-infrastructuresyslog-ng-li">
<input type="checkbox" id="m-45docslogging-infrastructuresyslog-ng-check">
<label for="m-45docslogging-infrastructuresyslog-ng-check"><a href="/4.5/docs/logging-infrastructure/syslog-ng/" title="Configure syslog-ng" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docslogging-infrastructuresyslog-ng"><span>syslog-ng log forwarder</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docslogging-infrastructurefluentbit-li">
<input type="checkbox" id="m-45docslogging-infrastructurefluentbit-check">
<label for="m-45docslogging-infrastructurefluentbit-check"><a href="/4.5/docs/logging-infrastructure/fluentbit/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docslogging-infrastructurefluentbit"><span>Fluent Bit log collector</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docslogging-infrastructurefluentbit-multiple-li">
<input type="checkbox" id="m-45docslogging-infrastructurefluentbit-multiple-check">
<label for="m-45docslogging-infrastructurefluentbit-multiple-check"><a href="/4.5/docs/logging-infrastructure/fluentbit-multiple/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docslogging-infrastructurefluentbit-multiple"><span>Multiple Fluent Bit agents in the cluster</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docslogging-infrastructuretls-li">
<input type="checkbox" id="m-45docslogging-infrastructuretls-check">
<label for="m-45docslogging-infrastructuretls-check"><a href="/4.5/docs/logging-infrastructure/tls/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docslogging-infrastructuretls"><span>TLS encryption</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docslogging-infrastructuresecurity-li">
<input type="checkbox" id="m-45docslogging-infrastructuresecurity-check">
<label for="m-45docslogging-infrastructuresecurity-check"><a href="/4.5/docs/logging-infrastructure/security/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docslogging-infrastructuresecurity"><span>Security</span></a></label>
</li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsoperation-li">
<input type="checkbox" id="m-45docsoperation-check">
<label for="m-45docsoperation-check"><a href="/4.5/docs/operation/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsoperation"><span>Operation</span></a></label>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-45docsoperationtroubleshooting-li">
<input type="checkbox" id="m-45docsoperationtroubleshooting-check">
<label for="m-45docsoperationtroubleshooting-check"><a href="/4.5/docs/operation/troubleshooting/" title="Logging operator troubleshooting" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-45docsoperationtroubleshooting"><span>Troubleshooting</span></a></label>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsoperationtroubleshootingfluentbit-li">
<input type="checkbox" id="m-45docsoperationtroubleshootingfluentbit-check">
<label for="m-45docsoperationtroubleshootingfluentbit-check"><a href="/4.5/docs/operation/troubleshooting/fluentbit/" title="Troubleshooting Fluent Bit" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsoperationtroubleshootingfluentbit"><span>Fluent Bit</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsoperationtroubleshootingfluentd-li">
<input type="checkbox" id="m-45docsoperationtroubleshootingfluentd-check">
<label for="m-45docsoperationtroubleshootingfluentd-check"><a href="/4.5/docs/operation/troubleshooting/fluentd/" title="Troubleshooting Fluentd" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsoperationtroubleshootingfluentd"><span>Fluentd</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsoperationtroubleshootingsyslog-ng-li">
<input type="checkbox" id="m-45docsoperationtroubleshootingsyslog-ng-check">
<label for="m-45docsoperationtroubleshootingsyslog-ng-check"><a href="/4.5/docs/operation/troubleshooting/syslog-ng/" title="Troubleshooting syslog-ng" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsoperationtroubleshootingsyslog-ng"><span>syslog-ng</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsoperationtroubleshootingkind-li">
<input type="checkbox" id="m-45docsoperationtroubleshootingkind-check">
<label for="m-45docsoperationtroubleshootingkind-check"><a href="/4.5/docs/operation/troubleshooting/kind/" title="Running on KinD" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsoperationtroubleshootingkind"><span>KinD</span></a></label>
</li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsoperationlogging-operator-monitoring-li">
<input type="checkbox" id="m-45docsoperationlogging-operator-monitoring-check">
<label for="m-45docsoperationlogging-operator-monitoring-check"><a href="/4.5/docs/operation/logging-operator-monitoring/" title="Monitor your logging pipeline with Prometheus Operator" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsoperationlogging-operator-monitoring"><span>Monitoring</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsoperationalerting-li">
<input type="checkbox" id="m-45docsoperationalerting-check">
<label for="m-45docsoperationalerting-check"><a href="/4.5/docs/operation/alerting/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsoperationalerting"><span>Alerting</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsoperationreadiness-probe-li">
<input type="checkbox" id="m-45docsoperationreadiness-probe-check">
<label for="m-45docsoperationreadiness-probe-check"><a href="/4.5/docs/operation/readiness-probe/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsoperationreadiness-probe"><span>Readiness probe</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsoperationerror-output-li">
<input type="checkbox" id="m-45docsoperationerror-output-check">
<label for="m-45docsoperationerror-output-check"><a href="/4.5/docs/operation/error-output/" title="Collect Fluentd errors" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsoperationerror-output"><span>Fluentd errors</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsoperationoptimization-li">
<input type="checkbox" id="m-45docsoperationoptimization-check">
<label for="m-45docsoperationoptimization-check"><a href="/4.5/docs/operation/optimization/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsoperationoptimization"><span>Optimization</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsoperationscaling-li">
<input type="checkbox" id="m-45docsoperationscaling-check">
<label for="m-45docsoperationscaling-check"><a href="/4.5/docs/operation/scaling/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsoperationscaling"><span>Scaling</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsoperationrequirements-li">
<input type="checkbox" id="m-45docsoperationrequirements-check">
<label for="m-45docsoperationrequirements-check"><a href="/4.5/docs/operation/requirements/" title="CPU and memory requirements" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsoperationrequirements"><span>Resource requirements</span></a></label>
</li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsimage-versions-li">
<input type="checkbox" id="m-45docsimage-versions-check">
<label for="m-45docsimage-versions-check"><a href="/4.5/docs/image-versions/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsimage-versions"><span>Images used by Logging operator</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsdevelopers-li">
<input type="checkbox" id="m-45docsdevelopers-check">
<label for="m-45docsdevelopers-check"><a href="/4.5/docs/developers/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsdevelopers"><span>For developers</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docscommercial-support-li">
<input type="checkbox" id="m-45docscommercial-support-check">
<label for="m-45docscommercial-support-check"><a href="/4.5/docs/commercial-support/" title="Commercial support for the Logging operator" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docscommercial-support"><span>Commercial support</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docsfaq-li">
<input type="checkbox" id="m-45docsfaq-check">
<label for="m-45docsfaq-check"><a href="/4.5/docs/faq/" title="Frequently asked questions" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docsfaq"><span>FAQ</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docslicense-li">
<input type="checkbox" id="m-45docslicense-check">
<label for="m-45docslicense-check"><a href="/4.5/docs/license/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docslicense"><span>License</span></a></label>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-45docscommunity-li">
<input type="checkbox" id="m-45docscommunity-check">
<label for="m-45docscommunity-check"><a href="/4.5/docs/community/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-45docscommunity"><span>Community</span></a></label>
</li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
<a href="https://github.com/kube-logging/kube-logging.github.io/tree/master/content/docs/logging-infrastructure/fluentd.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href="https://github.com/kube-logging/kube-logging.github.io/edit/master/content/docs/logging-infrastructure/fluentd.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/kube-logging/kube-logging.github.io/new/master/content/docs/logging-infrastructure/fluentd.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/kube-logging/kube-logging.github.io/issues/new?title=Configure%20Fluentd" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a href="https://github.com/kube-logging/logging-operator/issues/new" class="td-page-meta--project-issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a>
<a id="print" href="https://kube-logging.dev/4.5/docs/logging-infrastructure/_print/"><i class="fa-solid fa-print fa-fw"></i> Print entire section</a>
</div><div class="td-toc">
<nav id="TableOfContents">
<ul>
<li><a href="#ways-to-configure-fluentd">Ways to configure Fluentd</a>
<ul>
<li><a href="#migrating">Migrating from <strong>spec.fluentd</strong> to FluentdConfig</a></li></ul></li><li><a href="#using-the-standalone-fluentdconfig-resource">Using the standalone FluentdConfig resource</a></li><li><a href="#custom-pvc-volume-for-fluentd-buffers">Custom pvc volume for Fluentd buffers</a></li><li><a href="#custom-fluentd-hostpath-volume-for-buffers">Custom Fluentd hostPath volume for buffers</a></li><li><a href="#fluentoutlogrotate">FluentOutLogrotate</a></li><li><a href="#scaling">Scaling</a>
<ul>
<li><a href="#graceful-draining">Graceful draining</a></li><li><a href="#autoscaling">Autoscaling with HPA</a></li></ul></li><li><a href="#probe">Probe</a></li><li><a href="#custom-fluentd-image">Custom Fluentd image</a></li><li><a href="#kubernetesstorage">KubernetesStorage</a></li><li><a href="#persistent-volume-claim">Persistent Volume Claim</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
<nav aria-label="breadcrumb" class="td-breadcrumbs">
<ol class="breadcrumb">
<li class="breadcrumb-item">
<a href="https://kube-logging.dev/4.5/docs/">Logging operator</a>
</li><li class="breadcrumb-item">
<a href="https://kube-logging.dev/4.5/docs/logging-infrastructure/">Logging infrastructure setup</a>
</li><li class="breadcrumb-item active" aria-current="page">
<a href="https://kube-logging.dev/4.5/docs/logging-infrastructure/fluentd/" aria-disabled="true" class="btn-link disabled">Fluentd log forwarder</a>
</li></ol></nav><div class="td-content">
<h1>Configure Fluentd</h1><header class="article-meta">
</header><p>This page shows some examples on configuring Fluentd.</p><h2 id="ways-to-configure-fluentd">Ways to configure Fluentd</h2><p>There are two ways to configure the Fluentd statefulset:</p><ol>
<li>
<p>Using the <strong>spec.fluentd</strong> section of <a href="/4.5/docs/logging-infrastructure/logging/">The Logging custom resource</a>.</p></li><li>
<p>Using the standalone FluentdConfig CRD. This method is only available in Logging operator version 4.5 and newer, and the specification of the CRD is compatible with the <strong>spec.fluentd</strong> configuration method. That way you can use a multi-tenant model, where tenant owners are responsible for operating their own aggregator, while the Logging resource is in control of the central operations team.</p><p>The standalone FluentdConfig is a namespaced resource that allows the configuration of the Fluentd aggregator in the control namespace, separately from the Logging resource. This allows you to use a multi-tenant model, where tenant owners are responsible for operating their own aggregator, while the Logging resource is in control of the central operations team. For more information about the multi-tenancy model where the collector is capable of routing logs based on namespaces to individual aggregators and where aggregators are fully isolated, see this blog post about <a href="https://axoflow.com/multi-tenancy-using-logging-operator/">Multi-tenancy using Logging operator</a>.</p></li></ol><p>For the detailed list of available parameters, see <a href="/4.5/docs/configuration/crds/v1beta1/fluentd_types/">FluentdSpec</a>.</p><h3 id="migrating">Migrating from <strong>spec.fluentd</strong> to FluentdConfig</h3><p>The standalone FluentdConfig CRD is only available in Logging operator version 4.5 and newer. Its specification and logic is identical with the <strong>spec.fluentd</strong> configuration method. Using the FluentdConfig CRD allows you to remove the <strong>spec.fluentd</strong> section from the Logging CRD, which has the following benefits.</p><ul>
<li>RBAC control over the FluentdConfig CRD, so you can have separate roles that can manage the Logging resource and the FluentdConfig resource (that is, the Fluentd deployment).</li><li>It reduces the size of the Logging resource, which can grow big enough to reach the annotation size limit in certain scenarios (e.g. when using <code>kubectl apply</code>).</li><li>You can use a multi-tenant model, where tenant owners are responsible for operating their own aggregator, while the Logging resource is in control of the central operations team.</li></ul><p>To migrate your <strong>spec.fluentd</strong> configuration from the Logging resource to a separate FluentdConfig CRD, complete the following steps.</p><ol>
<li>
<p>Open your Logging resource and find the <strong>spec.fluentd</strong> section. For example:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">example-logging-resource</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">controlNamespace</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentd</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">scaling</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">replicas</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div></li><li>
<p>Create a new FluentdConfig CRD. For the value of <strong>metadata.name</strong>, use the name of the Logging resource, for example:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">FluentdConfig</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Use the name of the logging resource</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">example-logging-resource</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Use the control namespace of the logging resource</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">namespace</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div></li><li>
<p>Copy the the <strong>spec.fluentd</strong> section from the Logging resource into the <strong>spec</strong> section of the FluentdConfig CRD, then fix the indentation. For example:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">FluentdConfig</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Use the name of the logging resource</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">example-logging-resource</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#8f5902;font-style:italic"># Use the control namespace of the logging resource</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">namespace</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">scaling</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">replicas</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div></li><li>
<p>Delete the <strong>spec.fluentd</strong> section from the Logging resource, then apply the Logging and the FluentdConfig CRDs.</p></li></ol><h2 id="using-the-standalone-fluentdconfig-resource">Using the standalone FluentdConfig resource</h2><p>The standalone FluentdConfig is a namespaced resource that allows the configuration of the Fluentd aggregator in the control namespace, separately from the Logging resource. This allows you to use a multi-tenant model, where tenant owners are responsible for operating their own aggregator, while the Logging resource is in control of the central operations team. For more information about the multi-tenancy model where the collector is capable of routing logs based on namespaces to individual aggregators and where aggregators are fully isolated, see this blog post about <a href="https://axoflow.com/multi-tenancy-using-logging-operator/">Multi-tenancy using Logging operator</a>.</p><p>A <code>Logging</code> resource can have only one <code>FluentdConfig</code> at a time. The controller registers the active <code>FluentdConfig</code> resource into the <code>Logging</code> resource&rsquo;s status under <code>fluentdConfigName</code>, and also registers the <code>Logging</code> resource name under <code>logging</code> in the <code>FluentdConfig</code> resource&rsquo;s status, for example:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="display:flex"><span>kubectl get logging example -o <span style="color:#000">jsonpath</span><span style="color:#ce5c00;font-weight:700">=</span><span style="color:#4e9a06">&#39;{.status}&#39;</span> <span style="color:#000;font-weight:700">|</span> jq .
</span></span><span style="display:flex"><span><span style="color:#ce5c00;font-weight:700">{</span>
</span></span><span style="display:flex"><span>  <span style="color:#4e9a06">&#34;configCheckResults&#34;</span>: <span style="color:#ce5c00;font-weight:700">{</span>
</span></span><span style="display:flex"><span>    <span style="color:#4e9a06">&#34;ac2d4553&#34;</span>: <span style="color:#204a87">true</span>
</span></span><span style="display:flex"><span>  <span style="color:#ce5c00;font-weight:700">}</span>,
</span></span><span style="display:flex"><span>  <span style="color:#4e9a06">&#34;fluentdConfigName&#34;</span>: <span style="color:#4e9a06">&#34;example&#34;</span>
</span></span><span style="display:flex"><span><span style="color:#ce5c00;font-weight:700">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="display:flex"><span>kubectl get fluentdconfig example -o <span style="color:#000">jsonpath</span><span style="color:#ce5c00;font-weight:700">=</span><span style="color:#4e9a06">&#39;{.status}&#39;</span> <span style="color:#000;font-weight:700">|</span> jq .
</span></span><span style="display:flex"><span><span style="color:#ce5c00;font-weight:700">{</span>
</span></span><span style="display:flex"><span>  <span style="color:#4e9a06">&#34;active&#34;</span>: true,
</span></span><span style="display:flex"><span>  <span style="color:#4e9a06">&#34;logging&#34;</span>: <span style="color:#4e9a06">&#34;example&#34;</span>
</span></span><span style="display:flex"><span><span style="color:#ce5c00;font-weight:700">}</span>
</span></span></code></pre></div><p>If there is a conflict, the controller adds a problem to both resources so that both the operations team and the tenant users can notice the problem. For example, if a <code>FluentdConfig</code> is already registered to a <code>Logging</code> resource and you create another <code>FluentdConfig</code> resource in the same namespace, then the first <code>FluentdConfig</code> is left intact, while the second one should have the following status:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="display:flex"><span>kubectl get fluentdconfig example2 -o <span style="color:#000">jsonpath</span><span style="color:#ce5c00;font-weight:700">=</span><span style="color:#4e9a06">&#39;{.status}&#39;</span> <span style="color:#000;font-weight:700">|</span> jq .
</span></span><span style="display:flex"><span><span style="color:#ce5c00;font-weight:700">{</span>
</span></span><span style="display:flex"><span>  <span style="color:#4e9a06">&#34;active&#34;</span>: false,
</span></span><span style="display:flex"><span>  <span style="color:#4e9a06">&#34;problems&#34;</span>: <span style="color:#ce5c00;font-weight:700">[</span>
</span></span><span style="display:flex"><span>    <span style="color:#4e9a06">&#34;logging already has a detached fluentd configuration, remove excess configuration objects&#34;</span>
</span></span><span style="display:flex"><span>  <span style="color:#ce5c00;font-weight:700">]</span>,
</span></span><span style="display:flex"><span>  <span style="color:#4e9a06">&#34;problemsCount&#34;</span>: <span style="color:#0000cf;font-weight:700">1</span>
</span></span><span style="display:flex"><span><span style="color:#ce5c00;font-weight:700">}</span>
</span></span></code></pre></div><p>The <code>Logging</code> resource will also show the issue:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="display:flex"><span>kubectl get logging example -o <span style="color:#000">jsonpath</span><span style="color:#ce5c00;font-weight:700">=</span><span style="color:#4e9a06">&#39;{.status}&#39;</span> <span style="color:#000;font-weight:700">|</span> jq .
</span></span><span style="display:flex"><span><span style="color:#ce5c00;font-weight:700">{</span>
</span></span><span style="display:flex"><span>  <span style="color:#4e9a06">&#34;configCheckResults&#34;</span>: <span style="color:#ce5c00;font-weight:700">{</span>
</span></span><span style="display:flex"><span>    <span style="color:#4e9a06">&#34;ac2d4553&#34;</span>: <span style="color:#204a87">true</span>
</span></span><span style="display:flex"><span>  <span style="color:#ce5c00;font-weight:700">}</span>,
</span></span><span style="display:flex"><span>  <span style="color:#4e9a06">&#34;fluentdConfigName&#34;</span>: <span style="color:#4e9a06">&#34;example&#34;</span>,
</span></span><span style="display:flex"><span>  <span style="color:#4e9a06">&#34;problems&#34;</span>: <span style="color:#ce5c00;font-weight:700">[</span>
</span></span><span style="display:flex"><span>    <span style="color:#4e9a06">&#34;multiple fluentd configurations found, couldn&#39;t associate it with logging&#34;</span>
</span></span><span style="display:flex"><span>  <span style="color:#ce5c00;font-weight:700">]</span>,
</span></span><span style="display:flex"><span>  <span style="color:#4e9a06">&#34;problemsCount&#34;</span>: <span style="color:#0000cf;font-weight:700">1</span>
</span></span><span style="display:flex"><span><span style="color:#ce5c00;font-weight:700">}</span>
</span></span></code></pre></div><h2 id="custom-pvc-volume-for-fluentd-buffers">Custom pvc volume for Fluentd buffers</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">default-logging-simple</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentd</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">bufferStorageVolume</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">pvc</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">accessModes</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">            </span>- <span style="color:#000">ReadWriteOnce</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">resources</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:700">requests</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">              </span><span style="color:#204a87;font-weight:700">storage</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">40Gi</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">storageClassName</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">fast</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">volumeMode</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Filesystem</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentbit</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">controlNamespace</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="custom-fluentd-hostpath-volume-for-buffers">Custom Fluentd hostPath volume for buffers</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">default-logging-simple</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentd</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">disablePvc</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">bufferStorageVolume</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">hostPath</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">path</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#8f5902;font-style:italic"># leave it empty to automatically generate: /opt/logging-operator/default-logging-simple/default-logging-simple-fluentd-buffer</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentbit</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">controlNamespace</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="fluentoutlogrotate">FluentOutLogrotate</h2><p>The following snippet redirects Fluentd&rsquo;s stdout to a file and configures rotation settings.</p><p>This mechanism was used prior to version 4.4 to avoid Fluent-bit rereading Fluentd&rsquo;s logs and causing an exponentially growing amount of redundant logs.</p><p>Example configuration used by the operator in version 4.3 and earlier (keep 10 files, 10M each):</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentd</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">fluentOutLogrotate</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">enabled</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">path</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">/fluentd/log/out</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">age</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">10</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">size</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">10485760</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Fluentd logs are now excluded using the <code>fluentbit.io/exclude: "true"</code> annotation.</p><h2 id="scaling">Scaling</h2><p>You can scale the Fluentd deployment manually by changing the number of replicas in the <strong>fluentd</strong> section of the <a href="/4.5/docs/logging-infrastructure/logging/">The Logging custom resource</a>. For example:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">default-logging-simple</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentd</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">scaling</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">replicas</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">3</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentbit</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">controlNamespace</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>For automatic scaling, see <a href="#autoscaling">Autoscaling with HPA</a>.</p><h3 id="graceful-draining">Graceful draining</h3><p>While you can scale down the Fluentd deployment by decreasing the number of replicas in the <strong>fluentd</strong> section of the <a href="/4.5/docs/logging-infrastructure/logging/">The Logging custom resource</a>, it won&rsquo;t automatically be graceful, as the controller will stop the extra replica pods without waiting for any remaining buffers to be flushed.
You can enable graceful draining in the <strong>scaling</strong> subsection:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">default-logging-simple</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentd</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">scaling</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">drain</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">enabled</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentbit</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">controlNamespace</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>When graceful draining is enabled, the operator starts drainer jobs for any undrained volumes.
The drainer job flushes any remaining buffers before terminating, and the operator marks the associated volume (the PVC, actually) as <em>drained</em> until it gets used again.
The drainer job has a template very similar to that of the Fluentd deployment with the addition of a sidecar container that oversees the buffers and signals Fluentd to terminate when all buffers are gone.
Pods created by the job are labeled as not to receive any further logs, thus buffers will clear out eventually.</p><p>If you want, you can specify a custom drainer job sidecar image in the <strong>drain</strong> subsection:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">default-logging-simple</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentd</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">scaling</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">drain</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">enabled</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">image</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">repository</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">ghcr.io/banzaicloud/fluentd-drain-watch</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">tag</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">latest</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentbit</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">controlNamespace</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>In addition to the drainer job, the operator also creates a placeholder pod with the same name as the terminated pod of the Fluentd deployment to keep the deployment from recreating that pod which would result in concurrent access of the volume.
The placeholder pod just runs a pause container, and goes away as soon as the job has finished successfully or the deployment is scaled back up and explicitly flushing the buffers is no longer necessary because the newly created replica will take care of processing them.</p><p>You can mark volumes that should be ignored by the drain logic by adding the label <code>logging.banzaicloud.io/drain: no</code> to the PVC.</p><h3 id="autoscaling">Autoscaling with HPA</h3><p>To configure autoscaling of the Fluentd deployment using Horizontal Pod Autoscaler (HPA), complete the following steps.</p><ol>
<li>
<p><a href="https://kubernetes.io/docs/tasks/extend-kubernetes/configure-aggregation-layer/">Configure the aggregation layer</a>. Many providers already have this configured, including <code>kind</code>.</p></li><li>
<p>Install Prometheus and the <a href="https://github.com/kubernetes-sigs/prometheus-adapter">Prometheus Adapter</a> if you don&rsquo;t already have them installed on the cluster. Adjust the default Prometheus address values as needed for your environment (set <code>prometheus.url</code>, <code>prometheus.port</code>, and <code>prometheus.path</code> to the appropriate values).</p></li><li>
<p>(Optional) Install <a href="https://github.com/kubernetes-sigs/metrics-server"><code>metrics-server</code></a> to access basic metrics. If the readiness of the <code>metrics-server</code> pod fails with HTTP 500, try adding the <code>--kubelet-insecure-tls</code> flag to the container.</p></li><li>
<p>If you want to use a custom metric for autoscaling Fluentd and the necessary metric is not available in Prometheus, define a Prometheus recording rule:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">groups</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span>- <span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">my-logging-hpa.rules</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">rules</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span>- <span style="color:#204a87;font-weight:700">expr</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">(node_filesystem_size_bytes{container=&#34;buffer-metrics-sidecar&#34;,mountpoint=&#34;/buffers&#34;}-node_filesystem_free_bytes{container=&#34;buffer-metrics-sidecar&#34;,mountpoint=&#34;/buffers&#34;})/node_filesystem_size_bytes{container=&#34;buffer-metrics-sidecar&#34;,mountpoint=&#34;/buffers&#34;}</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">record</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">buffer_space_usage_ratio</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Alternatively, you can define the derived metric as a configuration rule in the Prometheus Adapter&rsquo;s config map.</p></li><li>
<p>If it&rsquo;s not already installed, install the logging-operator and configure a logging resource with at least one flow. Make sure that the logging resource has buffer volume metrics monitoring enabled under <code>spec.fluentd</code>:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">#spec:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#8f5902;font-style:italic">#  fluentd:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">bufferVolumeMetrics</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">serviceMonitor</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div></li><li>
<p>Verify that the custom metric is available by running:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="display:flex"><span>kubectl get --raw <span style="color:#4e9a06">&#39;/apis/custom.metrics.k8s.io/v1beta1/namespaces/default/pods/*/buffer_space_usage_ratio&#39;</span>
</span></span></code></pre></div></li><li>
<p>The logging-operator enforces the replica count of the stateful set based on the logging resource&rsquo;s replica count, even if it&rsquo;s not set explicitly. To allow for HPA to control the replica count of the stateful set, this coupling has to be severed.
<strong>Currently, the only way to do that is by deleting the logging-operator deployment.</strong></p></li><li>
<p>Create a HPA resource. The following example tries to keep the average buffer volume usage of Fluentd instances at 80%.</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">autoscaling/v2beta2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">HorizontalPodAutoscaler</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging-fluentd</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">scaleTargetRef</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">apps/v1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">StatefulSet</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging-fluentd</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">minReplicas</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">maxReplicas</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">10</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">metrics</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span>- <span style="color:#204a87;font-weight:700">type</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Pods</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">pods</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">metric</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">buffer_space_usage_ratio</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">target</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">type</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">AverageValue</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">averageValue</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">800m</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div></li></ol><h2 id="probe">Probe</h2><p>A <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes">Probe</a> is a diagnostic performed periodically by the kubelet on a Container. To perform a diagnostic, the kubelet calls a Handler implemented by the Container. You can configure a probe for Fluentd in the <strong>livenessProbe</strong> section of the <a href="/4.5/docs/logging-infrastructure/logging/">The Logging custom resource</a>. For example:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">default-logging-simple</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentd</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">livenessProbe</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">periodSeconds</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">60</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">initialDelaySeconds</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">600</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">exec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">command</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#4e9a06">&#34;/bin/sh&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#4e9a06">&#34;-c&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#000;font-weight:700">&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">          LIVENESS_THRESHOLD_SECONDS=${LIVENESS_THRESHOLD_SECONDS:-300};
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">          if [ ! -e /buffers ];
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">          then
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">            exit 1;
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">          fi;
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">          touch -d &#34;${LIVENESS_THRESHOLD_SECONDS} seconds ago&#34; /tmp/marker-liveness;
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">          if [ -z &#34;$(find /buffers -type d -newer /tmp/marker-liveness -print -quit)&#34; ];
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">          then
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">            exit 1;
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">          fi;</span><span style="color:#f8f8f8;text-decoration:underline">          
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentbit</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">controlNamespace</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>You can use the following parameters:</p><table>
<thead>
<tr>
<th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr>
<td>initialDelaySeconds</td><td>int</td><td>600</td><td>Number of seconds after the container has started before liveness probes are initiated.</td></tr><tr>
<td>timeoutSeconds</td><td>int</td><td>0</td><td>Number of seconds after which the probe times out.</td></tr><tr>
<td>periodSeconds</td><td>int</td><td>60</td><td>How often (in seconds) to perform the probe.</td></tr><tr>
<td>successThreshold</td><td>int</td><td>0</td><td>Minimum consecutive successes for the probe to be considered successful after having failed.</td></tr><tr>
<td>failureThreshold</td><td>int</td><td>0</td><td>Minimum consecutive failures for the probe to be considered failed after having succeeded.</td></tr><tr>
<td>exec</td><td>array</td><td>{}</td><td>Exec specifies the action to take. <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/#execaction-v1-core">More info</a></td></tr><tr>
<td>httpGet</td><td>array</td><td>{}</td><td>HTTPGet specifies the http request to perform. <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/#httpgetaction-v1-core">More info</a></td></tr><tr>
<td>tcpSocket</td><td>array</td><td>{}</td><td>TCPSocket specifies an action involving a TCP port. <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/#tcpsocketaction-v1-core">More info</a></td></tr></tbody></table><blockquote>
<p>Note: To configure readiness probes, see <a href="/4.5/docs/operation/readiness-probe/">Readiness probe</a>.</p></blockquote><h2 id="custom-fluentd-image">Custom Fluentd image</h2><p>You can deploy custom images by overriding the default images using the following parameters in the fluentd or fluentbit sections of the logging resource.</p><table>
<thead>
<tr>
<th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr>
<td>repository</td><td>string</td><td>""</td><td>Image repository</td></tr><tr>
<td>tag</td><td>string</td><td>""</td><td>Image tag</td></tr><tr>
<td>pullPolicy</td><td>string</td><td>""</td><td>Always, IfNotPresent, Never</td></tr></tbody></table><p>The following example deploys a custom fluentd image:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">default-logging-simple</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentd</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">image</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">repository</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">banzaicloud/fluentd</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">tag</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">v1.10.4-alpine-1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">pullPolicy</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">IfNotPresent</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">configReloaderImage</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">repository</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">jimmidyson/configmap-reload</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">tag</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">v0.4.0</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">pullPolicy</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">IfNotPresent</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">scaling</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">drain</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">image</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">repository</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">ghcr.io/banzaicloud/fluentd-drain-watch</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">tag</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">v0.0.1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">pullPolicy</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">IfNotPresent</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">bufferVolumeImage</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">repository</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">quay.io/prometheus/node-exporter</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">tag</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">v1.1.2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">pullPolicy</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">IfNotPresent</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">fluentbit</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">controlNamespace</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="kubernetesstorage">KubernetesStorage</h2><p>Define Kubernetes storage.</p><table>
<thead>
<tr>
<th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr>
<td>hostPath</td><td><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/#hostpathvolumesource-v1-core">HostPathVolumeSource</a></td><td>-</td><td>Represents a host path mapped into a pod. If path is empty, it will automatically be set to <code>/opt/logging-operator/&lt;name of the logging CR>/&lt;name of the volume></code></td></tr><tr>
<td>emptyDir</td><td><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/#emptydirvolumesource-v1-core">EmptyDirVolumeSource</a></td><td>-</td><td>Represents an empty directory for a pod.</td></tr><tr>
<td>pvc</td><td><a href="#persistent-volume-claim">PersistentVolumeClaim</a></td><td>-</td><td>A PersistentVolumeClaim (PVC) is a request for storage by a user.</td></tr></tbody></table><h2 id="persistent-volume-claim">Persistent Volume Claim</h2><table>
<thead>
<tr>
<th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr>
<td>spec</td><td><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/#persistentvolumeclaimspec-v1-core">PersistentVolumeClaimSpec</a></td><td>-</td><td>Spec defines the desired characteristics of a volume requested by a pod author.</td></tr><tr>
<td>source</td><td><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/#persistentvolumeclaimvolumesource-v1-core">PersistentVolumeClaimVolumeSource</a></td><td>-</td><td>PersistentVolumeClaimVolumeSource references the user&rsquo;s PVC in the same namespace. </td></tr></tbody></table><p>The Persistent Volume Claim should be created with the given <code>spec</code> and with the <code>name</code> defined in the <code>source</code>&rsquo;s <code>claimName</code>.</p><h2 id="cpu-and-memory-requirements">CPU and memory requirements</h2><p>To adjust the CPU and memory limits and requests of the pods managed by Logging operator, see <a href="/4.5/docs/operation/requirements/">CPU and memory requirements</a>.</p><div class="text-muted mt-5 pt-3 border-top">
Last modified March 12, 2024: <a href="https://github.com/kube-logging/kube-logging.github.io/commit/c4cf8dada6ce52e03f9905f1dae0b7bb9817a5f9">Merge pull request #229 from kube-logging/pagefind-restructure (c4cf8da)</a>
</div></div></main></div></div><footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class="row">
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
</div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
<a class="text-white" target="_blank" rel="noopener" href="https://github.com/kube-logging/logging-operator" aria-label="GitHub">
<i class="fab fa-github"></i>
</a>
</li><li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
<a class="text-white" target="_blank" rel="noopener" href="/docs/community/" aria-label="Slack">
<i class="fab fa-slack"></i>
</a>
</li><li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Discord" aria-label="Discord">
<a class="text-white" target="_blank" rel="noopener" href="https://discord.gg/9ACY4RDsYN" aria-label="Discord">
<i class="fab fa-discord"></i>
</a>
</li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class="text-white"><a class="text-white" href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> | </small>
<small class="text-white">&copy; 2024 kube-logging authors | All Rights Reserved</small>
</div></div></div></footer></div><script src="/4.5/js/main.min.e92b3fb8e89f4169bac5c4b385d0ae639f17b6777e7a9fafce6283caf0539ed3.js" integrity="sha256-6Ss/uOifQWm6xcSzhdCuY58Xtnd+ep+vzmKDyvBTntM=" crossorigin="anonymous"></script>
<script src='/4.5/js/prism.js'></script>
<script src='/4.5/js/tabpane-persist.js'></script>
<script src="/js/tocbot.min.js"></script>
<script type="text/javascript">tocbot.init({tocSelector:".td-toc",contentSelector:".td-content",headingSelector:"h2, h3, h4",ignoreHiddenElements:!0})</script>
<script>(function(){var e=document.querySelector("#td-section-nav");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</body></html>