<!doctype html><html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name="generator" content="Hugo 0.110.0">
<link rel="canonical" type="text/html" href="https://kube-logging.dev/5.0/docs/configuration/plugins/outputs/">
<link rel="alternate" type="text/releases" href="https://kube-logging.dev/5.0/docs/configuration/plugins/outputs/releases.releases">
<meta name="robots" content="noindex, nofollow">
<link rel="shortcut icon" href="/5.0/favicons/favicon.ico">
<link rel="apple-touch-icon" href="/5.0/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/5.0/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/5.0/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/5.0/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/5.0/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/5.0/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/5.0/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/5.0/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/5.0/favicons/android-192x192.png" sizes="192x192">
<title>Fluentd outputs | Logging operator</title><meta name="description" content="Documentation for the Logging operator">
<meta property="og:title" content="Fluentd outputs">
<meta property="og:description" content="Documentation for the Logging operator">
<meta property="og:type" content="website">
<meta property="og:url" content="https://kube-logging.dev/5.0/docs/configuration/plugins/outputs/"><meta property="og:site_name" content="Logging operator">
<meta itemprop="name" content="Fluentd outputs">
<meta itemprop="description" content="Documentation for the Logging operator"><meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fluentd outputs">
<meta name="twitter:description" content="Documentation for the Logging operator">
<link rel="preload" href="/5.0/scss/main.min.86aacb60bddeb293329df2c5300c7ccbb0b5b5c79006869829b192179e011aef.css" as="style">
<link href="/5.0/scss/main.min.86aacb60bddeb293329df2c5300c7ccbb0b5b5c79006869829b192179e011aef.css" rel="stylesheet" integrity>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/5.0/css/prism.css">
<script src="/js/w3.js" type="application/x-javascript"></script>
<link rel="canonical" href="https://kube-logging.dev/docs/configuration/plugins/outputs/">
<script src="/pagefind/pagefind-highlight.js" type="application/x-javascript"></script>
<script type="module">
        await import('/pagefind/pagefind-highlight.js');
        new PagefindHighlight({ highlightParam: "highlight" });
    </script>
<script>window.__SJ_MESSAGE__="We collect cookies to analyze our website traffic and performance. We never collect any personal data.",window.__SJ_ACCEPT_BTN_TEXT__="Accept",window.__SJ_REJECT_BTN_TEXT__="Reject"</script>
<script src="https://cdn.jsdelivr.net/gh/sprucejoy/cookie-consent-autoblock-gdpr/cookie-consent.js" crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LM8C8QXCN7"></script>
<script>var dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-LM8C8QXCN7")}</script>
</head><body class="td-section">
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class="navbar-brand" href="/5.0/"><span class="navbar-brand__logo navbar-logo"><svg viewBox="0 0 3237.738 490.023" id="svg142" sodipodi:docname="logo-new2.svg" inkscape:version="1.2.1 (9c6d41e4, 2022-07-14)" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><defs id="defs146"/><sodipodi:namedview id="namedview144" pagecolor="#505050" bordercolor="#ffffff" borderopacity="1" inkscape:showpageshadow="0" inkscape:pageopacity="0" inkscape:pagecheckerboard="1" inkscape:deskcolor="#505050" showgrid="false" inkscape:zoom=".37340884" inkscape:cx="1620.208" inkscape:cy="243.70071" inkscape:window-width="705" inkscape:window-height="480" inkscape:window-x="0" inkscape:window-y="25" inkscape:window-maximized="0" inkscape:current-layer="svg142"/><g id="Group_2068" data-name="Group 2068" transform="translate(-43577.297 -34456.625)"><g id="Group_2067" data-name="Group 2067" transform="translate(27723.789 24565.273)"><path id="Path_4217" data-name="Path 4217" d="M47842.219 34024.414l-276.027 475.07h71.242l240.227-414.1z" transform="translate(-31703.996 -24123.111)" fill="#d6d7d9" stroke="#d6d7d9" stroke-width="10"/><path id="Path_4218" data-name="Path 4218" d="M47831.324 34080.781l166.754 287.355h-333.035z" transform="translate(-31640.254 -24086.76)" fill="#fff" stroke="#fff" stroke-width="10"/><path id="Path_4220" data-name="Path 4220" d="M47668.742 34274.2l-37.727 64.1h442.43l-37.156-64.1z" transform="translate(-31662.199 -23962.018)" fill="#d6d7d9" stroke="#d6d7d9" stroke-width="10"/><path id="Path_4222" data-name="Path 4222" d="M11294.989 10157.944l311.97-.01-156.218-269.074-78.621 135.83z" transform="translate(4740.338 117.39)" fill="#fff"/><path id="Path_4224" data-name="Path 4224" d="M47787.594 34159.125l-54.391 93.035h108.039z" transform="translate(-31596.297 -24036.238)" fill="#13142c" stroke="#13132d" stroke-width="10"/></g><text id="Logging_Operator" data-name="Logging Operator" transform="translate(45475.035 34799.609)" fill="#fff" font-size="267" font-family="Montserrat-Bold, Montserrat" font-weight="700" letter-spacing=".046em"><tspan x="-1339.806" y="0" id="tspan138">Logging Operator</tspan></text></g></svg></span><span class="navbar-brand__name">Logging operator</span>
<span class="font-weight-bold navbar-logo navbar-version">5.0</span></a>
<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link" href="https://github.com/kube-logging/logging-operator" title="Go to GitHub project page" target="_blank"><span>Project page</span></a>
</li><li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link" href="/5.0/docs/" title="Read the documentation"><span>Documentation</span></a>
</li><li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link" href="/5.0/docs/community/" title="Come chat with us!"><span>Community</span></a>
</li><li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
Releases
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
<div w3-include-html="/docs/configuration/plugins/outputs//releases.releases" w3-include-html-default='<a class="dropdown-item" href="/docs/releases.releases">Latest</a>'></div><script type="application/x-javascript">w3.includeHTML()</script>
</div></li></ul></div><div class="navbar-nav d-none d-lg-block">
<div class="main-menu-search">
<a href="/search">
<span class="nav-link"><i class="fa fa-search" aria-hidden="true"></i> Search</span>
</a>
</div></div></nav></header><div class="container-fluid td-outer">
<div class="td-main">
<div class="row flex-xl-nowrap">
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="return print(),!1">Click here to print</a>.
</p><p>
<a href="/5.0/docs/configuration/plugins/outputs/">Return to the regular view of this page</a>.
</p></div><h1 class="title">Fluentd outputs</h1><ul>
<li>1: <a href="#pg-d52aa3c8a0eb89cb0544a82420222298"></a></li><li>2: <a href="#pg-28f1e98e5b5c5f770fb8b2e592e1abf0">Alibaba Cloud</a></li><li>3: <a href="#pg-aeea1cd1922e8ddddba7f377f910cc60">Amazon CloudWatch</a></li><li>4: <a href="#pg-2b59c5fb4b2ccfdb47e90229617f245a">Amazon Elasticsearch</a></li><li>5: <a href="#pg-dec03311d9f65d4bec85b8a63c46e105">Amazon Kinesis</a></li><li>6: <a href="#pg-0309d186051d45cea94e4ea4a3d95907">Amazon Kinesis</a></li><li>7: <a href="#pg-f6b80b815b14c83b2fe835b820aa13d0">Amazon S3</a></li><li>8: <a href="#pg-3fa3b93039c08434aba115eb9ab22b12">Azure Storage</a></li><li>9: <a href="#pg-67bcee478125d9574288135a71954591">Buffer</a></li><li>10: <a href="#pg-cfa15a5d894da7ae0606dc5571b76531">Datadog</a></li><li>11: <a href="#pg-d4855c4f7dc79bc11e74c046473de585">Elasticsearch</a></li><li>12: <a href="#pg-11b10c2ba394f448a129e3e87a7da45d">File</a></li><li>13: <a href="#pg-ebcbedef5be28c9f30752486b0b2b01b">Format</a></li><li>14: <a href="#pg-88fc6991b80563054a472b95a994e01b">Format rfc5424</a></li><li>15: <a href="#pg-ed0a10704a55da5f7330009ec393e387">Forward</a></li><li>16: <a href="#pg-18e50786ba4697ffac3ab83b4c57e6e5">GELF</a></li><li>17: <a href="#pg-a6993ae75e6633de7954ded98992861c">Google Cloud Storage</a></li><li>18: <a href="#pg-a56bffbadd1b6a7c1ede4f727316205c">Grafana Loki</a></li><li>19: <a href="#pg-ae38f1f9de3603c1e55fe2fb4eeba9b0">Http</a></li><li>20: <a href="#pg-1b992ac5779a83a537b40f5defa1bfa5">Kafka</a></li><li>21: <a href="#pg-3736a73536ae2ea19873950bfc5c1521">LogDNA</a></li><li>22: <a href="#pg-f5b4f39075d38f596892cbc946ca5735">LogZ</a></li><li>23: <a href="#pg-683bbb879ced9c27f3943b7a4809b29e">Mattermost</a></li><li>24: <a href="#pg-434371d7a3888abd2a15c4cd22f941cc">NewRelic</a></li><li>25: <a href="#pg-bb72140946679f3fa6eaf82e404ea444">OpenSearch</a></li><li>26: <a href="#pg-ef25dbf7203fc85cd0c4a189a702360a">Redis</a></li><li>27: <a href="#pg-67b66da64354abd24b6cf4012f300c3a">Relabel</a></li><li>28: <a href="#pg-65dde214a849324898de8fc0878b8ff4">Splunk</a></li><li>29: <a href="#pg-f239285458b59ea6270063a2b99b095d">SQS</a></li><li>30: <a href="#pg-014aa24ff26bb6369dc8484f097d845d">Syslog</a></li><li>31: <a href="#pg-1f1e7ebd2a7521c62ebb908f2d9dc6d4">VMware Log Intelligence</a></li><li>32: <a href="#pg-0102b64d79d8ea746d1515b5bde58add">VMware LogInsight</a></li><li>33: <a href="#pg-3effea023502f5f282b1bcfc984721f7">Secret definition</a></li></ul><div class="content">
</div></div><div class="td-content">
<h1 id="pg-d52aa3c8a0eb89cb0544a82420222298">1 - </h1><h1 id="null-output-plugin-for-fluentd">Null output plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>For details, see <a href="https://docs.fluentd.org/output/null">https://docs.fluentd.org/output/null</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">nullout</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">never_flush</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="nulloutputconfig">NullOutputConfig</h2><h3 id="nulloutputconfig-never_flush">never_flush (*bool, optional)</h3><p>The parameter for testing to simulate the output plugin that never succeeds to flush.</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-28f1e98e5b5c5f770fb8b2e592e1abf0">2 - Alibaba Cloud</h1><h1 id="aliyun-oss-plugin-for-fluentd">Aliyun OSS plugin for Fluentd</h1><h2 id="overview">Overview</h2><p><strong>Fluent OSS output plugin</strong> buffers event logs in local files and uploads them to OSS periodically in background threads.</p><p>This plugin splits events by using the timestamp of event logs. For example, a log &lsquo;2019-04-09 message Hello&rsquo; is reached, and then another log &lsquo;2019-04-10 message World&rsquo; is reached in this order, the former is stored in &ldquo;20190409.gz&rdquo; file, and latter in &ldquo;20190410.gz&rdquo; file.</p><p><strong>Fluent OSS input plugin</strong> reads data from OSS periodically.</p><p>This plugin uses MNS on the same region of the OSS bucket. We must setup MNS and OSS event notification before using this plugin.</p><p><a href="https://help.aliyun.com/document_detail/52656.html">This document</a> shows how to setup MNS and OSS event notification.</p><p>This plugin will poll events from MNS queue and extract object keys from these events, and then will read those objects from OSS. For details, see <a href="https://github.com/aliyun/fluent-plugin-oss">https://github.com/aliyun/fluent-plugin-oss</a>.</p><h2 id="configuration">Configuration</h2><h2 id="output-config">Output Config</h2><h3 id="output-config-access_key_id">access_key_id (*secret.Secret, required)</h3><p>Your access key id <a href="../secret/">Secret</a></p><h3 id="output-config-aaccess_key_secret">access_key_secret (*secret.Secret, required)</h3><p>Your access secret key <a href="../secret/">Secret</a></p><h3 id="output-config-auto_create_bucket">auto_create_bucket (bool, optional)</h3><p>desc &lsquo;Create OSS bucket if it does not exists</p><p>Default: false</p><h3 id="output-config-bucket">bucket (string, required)</h3><p>Your bucket name</p><h3 id="output-config-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="output-config-check_bucket">check_bucket (bool, optional)</h3><p>Check bucket if exists or not</p><p>Default: true</p><h3 id="output-config-check_object">check_object (bool, optional)</h3><p>Check object before creation</p><p>Default: true</p><h3 id="output-config-download_crc_enable">download_crc_enable (bool, optional)</h3><p>Download crc enabled</p><p>Default: true</p><h3 id="output-config-endpoint">endpoint (string, required)</h3><p>OSS endpoint to connect to&rsquo;</p><h3 id="output-config-format">format (*Format, optional)</h3><p><a href="../format/">Format</a></p><h3 id="output-config-hex_random_length">hex_random_length (int, optional)</h3><p>The length of <code>%{hex_random}</code> placeholder(4-16)</p><p>Default: 4</p><h3 id="output-config-index_format">index_format (string, optional)</h3><p><code>sprintf</code> format for <code>%{index}</code></p><p>Default: %d</p><h3 id="output-config-key_format">key_format (string, optional)</h3><p>The format of OSS object keys</p><p>Default: <code>%{path}/%{time_slice}_%{index}_%{thread_id}.%{file_extension}</code></p><h3 id="output-config-open_timeout">open_timeout (int, optional)</h3><p>Timeout for open connections</p><p>Default: 10</p><h3 id="output-config-oss_sdk_log_dir">oss_sdk_log_dir (string, optional)</h3><p>OSS SDK log directory</p><p>Default: /var/log/td-agent</p><h3 id="output-config-overwrite">overwrite (bool, optional)</h3><p>Overwrite already existing path</p><p>Default: false</p><h3 id="output-config-path">path (string, optional)</h3><p>Path prefix of the files on OSS</p><p>Default: fluent/logs</p><h3 id="output-config-read_timeout">read_timeout (int, optional)</h3><p>Timeout for read response</p><p>Default: 120</p><h3 id="output-config-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, Fluentd logs a warning message and increases the <code>fluentd_output_status_slow_flush_count</code> metric.</p><h3 id="output-config-store_as">store_as (string, optional)</h3><p>Archive format on OSS: gzip, json, text, lzo, lzma2</p><p>Default: gzip</p><h3 id="output-config-upload_crc_enable">upload_crc_enable (bool, optional)</h3><p>Upload crc enabled</p><p>Default: true</p><h3 id="output-config-warn_for_delay">warn_for_delay (string, optional)</h3><p>Given a threshold to treat events as delay, output warning logs if delayed events were put into OSS</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-aeea1cd1922e8ddddba7f377f910cc60">3 - Amazon CloudWatch</h1><h1 id="cloudwatch-output-plugin-for-fluentd">CloudWatch output plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>This plugin outputs logs or metrics to Amazon CloudWatch. For details, see <a href="https://github.com/fluent-plugins-nursery/fluent-plugin-cloudwatch-logs">https://github.com/fluent-plugins-nursery/fluent-plugin-cloudwatch-logs</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">cloudwatch</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">aws_key_id</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">valueFrom</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">secretKeyRef</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging-s3</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">awsAccessKeyId</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">aws_sec_key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">valueFrom</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">secretKeyRef</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging-s3</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">awsSecretAccessKey</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">log_group_name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">operator-log-group</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">log_stream_name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">operator-log-stream</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">region</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">us-east-1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#000">auto_create_stream true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">buffer</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">timekey</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">30s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">timekey_wait</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">30s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">timekey_use_utc</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="output-config">Output Config</h2><h3 id="output-config-auto_create_stream">auto_create_stream (bool, optional)</h3><p>Create log group and stream automatically.</p><p>Default: false</p><h3 id="output-config-aws_key_id">aws_key_id (*secret.Secret, optional)</h3><p>AWS access key id <a href="../secret/">Secret</a></p><h3 id="output-config-aws_instance_profile_credentials_retries">aws_instance_profile_credentials_retries (int, optional)</h3><p>Instance Profile Credentials call retries</p><p>Default: nil</p><h3 id="output-config-aws_sec_key">aws_sec_key (*secret.Secret, optional)</h3><p>AWS secret key. <a href="../secret/">Secret</a></p><h3 id="output-config-aws_sts_role_arn">aws_sts_role_arn (string, optional)</h3><p>The role ARN to assume when using cross-account sts authentication</p><h3 id="output-config-aws_sts_session_name">aws_sts_session_name (string, optional)</h3><p>The session name to use with sts authentication</p><p>Default: &lsquo;fluentd&rsquo;</p><h3 id="output-config-aws_use_sts">aws_use_sts (bool, optional)</h3><p>Enable AssumeRoleCredentials to authenticate, rather than the default credential hierarchy. See &lsquo;Cross-Account Operation&rsquo; below for more detail.</p><h3 id="output-config-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="output-config-concurrency">concurrency (int, optional)</h3><p>Use to set the number of threads pushing data to CloudWatch.</p><p>Default: 1</p><h3 id="output-config-endpoint">endpoint (string, optional)</h3><p>Use this parameter to connect to the local API endpoint (for testing)</p><h3 id="output-config-format">format (*Format, optional)</h3><p><a href="../format/">Format</a></p><h3 id="output-config-http_proxy">http_proxy (string, optional)</h3><p>Use to set an optional HTTP proxy</p><h3 id="output-config-include_time_key">include_time_key (bool, optional)</h3><p>Include time key as part of the log entry</p><p>Default: UTC</p><h3 id="output-config-json_handler">json_handler (string, optional)</h3><p>Name of the library to be used to handle JSON data. For now, supported libraries are json (default) and yaml</p><h3 id="output-config-localtime">localtime (bool, optional)</h3><p>Use localtime timezone for include_time_key output (overrides UTC default)</p><h3 id="output-config-log_group_aws_tags">log_group_aws_tags (string, optional)</h3><p>Set a hash with keys and values to tag the log group resource</p><h3 id="output-config-log_group_aws_tags_key">log_group_aws_tags_key (string, optional)</h3><p>Specified field of records as AWS tags for the log group</p><h3 id="output-config-log_group_name">log_group_name (string, optional)</h3><p>Name of log group to store logs</p><h3 id="output-config-log_group_name_key">log_group_name_key (string, optional)</h3><p>Specified field of records as log group name</p><h3 id="output-config-log_rejected_request">log_rejected_request (string, optional)</h3><p>Output rejected_log_events_info request log.</p><p>Default: false</p><h3 id="output-config-log_stream_name">log_stream_name (string, optional)</h3><p>Name of log stream to store logs</p><h3 id="output-config-log_stream_name_key">log_stream_name_key (string, optional)</h3><p>Specified field of records as log stream name</p><h3 id="output-config-max_events_per_batch">max_events_per_batch (int, optional)</h3><p>Maximum number of events to send at once</p><p>Default: 10000</p><h3 id="output-config-max_message_length">max_message_length (int, optional)</h3><p>Maximum length of the message</p><h3 id="output-config-message_keys">message_keys (string, optional)</h3><p>Keys to send messages as events</p><h3 id="output-config-put_log_events_disable_retry_limit">put_log_events_disable_retry_limit (bool, optional)</h3><p>If true, put_log_events_retry_limit will be ignored</p><h3 id="output-config-put_log_events_retry_limit">put_log_events_retry_limit (int, optional)</h3><p>Maximum count of retry (if exceeding this, the events will be discarded)</p><h3 id="output-config-put_log_events_retry_wait">put_log_events_retry_wait (string, optional)</h3><p>Time before retrying PutLogEvents (retry interval increases exponentially like put_log_events_retry_wait * (2 ^ retry_count))</p><h3 id="output-config-region">region (string, required)</h3><p>AWS Region</p><h3 id="output-config-remove_log_group_aws_tags_key">remove_log_group_aws_tags_key (string, optional)</h3><p>Remove field specified by log_group_aws_tags_key</p><h3 id="output-config-remove_log_group_name_key">remove_log_group_name_key (string, optional)</h3><p>Remove field specified by log_group_name_key</p><h3 id="output-config-remove_log_stream_name_key">remove_log_stream_name_key (string, optional)</h3><p>Remove field specified by log_stream_name_key</p><h3 id="output-config-remove_retention_in_days">remove_retention_in_days (string, optional)</h3><p>Remove field specified by retention_in_days</p><h3 id="output-config-retention_in_days">retention_in_days (string, optional)</h3><p>Use to set the expiry time for log group when created with auto_create_stream. (default to no expiry)</p><h3 id="output-config-retention_in_days_key">retention_in_days_key (string, optional)</h3><p>Use specified field of records as retention period</p><h3 id="output-config-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p><h3 id="output-config-use_tag_as_group">use_tag_as_group (bool, optional)</h3><p>Use tag as a group name</p><h3 id="output-config-use_tag_as_stream">use_tag_as_stream (bool, optional)</h3><p>Use tag as a stream name</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-2b59c5fb4b2ccfdb47e90229617f245a">4 - Amazon Elasticsearch</h1><h1 id="amazon-elasticsearch-output-plugin-for-fluentd">Amazon Elasticsearch output plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>For details, see <a href="https://github.com/atomita/fluent-plugin-aws-elasticsearch-service">https://github.com/atomita/fluent-plugin-aws-elasticsearch-service</a></p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">awsElasticsearch</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">logstash_format</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">include_tag_key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">tag_key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;@log_name&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">flush_interval</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">1s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">endpoint</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">url</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">https://CLUSTER_ENDPOINT_URL</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">region</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">eu-west-1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">access_key_id</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">value</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">aws-key</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">secret_access_key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">value</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">aws_secret</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="amazon-elasticsearch">Amazon Elasticsearch</h2><p>Send your logs to a Amazon Elasticsearch Service</p><h3 id="amazon-elasticsearch-">(*ElasticsearchOutput, optional)</h3><p>ElasticSearch</p><h3 id="amazon-elasticsearch-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="amazon-elasticsearch-endpoint">endpoint (*EndpointCredentials, optional)</h3><p>AWS Endpoint Credentials</p><h3 id="amazon-elasticsearch-flush_interval">flush_interval (string, optional)</h3><p>flush_interval</p><h3 id="amazon-elasticsearch-format">format (*Format, optional)</h3><p><a href="../format/">Format</a></p><h2 id="endpoint-credentials">Endpoint Credentials</h2><p>endpoint</p><h3 id="endpoint-credentials-access_key_id">access_key_id (*secret.Secret, optional)</h3><p>AWS access key id. This parameter is required when your agent is not running on EC2 instance with an IAM Role.</p><h3 id="endpoint-credentials-assume_role_arn">assume_role_arn (*secret.Secret, optional)</h3><p>Typically, you can use AssumeRole for cross-account access or federation.</p><h3 id="endpoint-credentials-assume_role_session_name">assume_role_session_name (*secret.Secret, optional)</h3><p>AssumeRoleWithWebIdentity <a href="https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithWebIdentity.html">https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithWebIdentity.html</a></p><h3 id="endpoint-credentials-assume_role_web_identity_token_file">assume_role_web_identity_token_file (*secret.Secret, optional)</h3><p>AssumeRoleWithWebIdentity <a href="https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithWebIdentity.html">https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithWebIdentity.html</a></p><h3 id="endpoint-credentials-ecs_container_credentials_relative_uri">ecs_container_credentials_relative_uri (*secret.Secret, optional)</h3><p>Set with AWS_CONTAINER_CREDENTIALS_RELATIVE_URI environment variable value</p><h3 id="endpoint-credentials-region">region (string, optional)</h3><p>AWS region. It should be in form like us-east-1, us-west-2. Default nil, which means try to find from environment variable AWS_REGION.</p><h3 id="endpoint-credentials-secret_access_key">secret_access_key (*secret.Secret, optional)</h3><p>AWS secret key. This parameter is required when your agent is not running on EC2 instance with an IAM Role.</p><h3 id="endpoint-credentials-sts_credentials_region">sts_credentials_region (*secret.Secret, optional)</h3><p>By default, the AWS Security Token Service (AWS STS) is available as a global service, and all AWS STS requests go to a single endpoint at <a href="https://sts.amazonaws.com">https://sts.amazonaws.com</a>. AWS recommends using Regional AWS STS endpoints instead of the global endpoint to reduce latency, build in redundancy, and increase session token validity. <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_enable-regions.html">https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_enable-regions.html</a></p><h3 id="endpoint-credentials-url">url (string, optional)</h3><p>AWS connection url.</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-dec03311d9f65d4bec85b8a63c46e105">5 - Amazon Kinesis</h1><h1 id="kinesis-firehose-output-plugin-for-fluentd">Kinesis Firehose output plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>For details, see <a href="https://github.com/awslabs/aws-fluent-plugin-kinesis#configuration-kinesis_firehose">https://github.com/awslabs/aws-fluent-plugin-kinesis#configuration-kinesis_firehose</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">kinesisFirehose</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">delivery_stream_name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">example-stream-name</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">region</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">us-east-1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">format</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">type</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">json</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="kinesisfirehose">KinesisFirehose</h2><p>Send your logs to a Kinesis Firehose</p><h3 id="kinesisfirehose-aws_iam_retries">aws_iam_retries (int, optional)</h3><p>The number of attempts to make (with exponential backoff) when loading instance profile credentials from the EC2 metadata service using an IAM role. Defaults to 5 retries.</p><h3 id="kinesisfirehose-aws_key_id">aws_key_id (*secret.Secret, optional)</h3><p>AWS access key id. This parameter is required when your agent is not running on EC2 instance with an IAM Role.</p><h3 id="kinesisfirehose-aws_sec_key">aws_sec_key (*secret.Secret, optional)</h3><p>AWS secret key. This parameter is required when your agent is not running on EC2 instance with an IAM Role.</p><h3 id="kinesisfirehose-aws_ses_token">aws_ses_token (*secret.Secret, optional)</h3><p>AWS session token. This parameter is optional, but can be provided if using MFA or temporary credentials when your agent is not running on EC2 instance with an IAM Role.</p><h3 id="kinesisfirehose-append_new_line">append_new_line (*bool, optional)</h3><p>If it is enabled, the plugin adds new line character (\n) to each serialized record. Before appending \n, plugin calls chomp and removes separator from the end of each record as chomp_record is true. Therefore, you don&rsquo;t need to enable chomp_record option when you use kinesis_firehose output with default configuration (append_new_line is true). If you want to set append_new_line false, you can choose chomp_record false (default) or true (compatible format with plugin v2). (Default:true)</p><h3 id="kinesisfirehose-assume_role_credentials">assume_role_credentials (*KinesisFirehoseAssumeRoleCredentials, optional)</h3><p>Typically, you can use AssumeRole for cross-account access or federation.</p><h3 id="kinesisfirehose-batch_request_max_count">batch_request_max_count (int, optional)</h3><p>Integer, default 500. The number of max count of making batch request from record chunk. It can&rsquo;t exceed the default value because it&rsquo;s API limit.</p><h3 id="kinesisfirehose-batch_request_max_size">batch_request_max_size (int, optional)</h3><p>Integer. The number of max size of making batch request from record chunk. It can&rsquo;t exceed the default value because it&rsquo;s API limit.</p><h3 id="kinesisfirehose-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="kinesisfirehose-delivery_stream_name">delivery_stream_name (string, required)</h3><p>Name of the delivery stream to put data.</p><h3 id="kinesisfirehose-format">format (*Format, optional)</h3><p><a href="../format/">Format</a></p><h3 id="kinesisfirehose-process_credentials">process_credentials (*KinesisFirehoseProcessCredentials, optional)</h3><p>This loads AWS access credentials from an external process.</p><h3 id="kinesisfirehose-region">region (string, optional)</h3><p>AWS region of your stream. It should be in form like us-east-1, us-west-2. Default nil, which means try to find from environment variable AWS_REGION.</p><h3 id="kinesisfirehose-reset_backoff_if_success">reset_backoff_if_success (bool, optional)</h3><p>Boolean, default true. If enabled, when after retrying, the next retrying checks the number of succeeded records on the former batch request and reset exponential backoff if there is any success. Because batch request could be composed by requests across shards, simple exponential backoff for the batch request wouldn&rsquo;t work some cases.</p><h3 id="kinesisfirehose-retries_on_batch_request">retries_on_batch_request (int, optional)</h3><p>The plugin will put multiple records to Amazon Kinesis Data Streams in batches using PutRecords. A set of records in a batch may fail for reasons documented in the Kinesis Service API Reference for PutRecords. Failed records will be retried retries_on_batch_request times</p><h3 id="kinesisfirehose-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p><h2 id="assume-role-credentials">Assume Role Credentials</h2><p>assume_role_credentials</p><h3 id="assume-role-credentials-duration_seconds">duration_seconds (string, optional)</h3><p>The duration, in seconds, of the role session (900-3600)</p><h3 id="assume-role-credentials-external_id">external_id (string, optional)</h3><p>A unique identifier that is used by third parties when assuming roles in their customers&rsquo; accounts.</p><h3 id="assume-role-credentials-policy">policy (string, optional)</h3><p>An IAM policy in JSON format</p><h3 id="role_arn-string-required-assume-role-credentials-role_arn">role_arn (string, required) {#assume role credentials-role_arn}</h3><p>The Amazon Resource Name (ARN) of the role to assume</p><h3 id="assume-role-credentials-role_session_name">role_session_name (string, required)</h3><p>An identifier for the assumed role session</p><h2 id="process-credentials">Process Credentials</h2><p>process_credentials</p><h3 id="process-credentials-process">process (string, required)</h3><p>Command more info: <a href="https://docs.aws.amazon.com/sdk-for-ruby/v3/api/Aws/ProcessCredentials.html">https://docs.aws.amazon.com/sdk-for-ruby/v3/api/Aws/ProcessCredentials.html</a></p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-0309d186051d45cea94e4ea4a3d95907">6 - Amazon Kinesis</h1><h1 id="kinesis-stream-output-plugin-for-fluentd">Kinesis Stream output plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>For details, see <a href="https://github.com/awslabs/aws-fluent-plugin-kinesis#configuration-kinesis_streams">https://github.com/awslabs/aws-fluent-plugin-kinesis#configuration-kinesis_streams</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">kinesisStream</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">stream_name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">example-stream-name</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">region</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">us-east-1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">format</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">type</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">json</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="kinesisstream">KinesisStream</h2><p>Send your logs to a Kinesis Stream</p><h3 id="kinesisstream-aws_iam_retries">aws_iam_retries (int, optional)</h3><p>The number of attempts to make (with exponential backoff) when loading instance profile credentials from the EC2 metadata service using an IAM role. Defaults to 5 retries.</p><h3 id="kinesisstream-aws_key_id">aws_key_id (*secret.Secret, optional)</h3><p>AWS access key id. This parameter is required when your agent is not running on EC2 instance with an IAM Role.</p><h3 id="kinesisstream-aws_sec_key">aws_sec_key (*secret.Secret, optional)</h3><p>AWS secret key. This parameter is required when your agent is not running on EC2 instance with an IAM Role.</p><h3 id="kinesisstream-aws_ses_token">aws_ses_token (*secret.Secret, optional)</h3><p>AWS session token. This parameter is optional, but can be provided if using MFA or temporary credentials when your agent is not running on EC2 instance with an IAM Role.</p><h3 id="kinesisstream-assume_role_credentials">assume_role_credentials (*KinesisStreamAssumeRoleCredentials, optional)</h3><p>Typically, you can use AssumeRole for cross-account access or federation.</p><h3 id="kinesisstream-batch_request_max_count">batch_request_max_count (int, optional)</h3><p>Integer, default 500. The number of max count of making batch request from record chunk. It can&rsquo;t exceed the default value because it&rsquo;s API limit.</p><h3 id="kinesisstream-batch_request_max_size">batch_request_max_size (int, optional)</h3><p>Integer. The number of max size of making batch request from record chunk. It can&rsquo;t exceed the default value because it&rsquo;s API limit.</p><h3 id="kinesisstream-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="kinesisstream-format">format (*Format, optional)</h3><p><a href="../format/">Format</a></p><h3 id="kinesisstream-partition_key">partition_key (string, optional)</h3><p>A key to extract partition key from JSON object. Default nil, which means partition key will be generated randomly.</p><h3 id="kinesisstream-process_credentials">process_credentials (*KinesisStreamProcessCredentials, optional)</h3><p>This loads AWS access credentials from an external process.</p><h3 id="kinesisstream-region">region (string, optional)</h3><p>AWS region of your stream. It should be in form like us-east-1, us-west-2. Default nil, which means try to find from environment variable AWS_REGION.</p><h3 id="kinesisstream-reset_backoff_if_success">reset_backoff_if_success (bool, optional)</h3><p>Boolean, default true. If enabled, when after retrying, the next retrying checks the number of succeeded records on the former batch request and reset exponential backoff if there is any success. Because batch request could be composed by requests across shards, simple exponential backoff for the batch request wouldn&rsquo;t work some cases.</p><h3 id="kinesisstream-retries_on_batch_request">retries_on_batch_request (int, optional)</h3><p>The plugin will put multiple records to Amazon Kinesis Data Streams in batches using PutRecords. A set of records in a batch may fail for reasons documented in the Kinesis Service API Reference for PutRecords. Failed records will be retried retries_on_batch_request times</p><h3 id="kinesisstream-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p><h3 id="kinesisstream-stream_name">stream_name (string, required)</h3><p>Name of the stream to put data.</p><h2 id="assume-role-credentials">Assume Role Credentials</h2><p>assume_role_credentials</p><h3 id="assume-role-credentials-duration_seconds">duration_seconds (string, optional)</h3><p>The duration, in seconds, of the role session (900-3600)</p><h3 id="assume-role-credentials-external_id">external_id (string, optional)</h3><p>A unique identifier that is used by third parties when assuming roles in their customers&rsquo; accounts.</p><h3 id="assume-role-credentials-policy">policy (string, optional)</h3><p>An IAM policy in JSON format</p><h3 id="assume-role-credentials-role_arn">role_arn (string, required)</h3><p>The Amazon Resource Name (ARN) of the role to assume</p><h3 id="assume-role-credentials-role_session_name">role_session_name (string, required)</h3><p>An identifier for the assumed role session</p><h2 id="process-credentials">Process Credentials</h2><p>process_credentials</p><h3 id="process-credentials-process">process (string, required)</h3><p>Command more info: <a href="https://docs.aws.amazon.com/sdk-for-ruby/v3/api/Aws/ProcessCredentials.html">https://docs.aws.amazon.com/sdk-for-ruby/v3/api/Aws/ProcessCredentials.html</a></p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-f6b80b815b14c83b2fe835b820aa13d0">7 - Amazon S3</h1><h1 id="amazon-s3-plugin-for-fluentd">Amazon S3 plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>The <strong>s3</strong> output plugin buffers event logs in local file and upload it to S3 periodically. This plugin splits files exactly by using the time of event logs (not the time when the logs are received). For example, a log &lsquo;2011-01-02 message B&rsquo; is reached, and then another log &lsquo;2011-01-03 message B&rsquo; is reached in this order, the former one is stored in &ldquo;20110102.gz&rdquo; file, and latter one in &ldquo;20110103.gz&rdquo; file.</p><p>For a detailed example, see <a href="../../../../quickstarts/example-s3/">S3 Output Deployment</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">s3</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">aws_key_id</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">valueFrom</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">secretKeyRef</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging-s3</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">awsAccessKeyId</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">aws_sec_key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">valueFrom</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">secretKeyRef</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging-s3</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">awsSecretAccessKey</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">s3_bucket</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging-amazon-s3</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">s3_region</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">eu-central-1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">path</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logs/${tag}/%Y/%m/%d/</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">buffer</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">10m</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_wait</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">30s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_use_utc</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="output-config">Output Config</h2><h3 id="output-config-acl">acl (string, optional)</h3><p>Permission for the object in S3</p><h3 id="output-config-assume_role_credentials">assume_role_credentials (*S3AssumeRoleCredentials, optional)</h3><p><a href="#assume-role-credentials">Assume Role Credentials</a></p><h3 id="output-config-auto_create_bucket">auto_create_bucket (string, optional)</h3><p>Create S3 bucket if it does not exists</p><h3 id="aws_key_id-secretsecret-optional-output-config-aws_key_id">aws_key_id (*secret.Secret, optional) {#output config-aws_key_id}</h3><p>AWS access key id <a href="../secret/">Secret</a></p><h3 id="output-config-aws_iam_retries">aws_iam_retries (string, optional)</h3><p>The number of attempts to load instance profile credentials from the EC2 metadata service using IAM role</p><h3 id="output-config-aws_sec_key">aws_sec_key (*secret.Secret, optional)</h3><p>AWS secret key. <a href="../secret/">Secret</a></p><h3 id="output-config-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="output-config-check_apikey_on_start">check_apikey_on_start (string, optional)</h3><p>Check AWS key on start</p><h3 id="output-config-check_bucket">check_bucket (string, optional)</h3><p>Check bucket if exists or not</p><h3 id="output-config-check_object">check_object (string, optional)</h3><p>Check object before creation</p><h3 id="output-config-clustername">clustername (string, optional)</h3><p>Custom cluster name</p><p>Default: one-eye</p><h3 id="output-config-compress">compress (*Compress, optional)</h3><p>Parquet compressor</p><h3 id="output-config-compute_checksums">compute_checksums (string, optional)</h3><p>AWS SDK uses MD5 for API request/response by default</p><h3 id="output-config-enable_transfer_acceleration">enable_transfer_acceleration (string, optional)</h3><p>If true, S3 Transfer Acceleration will be enabled for uploads. IMPORTANT: You must first enable this feature on your destination S3 bucket</p><h3 id="output-config-force_path_style">force_path_style (string, optional)</h3><p>If true, the bucket name is always left in the request URI and never moved to the host as a sub-domain</p><h3 id="output-config-format">format (*Format, optional)</h3><p><a href="../format/">Format</a></p><h3 id="output-config-grant_full_control">grant_full_control (string, optional)</h3><p>Allows grantee READ, READ_ACP, and WRITE_ACP permissions on the object</p><h3 id="output-config-grant_read">grant_read (string, optional)</h3><p>Allows grantee to read the object data and its metadata</p><h3 id="output-config-grant_read_acp">grant_read_acp (string, optional)</h3><p>Allows grantee to read the object ACL</p><h3 id="output-config-grant_write_acp">grant_write_acp (string, optional)</h3><p>Allows grantee to write the ACL for the applicable object</p><h3 id="output-config-hex_random_length">hex_random_length (string, optional)</h3><p>The length of <code>%{hex_random}</code> placeholder(4-16)</p><h3 id="output-config-index_format">index_format (string, optional)</h3><p><code>sprintf</code> format for <code>%{index}</code></p><h3 id="output-config-instance_profile_credentials">instance_profile_credentials (*S3InstanceProfileCredentials, optional)</h3><p><a href="#instance-profile-credentials">Instance Profile Credentials</a></p><h3 id="output-config-oneeye_format">oneeye_format (bool, optional)</h3><p>One-eye format trigger</p><p>Default: false</p><h3 id="output-config-overwrite">overwrite (string, optional)</h3><p>Overwrite already existing path</p><h3 id="output-config-path">path (string, optional)</h3><p>Path prefix of the files on S3</p><h3 id="output-config-proxy_uri">proxy_uri (string, optional)</h3><p>URI of proxy environment</p><h3 id="output-config-s3_bucket">s3_bucket (string, required)</h3><p>S3 bucket name</p><h3 id="output-config-s3_endpoint">s3_endpoint (string, optional)</h3><p>Custom S3 endpoint (like minio)</p><h3 id="output-config-s3_metadata">s3_metadata (string, optional)</h3><p>Arbitrary S3 metadata headers to set for the object</p><h3 id="output-config-s3_object_key_format">s3_object_key_format (string, optional)</h3><p>The format of S3 object keys (default: <code>%{path}%{time_slice}_%{uuid_hash}_%{index}.%{file_extension}</code>)</p><p>Default: %{path}%{time_slice}<em>%{uuid_hash}</em>%{index}.%{file_extension}</p><h3 id="output-config-s3_region">s3_region (string, optional)</h3><p>S3 region name</p><h3 id="output-config-shared_credentials">shared_credentials (*S3SharedCredentials, optional)</h3><p><a href="#shared-credentials">Shared Credentials</a></p><h3 id="output-config-signature_version">signature_version (string, optional)</h3><p>Signature version for API Request (s3,v4)</p><h3 id="output-config-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p><h3 id="output-config-sse_customer_algorithm">sse_customer_algorithm (string, optional)</h3><p>Specifies the algorithm to use to when encrypting the object</p><h3 id="output-config-sse_customer_key">sse_customer_key (string, optional)</h3><p>Specifies the customer-provided encryption key for Amazon S3 to use in encrypting data</p><h3 id="output-config-sse_customer_key_md5">sse_customer_key_md5 (string, optional)</h3><p>Specifies the 128-bit MD5 digest of the encryption key according to RFC 1321</p><h3 id="ssekms_key_id-string-optional-output-config-ssekms_key_id">ssekms_key_id (string, optional) {#output config-ssekms_key_id}</h3><p>Specifies the AWS KMS key ID to use for object encryption</p><h3 id="ssl_verify_peer-string-optional-output-config-ssl_verify_peer">ssl_verify_peer (string, optional) {#output config-ssl_verify_peer}</h3><p>If false, the certificate of endpoint will not be verified</p><h3 id="output-config-storage_class">storage_class (string, optional)</h3><p>The type of storage to use for the object, for example STANDARD, REDUCED_REDUNDANCY, STANDARD_IA, ONEZONE_IA, INTELLIGENT_TIERING, GLACIER, DEEP_ARCHIVE, OUTPOSTS, GLACIER_IR For a complete list of possible values, see the <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html#AmazonS3-PutObject-request-header-StorageClass">Amazon S3 API reference</a>.</p><h3 id="output-config-store_as">store_as (string, optional)</h3><p>Archive format on S3</p><h3 id="output-config-use_bundled_cert">use_bundled_cert (string, optional)</h3><p>Use aws-sdk-ruby bundled cert</p><h3 id="output-config-use_server_side_encryption">use_server_side_encryption (string, optional)</h3><p>The Server-side encryption algorithm used when storing this object in S3 (AES256, aws:kms)</p><h3 id="output-config-warn_for_delay">warn_for_delay (string, optional)</h3><p>Given a threshold to treat events as delay, output warning logs if delayed events were put into s3</p><h2 id="assume-role-credentials">Assume Role Credentials</h2><p>assume_role_credentials</p><h3 id="duration_seconds-string-optional-assume-role-credentials-duration_seconds">duration_seconds (string, optional) {#assume role-credentials-duration_seconds}</h3><p>The duration, in seconds, of the role session (900-3600)</p><h3 id="external_id-string-optional-assume-role-credentials-external_id">external_id (string, optional) {#assume role-credentials-external_id}</h3><p>A unique identifier that is used by third parties when assuming roles in their customers&rsquo; accounts.</p><h3 id="policy-string-optional-assume-role-credentials-policy">policy (string, optional) {#assume role-credentials-policy}</h3><p>An IAM policy in JSON format</p><h3 id="role_arn-string-required-assume-role-credentials-role_arn">role_arn (string, required) {#assume role-credentials-role_arn}</h3><p>The Amazon Resource Name (ARN) of the role to assume</p><h3 id="role_session_name-string-required-assume-role-credentials-role_session_name">role_session_name (string, required) {#assume role-credentials-role_session_name}</h3><p>An identifier for the assumed role session</p><h2 id="instance-profile-credentials">Instance Profile Credentials</h2><p>instance_profile_credentials</p><h3 id="http_open_timeout-string-optional-instance-profile-credentials-http_open_timeout">http_open_timeout (string, optional) {#instance profile-credentials-http_open_timeout}</h3><p>Number of seconds to wait for the connection to open</p><h3 id="http_read_timeout-string-optional-instance-profile-credentials-http_read_timeout">http_read_timeout (string, optional) {#instance profile-credentials-http_read_timeout}</h3><p>Number of seconds to wait for one block to be read</p><h3 id="ip_address-string-optional-instance-profile-credentials-ip_address">ip_address (string, optional) {#instance profile-credentials-ip_address}</h3><p>IP address</p><p>Default: 169.254.169.254</p><h3 id="port-string-optional-instance-profile-credentials-port">port (string, optional) {#instance profile-credentials-port}</h3><p>Port number</p><p>Default: 80</p><h3 id="retries-string-optional-instance-profile-credentials-retries">retries (string, optional) {#instance profile-credentials-retries}</h3><p>Number of times to retry when retrieving credentials</p><h2 id="shared-credentials">Shared Credentials</h2><p>shared_credentials</p><h3 id="shared-credentials-path">path (string, optional)</h3><p>Path to the shared file.</p><p>Default: $HOME/.aws/credentials</p><h3 id="shared-credentials-profile_name">profile_name (string, optional)</h3><p>Profile name. Default to &lsquo;default&rsquo; or ENV[&lsquo;AWS_PROFILE&rsquo;]</p><h2 id="parquet-compressor">Parquet compressor</h2><p>parquet compressor</p><h3 id="parquet-compressor-parquet_compression_codec">parquet_compression_codec (string, optional)</h3><p>Parquet compression codec. (uncompressed, snappy, gzip, lzo, brotli, lz4, zstd)</p><p>Default: snappy</p><h3 id="parquet-compressor-parquet_page_size">parquet_page_size (string, optional)</h3><p>Parquet file page size.</p><p>Default: 8192 bytes</p><h3 id="parquet-compressor-parquet_row_group_size">parquet_row_group_size (string, optional)</h3><p>Parquet file row group size.</p><p>Default: 128 MB</p><h3 id="parquet-compressor-record_type">record_type (string, optional)</h3><p>Record data format type. (avro csv jsonl msgpack tsv msgpack json)</p><p>Default: msgpack</p><h3 id="parquet-compressor-schema_file">schema_file (string, optional)</h3><p>Path to schema file.</p><h3 id="parquet-compressor-schema_type">schema_type (string, optional)</h3><p>Schema type. (avro, bigquery)</p><p>Default: avro</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-3fa3b93039c08434aba115eb9ab22b12">8 - Azure Storage</h1><h1 id="azure-storage-output-plugin-for-fluentd">Azure Storage output plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>Azure Storage output plugin buffers logs in local file and upload them to Azure Storage periodically.
More info at <a href="https://github.com/microsoft/fluent-plugin-azure-storage-append-blob">https://github.com/microsoft/fluent-plugin-azure-storage-append-blob</a></p><h2 id="configuration">Configuration</h2><h2 id="output-config">Output Config</h2><h3 id="output-config-auto_create_container">auto_create_container (bool, optional)</h3><p>Automatically create container if not exists</p><p>Default: true</p><h3 id="output-config-azure_cloud">azure_cloud (string, optional)</h3><p>Available in Logging operator version 4.5 and later. Azure Cloud to use, for example, AzurePublicCloud, AzureChinaCloud, AzureGermanCloud, AzureUSGovernmentCloud, AZURESTACKCLOUD (in uppercase). This field is supported only if the fluentd plugin honors it, for example, <a href="https://github.com/elsesiy/fluent-plugin-azure-storage-append-blob-lts">https://github.com/elsesiy/fluent-plugin-azure-storage-append-blob-lts</a></p><h3 id="output-config-azure_container">azure_container (string, required)</h3><p>Your azure storage container</p><h3 id="output-config-azure_imds_api_version">azure_imds_api_version (string, optional)</h3><p>Azure Instance Metadata Service API Version</p><h3 id="output-config-azure_object_key_format">azure_object_key_format (string, optional)</h3><p>Object key format</p><p>Default: %{path}%{time_slice}_%{index}.%{file_extension}</p><h3 id="output-config-azure_storage_access_key">azure_storage_access_key (*secret.Secret, optional)</h3><p>Your azure storage access key <a href="../secret/">Secret</a></p><h3 id="output-config-azure_storage_account">azure_storage_account (*secret.Secret, required)</h3><p>Your azure storage account <a href="../secret/">Secret</a></p><h3 id="output-config-azure_storage_sas_token">azure_storage_sas_token (*secret.Secret, optional)</h3><p>Your azure storage sas token <a href="../secret/">Secret</a></p><h3 id="output-config-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="output-config-format">format (string, optional)</h3><p>Compat format type: out_file, json, ltsv (default: out_file)</p><p>Default: json</p><h3 id="output-config-path">path (string, optional)</h3><p>Path prefix of the files on Azure</p><h3 id="output-config-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-67bcee478125d9574288135a71954591">9 - Buffer</h1><h2 id="buffer">Buffer</h2><h3 id="buffer-chunk_full_threshold">chunk_full_threshold (string, optional)</h3><p>The percentage of chunk size threshold for flushing. output plugin will flush the chunk when actual size reaches chunk_limit_size * chunk_full_threshold (== 8MB * 0.95 in default)</p><h3 id="buffer-chunk_limit_records">chunk_limit_records (int, optional)</h3><p>The max number of events that each chunks can store in it</p><h3 id="buffer-chunk_limit_size">chunk_limit_size (string, optional)</h3><p>The max size of each chunks: events will be written into chunks until the size of chunks become this size</p><p>Default: 8MB</p><h3 id="buffer-compress">compress (string, optional)</h3><p>If you set this option to gzip, you can get Fluentd to compress data records before writing to buffer chunks.</p><h3 id="buffer-delayed_commit_timeout">delayed_commit_timeout (string, optional)</h3><p>The timeout seconds until output plugin decides that async write operation fails</p><h3 id="buffer-disable_chunk_backup">disable_chunk_backup (bool, optional)</h3><p>Instead of storing unrecoverable chunks in the backup directory, just discard them. This option is new in Fluentd v1.2.6.</p><h3 id="buffer-disabled">disabled (bool, optional)</h3><p>Disable buffer section (default: false)</p><p>Default: false,hidden</p><h3 id="buffer-flush_at_shutdown">flush_at_shutdown (bool, optional)</h3><p>The value to specify to flush/write all buffer chunks at shutdown, or not</p><h3 id="buffer-flush_interval">flush_interval (string, optional)</h3><p>Default: 60s</p><h3 id="buffer-flush_mode">flush_mode (string, optional)</h3><p>Default: default (equals to lazy if time is specified as chunk key, interval otherwise) lazy: flush/write chunks once per timekey interval: flush/write chunks per specified time via flush_interval immediate: flush/write chunks immediately after events are appended into chunks</p><h3 id="buffer-flush_thread_burst_interval">flush_thread_burst_interval (string, optional)</h3><p>The sleep interval seconds of threads between flushes when output plugin flushes waiting chunks next to next</p><h3 id="buffer-flush_thread_count">flush_thread_count (int, optional)</h3><p>The number of threads of output plugins, which is used to write chunks in parallel</p><h3 id="buffer-flush_thread_interval">flush_thread_interval (string, optional)</h3><p>The sleep interval seconds of threads to wait next flush trial (when no chunks are waiting)</p><h3 id="buffer-overflow_action">overflow_action (string, optional)</h3><p>How output plugin behaves when its buffer queue is full throw_exception: raise exception to show this error in log block: block processing of input plugin to emit events into that buffer drop_oldest_chunk: drop/purge oldest chunk to accept newly incoming chunk</p><h3 id="buffer-path">path (string, optional)</h3><p>The path where buffer chunks are stored. The &lsquo;*&rsquo; is replaced with random characters. It&rsquo;s highly recommended to leave this default.</p><p>Default: operator generated</p><h3 id="buffer-queue_limit_length">queue_limit_length (int, optional)</h3><p>The queue length limitation of this buffer plugin instance</p><h3 id="buffer-queued_chunks_limit_size">queued_chunks_limit_size (int, optional)</h3><p>Limit the number of queued chunks. If you set smaller flush_interval, e.g. 1s, there are lots of small queued chunks in buffer. This is not good with file buffer because it consumes lots of fd resources when output destination has a problem. This parameter mitigates such situations.</p><h3 id="buffer-retry_exponential_backoff_base">retry_exponential_backoff_base (string, optional)</h3><p>The base number of exponential backoff for retries</p><h3 id="buffer-retry_forever">retry_forever (*bool, optional)</h3><p>If true, plugin will ignore retry_timeout and retry_max_times options and retry flushing forever</p><p>Default: true</p><h3 id="buffer-retry_max_interval">retry_max_interval (string, optional)</h3><p>The maximum interval seconds for exponential backoff between retries while failing</p><h3 id="buffer-retry_max_times">retry_max_times (int, optional)</h3><p>The maximum number of times to retry to flush while failing</p><h3 id="buffer-retry_randomize">retry_randomize (bool, optional)</h3><p>If true, output plugin will retry after randomized interval not to do burst retries</p><h3 id="buffer-retry_secondary_threshold">retry_secondary_threshold (string, optional)</h3><p>The ratio of retry_timeout to switch to use secondary while failing (Maximum valid value is 1.0)</p><h3 id="buffer-retry_timeout">retry_timeout (string, optional)</h3><p>The maximum seconds to retry to flush while failing, until plugin discards buffer chunks</p><h3 id="buffer-retry_type">retry_type (string, optional)</h3><p>exponential_backoff: wait seconds will become large exponentially per failures periodic: output plugin will retry periodically with fixed intervals (configured via retry_wait)</p><h3 id="buffer-retry_wait">retry_wait (string, optional)</h3><p>Seconds to wait before next retry to flush, or constant factor of exponential backoff</p><h3 id="buffer-tags">tags (*string, optional)</h3><p>When tag is specified as buffer chunk key, output plugin writes events into chunks separately per tags.</p><p>Default: tag,time</p><h3 id="buffer-timekey">timekey (string, required)</h3><p>Output plugin will flush chunks per specified time (enabled when time is specified in chunk keys)</p><p>Default: 10m</p><h3 id="buffer-timekey_use_utc">timekey_use_utc (bool, optional)</h3><p>Output plugin decides to use UTC or not to format placeholders using timekey</p><h3 id="buffer-timekey_wait">timekey_wait (string, optional)</h3><p>Output plugin writes chunks after timekey_wait seconds later after timekey expiration</p><p>Default: 1m</p><h3 id="buffer-timekey_zone">timekey_zone (string, optional)</h3><p>The timezone (-0700 or Asia/Tokyo) string for formatting timekey placeholders</p><h3 id="buffer-total_limit_size">total_limit_size (string, optional)</h3><p>The size limitation of this buffer plugin instance. Once the total size of stored buffer reached this threshold, all append operations will fail with error (and data will be lost)</p><h3 id="buffer-type">type (string, optional)</h3><p>Fluentd core bundles memory and file plugins. 3rd party plugins are also available when installed.</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-cfa15a5d894da7ae0606dc5571b76531">10 - Datadog</h1><h1 id="datadog-output-plugin-for-fluentd">Datadog output plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>It mainly contains a proper JSON formatter and a socket handler that streams logs directly to Datadog - so no need to use a log shipper if you don&rsquo;t want to.
For details, see <a href="https://github.com/DataDog/fluent-plugin-datadog">https://github.com/DataDog/fluent-plugin-datadog</a>.</p><h2 id="example">Example</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">datadog</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">api_key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">value</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#39;&lt;YOUR_API_KEY&gt;&#39;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#8f5902;font-style:italic"># For referencing a secret, see https://kube-logging.dev/docs/configuration/plugins/outputs/secret/</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">dd_source</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#39;&lt;INTEGRATION_NAME&gt;&#39;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">dd_tags</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#39;&lt;KEY1:VALUE1&gt;,&lt;KEY2:VALUE2&gt;&#39;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">dd_sourcecategory</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#39;&lt;YOUR_SOURCE_CATEGORY&gt;&#39;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="output-config">Output Config</h2><h3 id="output-config-api_key">api_key (*secret.Secret, required)</h3><p>This parameter is required in order to authenticate your fluent agent.</p><p>Default: nil</p><h3 id="output-config-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="output-config-compression_level">compression_level (string, optional)</h3><p>Set the log compression level for HTTP (1 to 9, 9 being the best ratio)</p><p>Default: &ldquo;6&rdquo;</p><h3 id="output-config-dd_hostname">dd_hostname (string, optional)</h3><p>Used by Datadog to identify the host submitting the logs.</p><p>Default: &ldquo;hostname -f&rdquo;</p><h3 id="output-config-dd_source">dd_source (string, optional)</h3><p>This tells Datadog what integration it is</p><p>Default: nil</p><h3 id="output-config-dd_sourcecategory">dd_sourcecategory (string, optional)</h3><p>Multiple value attribute. Can be used to refine the source attribute</p><p>Default: nil</p><h3 id="output-config-dd_tags">dd_tags (string, optional)</h3><p>Custom tags with the following format &ldquo;key1:value1, key2:value2&rdquo;</p><p>Default: nil</p><h3 id="output-config-host">host (string, optional)</h3><p>Proxy endpoint when logs are not directly forwarded to Datadog</p><p>Default: &ldquo;http-intake.logs.datadoghq.com&rdquo;</p><h3 id="output-config-include_tag_key">include_tag_key (bool, optional)</h3><p>Automatically include the Fluentd tag in the record.</p><p>Default: false</p><h3 id="output-config-max_backoff">max_backoff (string, optional)</h3><p>The maximum time waited between each retry in seconds</p><p>Default: &ldquo;30&rdquo;</p><h3 id="output-config-max_retries">max_retries (string, optional)</h3><p>The number of retries before the output plugin stops. Set to -1 for unlimited retries</p><p>Default: &ldquo;-1&rdquo;</p><h3 id="output-config-no_ssl_validation">no_ssl_validation (bool, optional)</h3><p>Disable SSL validation (useful for proxy forwarding)</p><p>Default: false</p><h3 id="output-config-port">port (string, optional)</h3><p>Proxy port when logs are not directly forwarded to Datadog and ssl is not used</p><p>Default: &ldquo;80&rdquo;</p><h3 id="output-config-service">service (string, optional)</h3><p>Used by Datadog to correlate between logs, traces and metrics.</p><p>Default: nil</p><h3 id="output-config-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p><h3 id="output-config-ssl_port">ssl_port (string, optional)</h3><p>Port used to send logs over a SSL encrypted connection to Datadog. If use_http is disabled, use 10516 for the US region and 443 for the EU region.</p><p>Default: &ldquo;443&rdquo;</p><h3 id="output-config-tag_key">tag_key (string, optional)</h3><p>Where to store the Fluentd tag.</p><p>Default: &ldquo;tag&rdquo;</p><h3 id="output-config-timestamp_key">timestamp_key (string, optional)</h3><p>Name of the attribute which will contain timestamp of the log event. If nil, timestamp attribute is not added.</p><p>Default: &ldquo;@timestamp&rdquo;</p><h3 id="output-config-use_compression">use_compression (bool, optional)</h3><p>Enable log compression for HTTP</p><p>Default: true</p><h3 id="output-config-use_http">use_http (bool, optional)</h3><p>Enable HTTP forwarding. If you disable it, make sure to change the port to 10514 or ssl_port to 10516</p><p>Default: true</p><h3 id="output-config-use_json">use_json (bool, optional)</h3><p>Event format, if true, the event is sent in json format. Othwerwise, in plain text.</p><p>Default: true</p><h3 id="output-config-use_ssl">use_ssl (bool, optional)</h3><p>If true, the agent initializes a secure connection to Datadog. In clear TCP otherwise.</p><p>Default: true</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-d4855c4f7dc79bc11e74c046473de585">11 - Elasticsearch</h1><h1 id="elasticsearch-output-plugin-for-fluentd">Elasticsearch output plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>For details, see <a href="https://github.com/uken/fluent-plugin-elasticsearch">https://github.com/uken/fluent-plugin-elasticsearch</a>.</p><p>Example Deployment: <a href="../../../../quickstarts/es-nginx/">Save all logs to Elasticsearch</a></p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">elasticsearch</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">host</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">elasticsearch-elasticsearch-cluster.default.svc.cluster.local</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">port</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">9200</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">scheme</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">https</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">ssl_verify</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">ssl_version</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">TLSv1_2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">buffer</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">1m</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_wait</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">30s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_use_utc</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="elasticsearch">Elasticsearch</h2><p>Send your logs to Elasticsearch</p><h3 id="elasticsearch-api_key">api_key (*secret.Secret, optional)</h3><p>api_key parameter adds authentication header.</p><h3 id="elasticsearch-application_name">application_name (*string, optional)</h3><p>Specify the application name for the rollover index to be created.</p><p>Default: default</p><h3 id="elasticsearch-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="elasticsearch-bulk_message_request_threshold">bulk_message_request_threshold (string, optional)</h3><p>Configure bulk_message request splitting threshold size. Default value is 20MB. (20 * 1024 * 1024) If you specify this size as negative number, bulk_message request splitting feature will be disabled.</p><p>Default: 20MB</p><h3 id="elasticsearch-compression_level">compression_level (string, optional)</h3><p>Option for compressing the output data using gzip. Valid options: default_compression, best_compression, best_speed, no_compression.</p><p>Default: no_compression</p><h3 id="elasticsearch-content_type">content_type (string, optional)</h3><p>With content_type application/x-ndjson, elasticsearch plugin adds application/x-ndjson as Content-Profile in payload.</p><p>Default: application/json</p><h3 id="elasticsearch-custom_headers">custom_headers (string, optional)</h3><p>This parameter adds additional headers to request. Example: {&ldquo;token&rdquo;:&ldquo;secret&rdquo;}</p><p>Default: {}</p><h3 id="elasticsearch-customize_template">customize_template (string, optional)</h3><p>Specify the string and its value to be replaced in form of hash. Can contain multiple key value pair that would be replaced in the specified template_file. This setting only creates template and to add rollover index please check the rollover_index configuration.</p><h3 id="elasticsearch-data_stream_enable">data_stream_enable (*bool, optional)</h3><p>Use @type elasticsearch_data_stream</p><h3 id="elasticsearch-data_stream_ilm_name">data_stream_ilm_name (string, optional)</h3><p>Specify an existing ILM policy to be applied to the data stream. If not present, either the specified template&rsquo;s or a new ILM default policy is applied. Further details here <a href="https://github.com/uken/fluent-plugin-elasticsearch#configuration---elasticsearch-output-data-stream">https://github.com/uken/fluent-plugin-elasticsearch#configuration---elasticsearch-output-data-stream</a></p><p>Default: data_stream_name</p><h3 id="elasticsearch-data_stream_ilm_policy">data_stream_ilm_policy (string, optional)</h3><p>Specify data stream ILM policy contents as Hash.</p><h3 id="elasticsearch-data_stream_ilm_policy_overwrite">data_stream_ilm_policy_overwrite (bool, optional)</h3><p>Specify whether overwriting data stream ilm policy or not.</p><h3 id="elasticsearch-data_stream_name">data_stream_name (string, optional)</h3><p>You can specify Elasticsearch data stream name by this parameter. This parameter is mandatory for elasticsearch_data_stream. There are some limitations about naming rule. For more details <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/indices-create-data-stream.html#indices-create-data-stream-api-path-params">https://www.elastic.co/guide/en/elasticsearch/reference/master/indices-create-data-stream.html#indices-create-data-stream-api-path-params</a></p><h3 id="elasticsearch-data_stream_template_name">data_stream_template_name (string, optional)</h3><p>Specify an existing index template for the data stream. If not present, a new template is created and named after the data stream. Further details here <a href="https://github.com/uken/fluent-plugin-elasticsearch#configuration---elasticsearch-output-data-stream">https://github.com/uken/fluent-plugin-elasticsearch#configuration---elasticsearch-output-data-stream</a></p><p>Default: data_stream_name</p><h3 id="elasticsearch-default_elasticsearch_version">default_elasticsearch_version (string, optional)</h3><p>This parameter changes that ES plugin assumes default Elasticsearch version.</p><p>Default: 5</p><h3 id="elasticsearch-deflector_alias">deflector_alias (string, optional)</h3><p>Specify the deflector alias which would be assigned to the rollover index created. This is useful in case of using the Elasticsearch rollover API</p><h3 id="elasticsearch-enable_ilm">enable_ilm (bool, optional)</h3><p>Enable Index Lifecycle Management (ILM).</p><h3 id="elasticsearch-exception_backup">exception_backup (*bool, optional)</h3><p>Indicates whether to backup chunk when ignore exception occurs. (default: true)</p><p>Default: true</p><h3 id="elasticsearch-fail_on_detecting_es_version_retry_exceed">fail_on_detecting_es_version_retry_exceed (*bool, optional)</h3><p>fail_on_detecting_es_version_retry_exceed (default: true)</p><p>Default: true</p><h3 id="elasticsearch-fail_on_putting_template_retry_exceed">fail_on_putting_template_retry_exceed (*bool, optional)</h3><p>Indicates whether to fail when max_retry_putting_template is exceeded. If you have multiple output plugin, you could use this property to do not fail on fluentd statup.(default: true)</p><p>Default: true</p><h3 id="elasticsearch-flatten_hashes">flatten_hashes (bool, optional)</h3><p>Elasticsearch will complain if you send object and concrete values to the same field. For example, you might have logs that look this, from different places: {&ldquo;people&rdquo; => 100} {&ldquo;people&rdquo; => {&ldquo;some&rdquo; => &ldquo;thing&rdquo;}} The second log line will be rejected by the Elasticsearch parser because objects and concrete values can&rsquo;t live in the same field. To combat this, you can enable hash flattening.</p><h3 id="elasticsearch-flatten_hashes_separator">flatten_hashes_separator (string, optional)</h3><p>Flatten separator</p><h3 id="elasticsearch-host">host (string, optional)</h3><p>You can specify the Elasticsearch host using this parameter.</p><p>Default: localhost</p><h3 id="elasticsearch-hosts">hosts (string, optional)</h3><p>You can specify multiple Elasticsearch hosts with separator &ldquo;,&rdquo;. If you specify the <code>hosts</code> option, the <code>host</code> and <code>port</code> options are ignored.</p><h3 id="elasticsearch-http_backend">http_backend (string, optional)</h3><p>With http_backend typhoeus, elasticsearch plugin uses typhoeus faraday http backend. Typhoeus can handle HTTP keepalive.</p><p>Default: excon</p><h3 id="elasticsearch-id_key">id_key (string, optional)</h3><p><a href="https://github.com/uken/fluent-plugin-elasticsearch#id_key">https://github.com/uken/fluent-plugin-elasticsearch#id_key</a></p><h3 id="elasticsearch-ignore_exceptions">ignore_exceptions (string, optional)</h3><p>A list of exception that will be ignored - when the exception occurs the chunk will be discarded and the buffer retry mechanism won&rsquo;t be called. It is possible also to specify classes at higher level in the hierarchy. For example <code>ignore_exceptions ["Elasticsearch::Transport::Transport::ServerError"]</code> will match all subclasses of ServerError - Elasticsearch::Transport::Transport::Errors::BadRequest, Elasticsearch::Transport::Transport::Errors::ServiceUnavailable, etc.</p><h3 id="elasticsearch-ilm_policy">ilm_policy (string, optional)</h3><p>Specify ILM policy contents as Hash.</p><h3 id="elasticsearch-ilm_policy_id">ilm_policy_id (string, optional)</h3><p>Specify ILM policy id.</p><h3 id="elasticsearch-ilm_policy_overwrite">ilm_policy_overwrite (bool, optional)</h3><p>Specify whether overwriting ilm policy or not.</p><h3 id="elasticsearch-include_index_in_url">include_index_in_url (bool, optional)</h3><p>With this option set to true, Fluentd manifests the index name in the request URL (rather than in the request body). You can use this option to enforce an URL-based access control.</p><h3 id="elasticsearch-include_tag_key">include_tag_key (bool, optional)</h3><p>This will add the Fluentd tag in the JSON record.</p><p>Default: false</p><h3 id="elasticsearch-include_timestamp">include_timestamp (bool, optional)</h3><p>Adds a @timestamp field to the log, following all settings logstash_format does, except without the restrictions on index_name. This allows one to log to an alias in Elasticsearch and utilize the rollover API.</p><p>Default: false</p><h3 id="elasticsearch-index_date_pattern">index_date_pattern (*string, optional)</h3><p>Specify this to override the index date pattern for creating a rollover index.</p><p>Default: now/d</p><h3 id="elasticsearch-index_name">index_name (string, optional)</h3><p>The index name to write events to</p><p>Default: fluentd</p><h3 id="elasticsearch-index_prefix">index_prefix (string, optional)</h3><p>Specify the index prefix for the rollover index to be created.</p><p>Default: logstash</p><h3 id="elasticsearch-log_es_400_reason">log_es_400_reason (bool, optional)</h3><p>By default, the error logger won&rsquo;t record the reason for a 400 error from the Elasticsearch API unless you set log_level to debug. However, this results in a lot of log spam, which isn&rsquo;t desirable if all you want is the 400 error reasons. You can set this true to capture the 400 error reasons without all the other debug logs.</p><p>Default: false</p><h3 id="elasticsearch-logstash_dateformat">logstash_dateformat (string, optional)</h3><p>Set the Logstash date format.</p><p>Default: %Y.%m.%d</p><h3 id="elasticsearch-logstash_format">logstash_format (bool, optional)</h3><p>Enable Logstash log format.</p><p>Default: false</p><h3 id="elasticsearch-logstash_prefix">logstash_prefix (string, optional)</h3><p>Set the Logstash prefix.</p><p>Default: logstash</p><h3 id="elasticsearch-logstash_prefix_separator">logstash_prefix_separator (string, optional)</h3><p>Set the Logstash prefix separator.</p><p>Default: -</p><h3 id="elasticsearch-max_retry_get_es_version">max_retry_get_es_version (string, optional)</h3><p>You can specify the number of times to retry fetching the Elasticsearch version.</p><p>Default: 15</p><h3 id="elasticsearch-max_retry_putting_template">max_retry_putting_template (string, optional)</h3><p>You can specify times of retry putting template.</p><p>Default: 10</p><h3 id="elasticsearch-password">password (*secret.Secret, optional)</h3><p>Password for HTTP Basic authentication. <a href="../secret/">Secret</a></p><h3 id="elasticsearch-path">path (string, optional)</h3><p>Path for HTTP Basic authentication.</p><h3 id="elasticsearch-pipeline">pipeline (string, optional)</h3><p>This param is to set a pipeline id of your elasticsearch to be added into the request, you can configure ingest node.</p><h3 id="elasticsearch-port">port (int, optional)</h3><p>You can specify the Elasticsearch port using this parameter.</p><p>Default: 9200</p><h3 id="elasticsearch-prefer_oj_serializer">prefer_oj_serializer (bool, optional)</h3><p>With default behavior, Elasticsearch client uses Yajl as JSON encoder/decoder. Oj is the alternative high performance JSON encoder/decoder. When this parameter sets as true, Elasticsearch client uses Oj as JSON encoder/decoder.</p><p>Default: false</p><h3 id="elasticsearch-reconnect_on_error">reconnect_on_error (bool, optional)</h3><p>Indicates that the plugin should reset connection on any error (reconnect on next send). By default it will reconnect only on &ldquo;host unreachable exceptions&rdquo;. We recommended to set this true in the presence of elasticsearch shield.</p><p>Default: false</p><h3 id="elasticsearch-reload_after">reload_after (string, optional)</h3><p>When <code>reload_connections</code> is true, this is the integer number of operations after which the plugin will reload the connections. The default value is 10000.</p><h3 id="elasticsearch-reload_connections">reload_connections (*bool, optional)</h3><p>You can tune how the elasticsearch-transport host reloading feature works.(default: true)</p><p>Default: true</p><h3 id="elasticsearch-reload_on_failure">reload_on_failure (bool, optional)</h3><p>Indicates that the elasticsearch-transport will try to reload the nodes addresses if there is a failure while making the request. This can be useful to quickly remove a dead node from the list of addresses.</p><p>Default: false</p><h3 id="elasticsearch-remove_keys">remove_keys (string, optional)</h3><p><a href="https://github.com/uken/fluent-plugin-elasticsearch#remove_keys">https://github.com/uken/fluent-plugin-elasticsearch#remove_keys</a></p><h3 id="elasticsearch-remove_keys_on_update">remove_keys_on_update (string, optional)</h3><p>Remove keys on update will not update the configured keys in elasticsearch when a record is being updated. This setting only has any effect if the write operation is update or upsert.</p><h3 id="elasticsearch-remove_keys_on_update_key">remove_keys_on_update_key (string, optional)</h3><p>This setting allows remove_keys_on_update to be configured with a key in each record, in much the same way as target_index_key works.</p><h3 id="elasticsearch-request_timeout">request_timeout (string, optional)</h3><p>You can specify HTTP request timeout.</p><p>Default: 5s</p><h3 id="elasticsearch-resurrect_after">resurrect_after (string, optional)</h3><p>You can set in the elasticsearch-transport how often dead connections from the elasticsearch-transport&rsquo;s pool will be resurrected.</p><p>Default: 60s</p><h3 id="elasticsearch-retry_tag">retry_tag (string, optional)</h3><p>This setting allows custom routing of messages in response to bulk request failures. The default behavior is to emit failed records using the same tag that was provided.</p><h3 id="elasticsearch-rollover_index">rollover_index (bool, optional)</h3><p>Specify this as true when an index with rollover capability needs to be created. <a href="https://github.com/uken/fluent-plugin-elasticsearch#rollover_index">https://github.com/uken/fluent-plugin-elasticsearch#rollover_index</a></p><p>Default: false</p><h3 id="elasticsearch-routing_key">routing_key (string, optional)</h3><p>Similar to parent_key config, will add _routing into elasticsearch command if routing_key is set and the field does exist in input event.</p><h3 id="elasticsearch-ca_file">ca_file (*secret.Secret, optional)</h3><p>CA certificate</p><h3 id="elasticsearch-client_cert">client_cert (*secret.Secret, optional)</h3><p>Client certificate</p><h3 id="elasticsearch-client_key">client_key (*secret.Secret, optional)</h3><p>Client certificate key</p><h3 id="elasticsearch-client_key_pass">client_key_pass (*secret.Secret, optional)</h3><p>Client key password</p><h3 id="elasticsearch-scheme">scheme (string, optional)</h3><p>Connection scheme</p><p>Default: http</p><h3 id="elasticsearch-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p><h3 id="elasticsearch-sniffer_class_name">sniffer_class_name (string, optional)</h3><p>The default Sniffer used by the Elasticsearch::Transport class works well when Fluentd has a direct connection to all of the Elasticsearch servers and can make effective use of the _nodes API. This doesn&rsquo;t work well when Fluentd must connect through a load balancer or proxy. The parameter sniffer_class_name gives you the ability to provide your own Sniffer class to implement whatever connection reload logic you require. In addition, there is a new Fluent::Plugin::ElasticsearchSimpleSniffer class which reuses the hosts given in the configuration, which is typically the hostname of the load balancer or proxy. <a href="https://github.com/uken/fluent-plugin-elasticsearch#sniffer-class-name">https://github.com/uken/fluent-plugin-elasticsearch#sniffer-class-name</a></p><h3 id="elasticsearch-ssl_max_version">ssl_max_version (string, optional)</h3><p>Specify min/max SSL/TLS version</p><h3 id="elasticsearch-ssl_min_version">ssl_min_version (string, optional)</h3><h3 id="elasticsearch-ssl_verify">ssl_verify (*bool, optional)</h3><p>Skip ssl verification (default: true)</p><p>Default: true</p><h3 id="elasticsearch-ssl_version">ssl_version (string, optional)</h3><p>If you want to configure SSL/TLS version, you can specify ssl_version parameter. [SSLv23, TLSv1, TLSv1_1, TLSv1_2]</p><h3 id="elasticsearch-suppress_doc_wrap">suppress_doc_wrap (bool, optional)</h3><p>By default, record body is wrapped by &lsquo;doc&rsquo;. This behavior can not handle update script requests. You can set this to suppress doc wrapping and allow record body to be untouched.</p><p>Default: false</p><h3 id="elasticsearch-suppress_type_name">suppress_type_name (*bool, optional)</h3><p>Suppress type name to avoid warnings in Elasticsearch 7.x</p><h3 id="elasticsearch-tag_key">tag_key (string, optional)</h3><p>This will add the Fluentd tag in the JSON record.</p><p>Default: tag</p><h3 id="elasticsearch-target_index_key">target_index_key (string, optional)</h3><p>Tell this plugin to find the index name to write to in the record under this key in preference to other mechanisms. Key can be specified as path to nested record using dot (&rsquo;.&rsquo;) as a separator. <a href="https://github.com/uken/fluent-plugin-elasticsearch#target_index_key">https://github.com/uken/fluent-plugin-elasticsearch#target_index_key</a></p><h3 id="elasticsearch-target_type_key">target_type_key (string, optional)</h3><p>Similar to target_index_key config, find the type name to write to in the record under this key (or nested record). If key not found in record - fallback to type_name.</p><p>Default: fluentd</p><h3 id="elasticsearch-template_file">template_file (*secret.Secret, optional)</h3><p>The path to the file containing the template to install. <a href="../secret/">Secret</a></p><h3 id="elasticsearch-template_name">template_name (string, optional)</h3><p>The name of the template to define. If a template by the name given is already present, it will be left unchanged, unless template_overwrite is set, in which case the template will be updated.</p><h3 id="elasticsearch-template_overwrite">template_overwrite (bool, optional)</h3><p>Always update the template, even if it already exists.</p><p>Default: false</p><h3 id="elasticsearch-templates">templates (string, optional)</h3><p>Specify index templates in form of hash. Can contain multiple templates.</p><h3 id="elasticsearch-time_key">time_key (string, optional)</h3><p>By default, when inserting records in Logstash format, @timestamp is dynamically created with the time at log ingestion. If you&rsquo;d like to use a custom time, include an @timestamp with your record.</p><h3 id="elasticsearch-time_key_format">time_key_format (string, optional)</h3><p>The format of the time stamp field (@timestamp or what you specify with time_key). This parameter only has an effect when logstash_format is true as it only affects the name of the index we write to.</p><h3 id="elasticsearch-time_parse_error_tag">time_parse_error_tag (string, optional)</h3><p>With logstash_format true, elasticsearch plugin parses timestamp field for generating index name. If the record has invalid timestamp value, this plugin emits an error event to @ERROR label with time_parse_error_tag configured tag.</p><h3 id="elasticsearch-time_precision">time_precision (string, optional)</h3><p>Should the record not include a time_key, define the degree of sub-second time precision to preserve from the time portion of the routed event.</p><h3 id="elasticsearch-type_name">type_name (string, optional)</h3><p>Set the index type for elasticsearch. This is the fallback if <code>target_type_key</code> is missing.</p><p>Default: fluentd</p><h3 id="elasticsearch-unrecoverable_error_types">unrecoverable_error_types (string, optional)</h3><p>Default unrecoverable_error_types parameter is set up strictly. Because es_rejected_execution_exception is caused by exceeding Elasticsearch&rsquo;s thread pool capacity. Advanced users can increase its capacity, but normal users should follow default behavior. If you want to increase it and forcibly retrying bulk request, please consider to change unrecoverable_error_types parameter from default value. Change default value of thread_pool.bulk.queue_size in elasticsearch.yml)</p><h3 id="elasticsearch-use_legacy_template">use_legacy_template (*bool, optional)</h3><p>If set to true, the output uses the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.13/indices-templates-v1.html">legacy index template format</a>. Otherwise, it uses the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.13/index-templates.html">composable index template</a> format.</p><p>Default: true</p><h3 id="elasticsearch-user">user (string, optional)</h3><p>User for HTTP Basic authentication. This plugin will escape required URL encoded characters within <code>%{}</code> placeholders, for example, <code>%{demo+}</code></p><h3 id="elasticsearch-utc_index">utc_index (*bool, optional)</h3><p>By default, the records inserted into index logstash-YYMMDD with UTC (Coordinated Universal Time). This option allows to use local time if you describe utc_index to false.(default: true)</p><p>Default: true</p><h3 id="elasticsearch-validate_client_version">validate_client_version (bool, optional)</h3><p>When you use mismatched Elasticsearch server and client libraries, fluent-plugin-elasticsearch cannot send data into Elasticsearch.</p><p>Default: false</p><h3 id="elasticsearch-verify_es_version_at_startup">verify_es_version_at_startup (*bool, optional)</h3><p>Because Elasticsearch plugin should change behavior each of Elasticsearch major versions. For example, Elasticsearch 6 starts to prohibit multiple type_names in one index, and Elasticsearch 7 will handle only _doc type_name in index. If you want to disable to verify Elasticsearch version at start up, set it as false. When using the following configuration, ES plugin intends to communicate into Elasticsearch 6. (default: true)</p><p>Default: true</p><h3 id="elasticsearch-with_transporter_log">with_transporter_log (bool, optional)</h3><p>This is debugging purpose option to enable to obtain transporter layer log.</p><p>Default: false</p><h3 id="elasticsearch-write_operation">write_operation (string, optional)</h3><p>The write_operation can be any of: (index,create,update,upsert)</p><p>Default: index</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-11b10c2ba394f448a129e3e87a7da45d">12 - File</h1><h1 id="file-outputhttpsdocsfluentdorgoutputfile"><a href="https://docs.fluentd.org/output/file">File Output</a></h1><h2 id="overview">Overview</h2><p>This plugin has been designed to output logs or metrics to File.</p><h2 id="configuration">Configuration</h2><h2 id="fileoutputconfig">FileOutputConfig</h2><h3 id="fileoutputconfig-add_path_suffix">add_path_suffix (*bool, optional)</h3><p>Add path suffix(default: true)</p><p>Default: true</p><h3 id="fileoutputconfig-append">append (bool, optional)</h3><p>The flushed chunk is appended to existence file or not. The default is not appended.</p><h3 id="fileoutputconfig-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="fileoutputconfig-compress">compress (string, optional)</h3><p>Compresses flushed files using gzip. No compression is performed by default.</p><h3 id="fileoutputconfig-format">format (*Format, optional)</h3><p><a href="../format/">Format</a></p><h3 id="fileoutputconfig-path">path (string, required)</h3><p>The Path of the file. The actual path is path + time + &ldquo;.log&rdquo; by default.</p><h3 id="fileoutputconfig-path_suffix">path_suffix (string, optional)</h3><p>The suffix of output result.</p><p>Default: &ldquo;.log&rdquo;</p><h3 id="fileoutputconfig-recompress">recompress (bool, optional)</h3><p>Performs compression again even if the buffer chunk is already compressed.</p><p>Default: false</p><h3 id="fileoutputconfig-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p><h3 id="fileoutputconfig-symlink_path">symlink_path (bool, optional)</h3><p>Create symlink to temporary buffered file when buffer_type is file. This is useful for tailing file content to check logs.</p><p>Default: false</p><h2 id="example-file-output-configurations">Example <code>File</code> output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Output</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">demo-output</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">file</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">path</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">/tmp/logs/${tag}/%Y/%m/%d.%H.%M</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">append</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">buffer</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">1m</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_wait</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">10s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_use_utc</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span></span></span></code></pre></div><p>Fluentd config result:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">&lt;match</span> <span style="color:#a40000">**</span><span style="color:#204a87;font-weight:700">&gt;</span>
</span></span><span style="display:flex"><span>	@type file
</span></span><span style="display:flex"><span>	@id test_file
</span></span><span style="display:flex"><span>	add_path_suffix true
</span></span><span style="display:flex"><span>	append true
</span></span><span style="display:flex"><span>	path /tmp/logs/${tag}/%Y/%m/%d.%H.%M
</span></span><span style="display:flex"><span>	<span style="color:#204a87;font-weight:700">&lt;buffer</span> <span style="color:#a40000">tag,time</span><span style="color:#204a87;font-weight:700">&gt;</span>
</span></span><span style="display:flex"><span>	  @type file
</span></span><span style="display:flex"><span>	  path /buffers/test_file.*.buffer
</span></span><span style="display:flex"><span>	  retry_forever true
</span></span><span style="display:flex"><span>	  timekey 1m
</span></span><span style="display:flex"><span>	  timekey_use_utc true
</span></span><span style="display:flex"><span>	  timekey_wait 30s
</span></span><span style="display:flex"><span>	<span style="color:#204a87;font-weight:700">&lt;/buffer&gt;</span>
</span></span><span style="display:flex"><span><span style="color:#204a87;font-weight:700">&lt;/match&gt;</span></span></span></code></pre></div><hr>
</div><div class="td-content" style="page-break-before:always">
<h1 id="pg-ebcbedef5be28c9f30752486b0b2b01b">13 - Format</h1><h1 id="format-output-records">Format output records</h1><h2 id="overview">Overview</h2><p>Specify how to format output records. For details, see <a href="https://docs.fluentd.org/configuration/format-section">https://docs.fluentd.org/configuration/format-section</a>.</p><h2 id="example">Example</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">format</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">path</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">/tmp/logs/${tag}/%Y/%m/%d.%H.%M</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">format</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">type</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">single_value</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">add_newline</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">message_key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">msg</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="format">Format</h2><h3 id="format-add_newline">add_newline (*bool, optional)</h3><p>When type is single_value add &lsquo;\n&rsquo; to the end of the message</p><p>Default: true</p><h3 id="format-message_key">message_key (string, optional)</h3><p>When type is single_value specify the key holding information</p><h3 id="format-type">type (string, optional)</h3><p>Output line formatting: out_file,json,ltsv,csv,msgpack,hash,single_value</p><p>Default: json</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-88fc6991b80563054a472b95a994e01b">14 - Format rfc5424</h1><h2 id="formatrfc5424">FormatRfc5424</h2><h3 id="formatrfc5424-app_name_field">app_name_field (string, optional)</h3><p>Sets app name in syslog from field in fluentd, delimited by &lsquo;.&rsquo;</p><p>Default: app_name</p><h3 id="formatrfc5424-hostname_field">hostname_field (string, optional)</h3><p>Sets host name in syslog from field in fluentd, delimited by &lsquo;.&rsquo;</p><p>Default: hostname</p><h3 id="formatrfc5424-log_field">log_field (string, optional)</h3><p>Sets log in syslog from field in fluentd, delimited by &lsquo;.&rsquo;</p><p>Default: log</p><h3 id="formatrfc5424-message_id_field">message_id_field (string, optional)</h3><p>Sets msg id in syslog from field in fluentd, delimited by &lsquo;.&rsquo;</p><p>Default: message_id</p><h3 id="formatrfc5424-proc_id_field">proc_id_field (string, optional)</h3><p>Sets proc id in syslog from field in fluentd, delimited by &lsquo;.&rsquo;</p><p>Default: proc_id</p><h3 id="formatrfc5424-rfc6587_message_size">rfc6587_message_size (*bool, optional)</h3><p>Prepends message length for syslog transmission</p><p>Default: true</p><h3 id="formatrfc5424-structured_data_field">structured_data_field (string, optional)</h3><p>Sets structured data in syslog from field in fluentd, delimited by &lsquo;.&rsquo; (default structured_data)</p><h3 id="formatrfc5424-type">type (string, optional)</h3><p>Output line formatting: out_file,json,ltsv,csv,msgpack,hash,single_value</p><p>Default: json</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-ed0a10704a55da5f7330009ec393e387">15 - Forward</h1><h2 id="forwardoutput">ForwardOutput</h2><h3 id="forwardoutput-ack_response_timeout">ack_response_timeout (int, optional)</h3><p>This option is used when require_ack_response is true. This default value is based on popular tcp_syn_retries.</p><p>Default: 190</p><h3 id="forwardoutput-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="forwardoutput-connect_timeout">connect_timeout (int, optional)</h3><p>The timeout time for socket connect. When the connection timed out during establishment, Errno::ETIMEDOUT is raised.</p><h3 id="forwardoutput-dns_round_robin">dns_round_robin (bool, optional)</h3><p>Enable client-side DNS round robin. Uniform randomly pick an IP address to send data when a hostname has several IP addresses. <code>heartbeat_type udp</code> is not available with <code>dns_round_robin true</code>. Use <code>heartbeat_type tcp</code> or <code>heartbeat_type none</code>.</p><h3 id="forwardoutput-expire_dns_cache">expire_dns_cache (int, optional)</h3><p>Set TTL to expire DNS cache in seconds. Set 0 not to use DNS Cache.</p><p>Default: 0</p><h3 id="forwardoutput-hard_timeout">hard_timeout (int, optional)</h3><p>The hard timeout used to detect server failure. The default value is equal to the send_timeout parameter.</p><p>Default: 60</p><h3 id="forwardoutput-heartbeat_interval">heartbeat_interval (int, optional)</h3><p>The interval of the heartbeat packer.</p><p>Default: 1</p><h3 id="forwardoutput-heartbeat_type">heartbeat_type (string, optional)</h3><p>The transport protocol to use for heartbeats. Set &ldquo;none&rdquo; to disable heartbeat. [transport, tcp, udp, none]</p><h3 id="forwardoutput-ignore_network_errors_at_startup">ignore_network_errors_at_startup (bool, optional)</h3><p>Ignore DNS resolution and errors at startup time.</p><h3 id="forwardoutput-keepalive">keepalive (bool, optional)</h3><p>Enable keepalive connection.</p><p>Default: false</p><h3 id="forwardoutput-keepalive_timeout">keepalive_timeout (int, optional)</h3><p>Expired time of keepalive. Default value is nil, which means to keep connection as long as possible.</p><p>Default: 0</p><h3 id="forwardoutput-phi_failure_detector">phi_failure_detector (bool, optional)</h3><p>Use the &ldquo;Phi accrual failure detector&rdquo; to detect server failure.</p><p>Default: true</p><h3 id="forwardoutput-phi_threshold">phi_threshold (int, optional)</h3><p>The threshold parameter used to detect server faults. <code>phi_threshold</code> is deeply related to <code>heartbeat_interval</code>. If you are using longer <code>heartbeat_interval</code>, please use the larger <code>phi_threshold</code>. Otherwise you will see frequent detachments of destination servers. The default value 16 is tuned for <code>heartbeat_interval</code> 1s.</p><p>Default: 16</p><h3 id="forwardoutput-recover_wait">recover_wait (int, optional)</h3><p>The wait time before accepting a server fault recovery.</p><p>Default: 10</p><h3 id="forwardoutput-require_ack_response">require_ack_response (bool, optional)</h3><p>Change the protocol to at-least-once. The plugin waits the ack from destination&rsquo;s in_forward plugin.</p><h3 id="forwardoutput-security">security (*common.Security, optional)</h3><p><a href="../../common/security/">Security</a></p><h3 id="forwardoutput-send_timeout">send_timeout (int, optional)</h3><p>The timeout time when sending event logs.</p><p>Default: 60</p><h3 id="forwardoutput-servers">servers ([]FluentdServer, required)</h3><p>Server definitions at least one is required <a href="#fluentd-server">Server</a></p><h3 id="forwardoutput-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p><h3 id="forwardoutput-time_as_integer">time_as_integer (bool, optional)</h3><p>Format forwarded events time as an epoch Integer with second resolution. Useful when forwarding to old ( &lt;= 0.12 ) Fluentd servers.</p><h3 id="forwardoutput-tls_allow_self_signed_cert">tls_allow_self_signed_cert (bool, optional)</h3><p>Allow self signed certificates or not.</p><p>Default: false</p><h3 id="forwardoutput-tls_cert_logical_store_name">tls_cert_logical_store_name (string, optional)</h3><p>The certificate logical store name on Windows system certstore. This parameter is for Windows only.</p><h3 id="forwardoutput-tls_cert_path">tls_cert_path (*secret.Secret, optional)</h3><p>The additional CA certificate path for TLS.</p><h3 id="forwardoutput-tls_cert_thumbprint">tls_cert_thumbprint (string, optional)</h3><p>The certificate thumbprint for searching from Windows system certstore This parameter is for Windows only.</p><h3 id="forwardoutput-tls_cert_use_enterprise_store">tls_cert_use_enterprise_store (bool, optional)</h3><p>Enable to use certificate enterprise store on Windows system certstore. This parameter is for Windows only.</p><h3 id="forwardoutput-tls_ciphers">tls_ciphers (string, optional)</h3><p>The cipher configuration of TLS transport.</p><p>Default: ALL:!aNULL:!eNULL:!SSLv2</p><h3 id="forwardoutput-tls_client_cert_path">tls_client_cert_path (*secret.Secret, optional)</h3><p>The client certificate path for TLS</p><h3 id="forwardoutput-tls_client_private_key_passphrase">tls_client_private_key_passphrase (*secret.Secret, optional)</h3><p>The client private key passphrase for TLS.</p><h3 id="forwardoutput-tls_client_private_key_path">tls_client_private_key_path (*secret.Secret, optional)</h3><p>The client private key path for TLS.</p><h3 id="forwardoutput-tls_insecure_mode">tls_insecure_mode (bool, optional)</h3><p>Skip all verification of certificates or not.</p><p>Default: false</p><h3 id="forwardoutput-tls_verify_hostname">tls_verify_hostname (bool, optional)</h3><p>Verify hostname of servers and certificates or not in TLS transport.</p><p>Default: true</p><h3 id="forwardoutput-tls_version">tls_version (string, optional)</h3><p>The default version of TLS transport. [TLSv1_1, TLSv1_2]</p><p>Default: TLSv1_2</p><h3 id="forwardoutput-transport">transport (string, optional)</h3><p>The transport protocol to use [ tcp, tls ]</p><h3 id="forwardoutput-verify_connection_at_startup">verify_connection_at_startup (bool, optional)</h3><p>Verify that a connection can be made with one of out_forward nodes at the time of startup.</p><p>Default: false</p><h2 id="fluentd-server">Fluentd Server</h2><p>server</p><h3 id="fluentd-server-host">host (string, required)</h3><p>The IP address or host name of the server.</p><h3 id="fluentd-server-name">name (string, optional)</h3><p>The name of the server. Used for logging and certificate verification in TLS transport (when host is address).</p><h3 id="fluentd-server-password">password (*secret.Secret, optional)</h3><p>The password for authentication.</p><h3 id="fluentd-server-port">port (int, optional)</h3><p>The port number of the host. Note that both TCP packets (event stream) and UDP packets (heartbeat message) are sent to this port.</p><p>Default: 24224</p><h3 id="fluentd-server-shared_key">shared_key (*secret.Secret, optional)</h3><p>The shared key per server.</p><h3 id="fluentd-server-standby">standby (bool, optional)</h3><p>Marks a node as the standby node for an Active-Standby model between Fluentd nodes. When an active node goes down, the standby node is promoted to an active node. The standby node is not used by the out_forward plugin until then.</p><h3 id="fluentd-server-username">username (*secret.Secret, optional)</h3><p>The username for authentication.</p><h3 id="fluentd-server-weight">weight (int, optional)</h3><p>The load balancing weight. If the weight of one server is 20 and the weight of the other server is 30, events are sent in a 2:3 ratio.</p><p>Default: 60</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-18e50786ba4697ffac3ab83b4c57e6e5">16 - GELF</h1><h1 id="gelf-outputhttpsgithubcomhotschedulesfluent-plugin-gelf-hs"><a href="https://github.com/hotschedules/fluent-plugin-gelf-hs">GELF Output</a></h1><h2 id="overview">Overview</h2><p>Fluentd output plugin for GELF. For details, see <a href="https://github.com/bmichalkiewicz/fluent-plugin-gelf-best">https://github.com/bmichalkiewicz/fluent-plugin-gelf-best</a>.</p><h2 id="example">Example</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">gelf</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">host</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">gelf-host</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">port</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">12201</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="output-config">Output Config</h2><h3 id="buffer-buffer-optional-output-config-buffer">buffer (*Buffer, optional) {#output config-buffer}</h3><p>Available since ghcr.io/kube-logging/fluentd:v1.16-full-build.139 <a href="../buffer/">Buffer</a></p><h3 id="host-string-required-output-config-host">host (string, required) {#output config-host}</h3><p>Destination host</p><h3 id="max_bytes-int-optional-output-config-max_bytes">max_bytes (int, optional) {#output config-max_bytes}</h3><p>MaxBytes specifies the maximum size, in bytes, of each individual log message. For details, see <a href="https://github.com/Graylog2/graylog2-server/issues/873">https://github.com/Graylog2/graylog2-server/issues/873</a> Available since ghcr.io/kube-logging/fluentd:v1.16-4.10-full</p><p>Default: 3200</p><h3 id="output-config-port">port (int, required)</h3><p>Destination host port</p><h3 id="output-config-protocol">protocol (string, optional)</h3><p>Transport Protocol</p><p>Default: &ldquo;udp&rdquo;</p><h3 id="output-config-tls">tls (*bool, optional)</h3><p>Enable TlS</p><p>Default: false</p><h3 id="output-config-tls_options">tls_options (map[string]string, optional)</h3><p>TLS Options. For details, see <a href="https://github.com/graylog-labs/gelf-rb/blob/72916932b789f7a6768c3cdd6ab69a3c942dbcef/lib/gelf/transport/tcp_tls.rb#L7-L12">https://github.com/graylog-labs/gelf-rb/blob/72916932b789f7a6768c3cdd6ab69a3c942dbcef/lib/gelf/transport/tcp_tls.rb#L7-L12</a>.</p><p>Default: {}</p><h2 id="example-gelf-output-configurations">Example <code>GELF</code> output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Output</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">gelf-output-sample</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">gelf</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">host</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">gelf-host</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">port</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">12201</span></span></span></code></pre></div><p>Fluentd config result:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">&lt;match</span> <span style="color:#a40000">**</span><span style="color:#204a87;font-weight:700">&gt;</span>
</span></span><span style="display:flex"><span>	@type gelf
</span></span><span style="display:flex"><span>	@id test_gelf
</span></span><span style="display:flex"><span>	host gelf-host
</span></span><span style="display:flex"><span>	port 12201
</span></span><span style="display:flex"><span><span style="color:#204a87;font-weight:700">&lt;/match&gt;</span></span></span></code></pre></div><hr>
</div><div class="td-content" style="page-break-before:always">
<h1 id="pg-a6993ae75e6633de7954ded98992861c">17 - Google Cloud Storage</h1><h2 id="overview">Overview</h2><p>Store logs in Google Cloud Storage. For details, see <a href="https://github.com/kube-logging/fluent-plugin-gcs">https://github.com/kube-logging/fluent-plugin-gcs</a>.</p><h2 id="example">Example</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">gcs</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">project</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging-example</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">bucket</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">banzai-log-test</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">path</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logs/${tag}/%Y/%m/%d/</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="gcsoutput">GCSOutput</h2><h3 id="gcsoutput-acl">acl (string, optional)</h3><p>Permission for the object in GCS: <code>auth_read</code> <code>owner_full</code> <code>owner_read</code> <code>private</code> <code>project_private</code> <code>public_read</code></p><h3 id="gcsoutput-auto_create_bucket">auto_create_bucket (bool, optional)</h3><p>Create GCS bucket if it does not exists</p><p>Default: true</p><h3 id="gcsoutput-bucket">bucket (string, required)</h3><p>Name of a GCS bucket</p><h3 id="gcsoutput-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="gcsoutput-client_retries">client_retries (int, optional)</h3><p>Number of times to retry requests on server error</p><h3 id="gcsoutput-client_timeout">client_timeout (int, optional)</h3><p>Default timeout to use in requests</p><h3 id="gcsoutput-credentials_json">credentials_json (*secret.Secret, optional)</h3><p>GCS service account credentials in JSON format <a href="../secret/">Secret</a></p><h3 id="gcsoutput-encryption_key">encryption_key (string, optional)</h3><p>Customer-supplied, AES-256 encryption key</p><h3 id="gcsoutput-format">format (*Format, optional)</h3><p><a href="../format/">Format</a></p><h3 id="gcsoutput-hex_random_length">hex_random_length (int, optional)</h3><p>Max length of <code>%{hex_random}</code> placeholder(4-16)</p><p>Default: 4</p><h3 id="gcsoutput-keyfile">keyfile (string, optional)</h3><p>Path of GCS service account credentials JSON file</p><h3 id="gcsoutput-object_key_format">object_key_format (string, optional)</h3><p>Format of GCS object keys</p><p>Default: <code>%{path}%{time_slice}_%{index}.%{file_extension}</code></p><h3 id="gcsoutput-object_metadata">object_metadata ([]ObjectMetadata, optional)</h3><p>User provided web-safe keys and arbitrary string values that will returned with requests for the file as &ldquo;x-goog-meta-&rdquo; response headers. <a href="#objectmetadata">Object Metadata</a></p><h3 id="gcsoutput-overwrite">overwrite (bool, optional)</h3><p>Overwrite already existing path</p><p>Default: false</p><h3 id="gcsoutput-path">path (string, optional)</h3><p>Path prefix of the files on GCS</p><h3 id="gcsoutput-project">project (string, required)</h3><p>Project identifier for GCS</p><h3 id="gcsoutput-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p><h3 id="gcsoutput-storage_class">storage_class (string, optional)</h3><p>Storage class of the file: <code>dra</code> <code>nearline</code> <code>coldline</code> <code>multi_regional</code> <code>regional</code> <code>standard</code></p><h3 id="gcsoutput-store_as">store_as (string, optional)</h3><p>Archive format on GCS: gzip json text</p><p>Default: gzip</p><h3 id="gcsoutput-transcoding">transcoding (bool, optional)</h3><p>Enable the decompressive form of transcoding</p><h2 id="objectmetadata">ObjectMetadata</h2><h3 id="objectmetadata-key">key (string, required)</h3><p>Key</p><h3 id="objectmetadata-value">value (string, required)</h3><p>Value</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-a56bffbadd1b6a7c1ede4f727316205c">18 - Grafana Loki</h1><h1 id="loki-output-plugin">Loki output plugin</h1><h2 id="overview">Overview</h2><p>Fluentd output plugin to ship logs to a Loki server. For details, see <a href="https://grafana.com/docs/loki/latest/clients/fluentd/">https://grafana.com/docs/loki/latest/clients/fluentd/</a>.</p><p>For a detailed example, see <a href="../../../../quickstarts/loki-nginx/">Store Nginx Access Logs in Grafana Loki with Logging Operator</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">loki</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">url</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">http://loki:3100</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">buffer</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">1m</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_wait</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">30s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_use_utc</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="output-config">Output Config</h2><h3 id="output-config-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="output-config-ca_cert">ca_cert (*secret.Secret, optional)</h3><p>TLS: CA certificate file for server certificate verification <a href="../secret/">Secret</a></p><h3 id="output-config-cert">cert (*secret.Secret, optional)</h3><p>TLS: parameters for presenting a client certificate <a href="../secret/">Secret</a></p><h3 id="output-config-configure_kubernetes_labels">configure_kubernetes_labels (*bool, optional)</h3><p>Configure Kubernetes metadata in a Prometheus like format</p><p>Default: false</p><h3 id="output-config-drop_single_key">drop_single_key (*bool, optional)</h3><p>If a record only has 1 key, then just set the log line to the value and discard the key.</p><p>Default: false</p><h3 id="output-config-extra_labels">extra_labels (map[string]string, optional)</h3><p>Set of extra labels to include with every Loki stream.</p><h3 id="output-config-extract_kubernetes_labels">extract_kubernetes_labels (*bool, optional)</h3><p>Extract kubernetes labels as loki labels</p><p>Default: false</p><h3 id="output-config-include_thread_label">include_thread_label (*bool, optional)</h3><p>whether to include the fluentd_thread label when multiple threads are used for flushing.</p><p>Default: true</p><h3 id="output-config-insecure_tls">insecure_tls (*bool, optional)</h3><p>TLS: disable server certificate verification</p><p>Default: false</p><h3 id="output-config-key">key (*secret.Secret, optional)</h3><p>TLS: parameters for presenting a client certificate <a href="../secret/">Secret</a></p><h3 id="output-config-labels">labels (Label, optional)</h3><p>Set of labels to include with every Loki stream.</p><h3 id="output-config-line_format">line_format (string, optional)</h3><p>Format to use when flattening the record to a log line: json, key_value (default: key_value)</p><p>Default: json</p><h3 id="output-config-password">password (*secret.Secret, optional)</h3><p>Specify password if the Loki server requires authentication. <a href="../secret/">Secret</a></p><h3 id="output-config-remove_keys">remove_keys ([]string, optional)</h3><p>Comma separated list of needless record keys to remove</p><p>Default: []</p><h3 id="output-config-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, Fluentd logs a warning message and increases the <code>fluentd_output_status_slow_flush_count</code> metric.</p><h3 id="output-config-tenant">tenant (string, optional)</h3><p>Loki is a multi-tenant log storage platform and all requests sent must include a tenant.</p><h3 id="output-config-url">url (string, optional)</h3><p>The url of the Loki server to send logs to.</p><p>Default: <code>https://logs-us-west1.grafana.net</code></p><h3 id="output-config-username">username (*secret.Secret, optional)</h3><p>Specify a username if the Loki server requires authentication. <a href="../secret/">Secret</a></p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-ae38f1f9de3603c1e55fe2fb4eeba9b0">19 - Http</h1><h1 id="http-plugin-for-fluentd">Http plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>Sends logs to HTTP/HTTPS endpoints. For details, see <a href="https://docs.fluentd.org/output/http">https://docs.fluentd.org/output/http</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">http</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">endpoint</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">http://logserver.com:9000/api</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">buffer</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">tags</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;[]&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">flush_interval</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">10s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="output-config">Output Config</h2><h3 id="output-config-auth">auth (*HTTPAuth, optional)</h3><p><a href="#http-auth-config">HTTP auth</a></p><h3 id="output-config-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="output-config-content_type">content_type (string, optional)</h3><p>Content-Profile for HTTP request.</p><h3 id="output-config-endpoint">endpoint (string, required)</h3><p>Endpoint for HTTP request.</p><h3 id="output-config-error_response_as_unrecoverable">error_response_as_unrecoverable (*bool, optional)</h3><p>Raise UnrecoverableError when the response code is non success, 1xx/3xx/4xx/5xx. If false, the plugin logs error message instead of raising UnrecoverableError.</p><p>Default: true</p><h3 id="output-config-format">format (*Format, optional)</h3><p><a href="../format/">Format</a></p><h3 id="http_method-string-optional-output-config-http_method">http_method (string, optional) {#output config-http_method}</h3><p>Method for HTTP request. [post, put]</p><p>Default: post</p><h3 id="output-config-headers">headers (map[string]string, optional)</h3><p>Additional headers for HTTP request.</p><h3 id="output-config-json_array">json_array (bool, optional)</h3><p>Using array format of JSON. This parameter is used and valid only for json format. When json_array as true, Content-Profile should be application/json and be able to use JSON data for the HTTP request body.</p><p>Default: false</p><h3 id="output-config-open_timeout">open_timeout (int, optional)</h3><p>Connection open timeout in seconds.</p><h3 id="output-config-proxy">proxy (string, optional)</h3><p>Proxy for HTTP request.</p><h3 id="output-config-read_timeout">read_timeout (int, optional)</h3><p>Read timeout in seconds.</p><h3 id="output-config-retryable_response_codes">retryable_response_codes ([]int, optional)</h3><p>List of retryable response codes. If the response code is included in this list, the plugin retries the buffer flush. Since Fluentd v2 the Status code 503 is going to be removed from default.</p><p>Default: [503]</p><h3 id="output-config-ssl_timeout">ssl_timeout (int, optional)</h3><p>TLS timeout in seconds.</p><h3 id="output-config-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p><h3 id="output-config-tls_ca_cert_path">tls_ca_cert_path (*secret.Secret, optional)</h3><p>The CA certificate path for TLS.</p><h3 id="output-config-tls_ciphers">tls_ciphers (string, optional)</h3><p>The cipher configuration of TLS transport.</p><p>Default: ALL:!aNULL:!eNULL:!SSLv2</p><h3 id="output-config-tls_client_cert_path">tls_client_cert_path (*secret.Secret, optional)</h3><p>The client certificate path for TLS.</p><h3 id="output-config-tls_private_key_passphrase">tls_private_key_passphrase (*secret.Secret, optional)</h3><p>The client private key passphrase for TLS.</p><h3 id="output-config-tls_private_key_path">tls_private_key_path (*secret.Secret, optional)</h3><p>The client private key path for TLS.</p><h3 id="output-config-tls_verify_mode">tls_verify_mode (string, optional)</h3><p>The verify mode of TLS. [peer, none]</p><p>Default: peer</p><h3 id="output-config-tls_version">tls_version (string, optional)</h3><p>The default version of TLS transport. [TLSv1_1, TLSv1_2]</p><p>Default: TLSv1_2</p><h2 id="http-auth-config">HTTP auth config</h2><p>http_auth</p><h3 id="password-secretsecret-required-http-auth-config-password">password (*secret.Secret, required) {#http auth-config-password}</h3><p>Password for basic authentication. <a href="../secret/">Secret</a></p><h3 id="username-secretsecret-required-http-auth-config-username">username (*secret.Secret, required) {#http auth-config-username}</h3><p>Username for basic authentication. <a href="../secret/">Secret</a></p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-1b992ac5779a83a537b40f5defa1bfa5">20 - Kafka</h1><h1 id="kafka-output-plugin-for-fluentd">Kafka output plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>For details, see <a href="https://github.com/fluent/fluent-plugin-kafka">https://github.com/fluent/fluent-plugin-kafka</a>.</p><p>For an example deployment, see <a href="../../../../quickstarts/kafka-nginx/">Transport Nginx Access Logs into Kafka with Logging Operator</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">kafka</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">brokers</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">kafka-headless.kafka.svc.cluster.local:29092</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">default_topic</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">topic</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">sasl_over_ssl</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">format</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">type</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">json</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">buffer</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">tags</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">topic</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">1m</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_wait</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">30s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_use_utc</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="kafka">Kafka</h2><p>Send your logs to Kafka. Set <code>use_rdkafka</code> to <code>true</code> to use the rdkafka2 client, which offers higher performance than ruby-kafka. (Note: requires fluentd image version v1.16-4.9-full or higher)
-<a href="https://github.com/fluent/fluent-plugin-kafka#output-plugin">more info</a></p><h3 id="kafka-ack_timeout">ack_timeout (int, optional)</h3><p>How long the producer waits for acks. The unit is seconds</p><p>Default: nil => Uses default of ruby-kafka library</p><h3 id="kafka-brokers">brokers (string, required)</h3><p>The list of all seed brokers, with their host and port information.</p><h3 id="kafka-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="kafka-client_id">client_id (string, optional)</h3><p>Client ID</p><p>Default: &ldquo;kafka&rdquo;</p><h3 id="kafka-compression_codec">compression_codec (string, optional)</h3><p>The codec the producer uses to compress messages . The available options are gzip and snappy.</p><p>Default: nil</p><h3 id="kafka-default_message_key">default_message_key (string, optional)</h3><p>The name of default message key .</p><p>Default: nil</p><h3 id="kafka-default_partition_key">default_partition_key (string, optional)</h3><p>The name of default partition key .</p><p>Default: nil</p><h3 id="kafka-default_topic">default_topic (string, optional)</h3><p>The name of default topic .</p><p>Default: nil</p><h3 id="kafka-discard_kafka_delivery_failed">discard_kafka_delivery_failed (bool, optional)</h3><p>Discard the record where Kafka DeliveryFailed occurred</p><p>Default: false</p><h3 id="kafka-exclude_partion_key">exclude_partion_key (bool, optional)</h3><p>Exclude Partition key</p><p>Default: false</p><h3 id="kafka-exclude_topic_key">exclude_topic_key (bool, optional)</h3><p>Exclude Topic key</p><p>Default: false</p><h3 id="kafka-format">format (*Format, required)</h3><p><a href="../format/">Format</a></p><h3 id="kafka-get_kafka_client_log">get_kafka_client_log (bool, optional)</h3><p>Get Kafka Client log</p><p>Default: false</p><h3 id="kafka-headers">headers (map[string]string, optional)</h3><p>Headers</p><p>Default: {}</p><h3 id="kafka-headers_from_record">headers_from_record (map[string]string, optional)</h3><p>Headers from Record</p><p>Default: {}</p><h3 id="kafka-idempotent">idempotent (bool, optional)</h3><p>Idempotent</p><p>Default: false</p><h3 id="kafka-kafka_agg_max_bytes">kafka_agg_max_bytes (int, optional)</h3><p>Maximum value of total message size to be included in one batch transmission. .</p><p>Default: 4096</p><h3 id="kafka-kafka_agg_max_messages">kafka_agg_max_messages (int, optional)</h3><p>Maximum number of messages to include in one batch transmission. .</p><p>Default: nil</p><h3 id="kafka-keytab">keytab (*secret.Secret, optional)</h3><h3 id="kafka-max_send_limit_bytes">max_send_limit_bytes (int, optional)</h3><p>Max byte size to send message to avoid MessageSizeTooLarge. Messages over the limit will be dropped</p><p>Default: no limit</p><h3 id="kafka-max_send_retries">max_send_retries (int, optional)</h3><p>Number of times to retry sending of messages to a leader</p><p>Default: 1</p><h3 id="kafka-message_key_key">message_key_key (string, optional)</h3><p>Message Key</p><p>Default: &ldquo;message_key&rdquo;</p><h3 id="kafka-partition_key">partition_key (string, optional)</h3><p>Partition</p><p>Default: &ldquo;partition&rdquo;</p><h3 id="kafka-partition_key_key">partition_key_key (string, optional)</h3><p>Partition Key</p><p>Default: &ldquo;partition_key&rdquo;</p><h3 id="kafka-password">password (*secret.Secret, optional)</h3><p>Password when using PLAIN/SCRAM SASL authentication</p><h3 id="kafka-principal">principal (string, optional)</h3><h3 id="kafka-rdkafka_options">rdkafka_options (*RdkafkaOptions, optional)</h3><p>RdkafkaOptions represents the global configuration properties for librdkafka. See <a href="#RdkafkaOptions">RdkafkaOptions</a> for details.</p><h3 id="kafka-required_acks">required_acks (int, optional)</h3><p>The number of acks required per request .</p><p>Default: -1</p><h3 id="kafka-ssl_ca_cert">ssl_ca_cert (*secret.Secret, optional)</h3><p>CA certificate</p><h3 id="kafka-ssl_ca_certs_from_system">ssl_ca_certs_from_system (*bool, optional)</h3><p>System&rsquo;s CA cert store</p><p>Default: false</p><h3 id="kafka-ssl_client_cert">ssl_client_cert (*secret.Secret, optional)</h3><p>Client certificate</p><h3 id="kafka-ssl_client_cert_chain">ssl_client_cert_chain (*secret.Secret, optional)</h3><p>Client certificate chain</p><h3 id="kafka-ssl_client_cert_key">ssl_client_cert_key (*secret.Secret, optional)</h3><p>Client certificate key</p><h3 id="kafka-ssl_verify_hostname">ssl_verify_hostname (*bool, optional)</h3><p>Verify certificate hostname</p><h3 id="kafka-sasl_over_ssl">sasl_over_ssl (*bool, optional)</h3><p>SASL over SSL</p><p>Default: true</p><h3 id="kafka-scram_mechanism">scram_mechanism (string, optional)</h3><p>If set, use SCRAM authentication with specified mechanism. When unset, default to PLAIN authentication</p><h3 id="kafka-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, Fluentd logs a warning message and increases the <code>fluentd_output_status_slow_flush_count</code> metric.</p><h3 id="kafka-topic_key">topic_key (string, optional)</h3><p>Topic Key</p><p>Default: &ldquo;topic&rdquo;</p><h3 id="kafka-use_default_for_unknown_topic">use_default_for_unknown_topic (bool, optional)</h3><p>Use default for unknown topics</p><p>Default: false</p><h3 id="kafka-use_rdkafka">use_rdkafka (bool, optional)</h3><p>Use rdkafka2 instead of the legacy kafka2 output plugin. This plugin requires fluentd image version v1.16-4.9-full or higher.</p><h3 id="kafka-username">username (*secret.Secret, optional)</h3><p>Username when using PLAIN/SCRAM SASL authentication</p><h2 id="rdkafkaoptions">RdkafkaOptions</h2><p>RdkafkaOptions represents the global configuration properties for librdkafka.</p><h3 id="rdkafkaoptions-allow.auto.create.topics">allow.auto.create.topics (bool, optional)</h3><p>Allow automatic topic creation on the broker when subscribing to or assigning non-existent topics. The broker must also be configured with <code>auto.create.topics.enable=true</code> for this configuration to take effect. Note: the default value (true) for the producer is different from the default value (false) for the consumer. Furthermore, the consumer default value is different from the Java consumer (true), and this property is not supported by the Java producer. Requires broker version >= 0.11.0.0. For older broker versions only the broker configuration applies.</p><h3 id="rdkafkaoptions-api.version.fallback.ms">api.version.fallback.ms (int, optional)</h3><p>Dictates how long the <code>broker.version.fallback</code> fallback is used in the case the ApiVersionRequest fails.</p><h3 id="rdkafkaoptions-api.version.request">api.version.request (bool, optional)</h3><p>Request broker&rsquo;s supported API versions to adjust functionality to available protocol features. If set to false, or the ApiVersionRequest fails, the fallback version <code>broker.version.fallback</code> will be used. Requires broker version >=0.10.0. If the request is not supported by (an older) broker, the <code>broker.version.fallback</code> fallback is used.</p><h3 id="rdkafkaoptions-api.version.request.timeout.ms">api.version.request.timeout.ms (int, optional)</h3><p>Timeout for broker API version requests.</p><h3 id="rdkafkaoptions-background_event_cb">background_event_cb (string, optional)</h3><p>Background queue event callback (set with rd_kafka_conf_set_background_event_cb())</p><h3 id="rdkafkaoptions-bootstrap.servers">bootstrap.servers (string, optional)</h3><p>Alias for <code>metadata.broker.list</code>: Initial list of brokers as a CSV list of broker host or host:port. The application may also use <code>rd_kafka_brokers_add()</code> to add brokers during runtime.</p><h3 id="rdkafkaoptions-broker.address.family">broker.address.family (string, optional)</h3><p>Allowed broker IP address families: any, v4, v6</p><h3 id="rdkafkaoptions-broker.address.ttl">broker.address.ttl (int, optional)</h3><p>How long to cache the broker address resolving results (milliseconds).</p><h3 id="rdkafkaoptions-broker.version.fallback">broker.version.fallback (string, optional)</h3><p>Older broker versions (before 0.10.0) provide no way for a client to query for supported protocol features (ApiVersionRequest, see <code>api.version.request</code>), making it impossible for the client to know what features it may use. As a workaround, a user may set this property to the expected broker version and the client will automatically adjust its feature set accordingly if the ApiVersionRequest fails (or is disabled). The fallback broker version will be used for <code>api.version.fallback.ms</code>. Valid values are: 0.9.0, 0.8.2, 0.8.1, 0.8.0. Any other value >= 0.10, such as 0.10.2.1, enables ApiVersionRequests.</p><h3 id="rdkafkaoptions-builtin.features">builtin.features (string, optional)</h3><p>Indicates the builtin features for this build of librdkafka. An application can either query this value or attempt to set it with its list of required features to check for library support.</p><h3 id="rdkafkaoptions-client.id">client.id (string, optional)</h3><p>Client identifier.</p><h3 id="rdkafkaoptions-closesocket_cb">closesocket_cb (string, optional)</h3><p>Socket close callback</p><h3 id="rdkafkaoptions-connect_cb">connect_cb (string, optional)</h3><p>Socket connect callback</p><h3 id="rdkafkaoptions-connections.max.idle.ms">connections.max.idle.ms (int, optional)</h3><p>Close broker connections after the specified time of inactivity. Disable with 0. If this property is left at its default value, some heuristics are performed to determine a suitable default value. This is currently limited to identifying brokers on Azure (see librdkafka issue #3109 for more info).</p><h3 id="rdkafkaoptions-debug">debug (string, optional)</h3><p>A comma-separated list of debug contexts to enable. Detailed Producer debugging: broker,topic,msg. Consumer: consumer,cgrp,topic,fetch</p><h3 id="rdkafkaoptions-default_topic_conf">default_topic_conf (string, optional)</h3><p>Default topic configuration for automatically subscribed topics</p><h3 id="rdkafkaoptions-enable.random.seed">enable.random.seed (bool, optional)</h3><p>If enabled, librdkafka will initialize the PRNG with srand(current_time.milliseconds) on the first invocation of rd_kafka_new() (required only if rand_r() is not available on your platform). If disabled the application must call srand() prior to calling rd_kafka_new().</p><h3 id="rdkafkaoptions-enable.ssl.certificate.verification">enable.ssl.certificate.verification (bool, optional)</h3><p>Enable OpenSSL&rsquo;s builtin broker (server) certificate verification. This verification can be extended by the application by implementing a certificate_verify_cb.</p><h3 id="rdkafkaoptions-enable.sasl.oauthbearer.unsecure.jwt">enable.sasl.oauthbearer.unsecure.jwt (bool, optional)</h3><p>Enable the builtin unsecure JWT OAUTHBEARER token handler if no oauthbearer_refresh_cb has been set. This builtin handler should only be used for development or testing, and not in production.</p><h3 id="rdkafkaoptions-enabled_events">enabled_events (int, optional)</h3><p>See <code>rd_kafka_conf_set_events()</code></p><h3 id="rdkafkaoptions-error_cb">error_cb (string, optional)</h3><p>Error callback (set with rd_kafka_conf_set_error_cb())</p><h3 id="rdkafkaoptions-interceptors">interceptors (string, optional)</h3><p>Interceptors added through rd_kafka_conf_interceptor_add_..() and any configuration handled by interceptors.</p><h3 id="rdkafkaoptions-internal.termination.signal">internal.termination.signal (int, optional)</h3><p>Signal that librdkafka will use to quickly terminate on rd_kafka_destroy(). If this signal is not set then there will be a delay before rd_kafka_wait_destroyed() returns true as internal threads are timing out their system calls. If this signal is set however the delay will be minimal. The application should mask this signal as an internal signal handler is installed.</p><h3 id="rdkafkaoptions-log_cb">log_cb (string, optional)</h3><p>Log callback (set with rd_kafka_conf_set_log_cb())</p><h3 id="rdkafkaoptions-log.connection.close">log.connection.close (bool, optional)</h3><p>Log broker disconnects. It might be useful to turn this off when interacting with 0.9 brokers with an aggressive <code>connections.max.idle.ms</code> value.</p><h3 id="rdkafkaoptions-log_level">log_level (int, optional)</h3><p>Logging level (syslog(3) levels)</p><h3 id="rdkafkaoptions-log.queue">log.queue (bool, optional)</h3><p>Disable spontaneous log_cb from internal librdkafka threads, instead enqueue log messages on queue set with <code>rd_kafka_set_log_queue()</code> and serve log callbacks or events through the standard poll APIs. <strong>NOTE</strong>: Log messages will linger in a temporary queue until the log queue has been set.</p><h3 id="rdkafkaoptions-log.thread.name">log.thread.name (bool, optional)</h3><p>Print internal thread name in log messages (useful for debugging librdkafka internals)</p><h3 id="rdkafkaoptions-max.in.flight">max.in.flight (int, optional)</h3><p>Alias for <code>max.in.flight.requests.per.connection</code>: Maximum number of in-flight requests per broker connection. This is a generic property applied to all broker communication, however it is primarily relevant to produce requests. In particular, note that other mechanisms limit the number of outstanding consumer fetch request per broker to one.</p><h3 id="rdkafkaoptions-max.in.flight.requests.per.connection">max.in.flight.requests.per.connection (int, optional)</h3><p>Maximum number of in-flight requests per broker connection. This is a generic property applied to all broker communication, however it is primarily relevant to produce requests. In particular, note that other mechanisms limit the number of outstanding consumer fetch request per broker to one.</p><h3 id="rdkafkaoptions-message.copy.max.bytes">message.copy.max.bytes (int, optional)</h3><p>Maximum size for message to be copied to buffer. Messages larger than this will be passed by reference (zero-copy) at the expense of larger iovecs.</p><h3 id="rdkafkaoptions-message.max.bytes">message.max.bytes (int, optional)</h3><p>Maximum Kafka protocol request message size. Due to differing framing overhead between protocol versions the producer is unable to reliably enforce a strict max message limit at produce time and may exceed the maximum size by one message in protocol ProduceRequests, the broker will enforce the the topic&rsquo;s <code>max.message.bytes</code> limit (see Apache Kafka documentation).</p><h3 id="rdkafkaoptions-metadata.broker.list">metadata.broker.list (string, optional)</h3><p>Initial list of brokers as a CSV list of broker host or host:port. The application may also use <code>rd_kafka_brokers_add()</code> to add brokers during runtime.</p><h3 id="rdkafkaoptions-metadata.max.age.ms">metadata.max.age.ms (int, optional)</h3><p>Metadata cache max age. Defaults to topic.metadata.refresh.interval.ms * 3</p><h3 id="rdkafkaoptions-oauthbearer_token_refresh_cb">oauthbearer_token_refresh_cb (string, optional)</h3><p>SASL/OAUTHBEARER token refresh callback (set with rd_kafka_conf_set_oauthbearer_token_refresh_cb(), triggered by rd_kafka_poll(), et.al). This callback will be triggered when it is time to refresh the client&rsquo;s OAUTHBEARER token. Also see rd_kafka_conf_enable_sasl_queue().</p><h3 id="rdkafkaoptions-opaque">opaque (string, optional)</h3><p>Application opaque (set with rd_kafka_conf_set_opaque())</p><h3 id="rdkafkaoptions-open_cb">open_cb (string, optional)</h3><p>File open callback to provide race-free CLOEXEC</p><h3 id="rdkafkaoptions-plugin.library.paths">plugin.library.paths (string, optional)</h3><p>List of plugin libraries to load (; separated). The library search path is platform dependent (see dlopen(3) for Unix and LoadLibrary() for Windows). If no filename extension is specified the platform-specific extension (such as .dll or .so) will be appended automatically.</p><h3 id="rdkafkaoptions-receive.message.max.bytes">receive.message.max.bytes (int, optional)</h3><p>Maximum Kafka protocol response message size. This serves as a safety precaution to avoid memory exhaustion in case of protocol hickups. This value must be at least <code>fetch.max.bytes</code> + 512 to allow for protocol overhead; the value is adjusted automatically unless the configuration property is explicitly set.</p><h3 id="rdkafkaoptions-reconnect.backoff.max.ms">reconnect.backoff.max.ms (int, optional)</h3><p>The maximum time to wait before reconnecting to a broker after the connection has been closed.</p><h3 id="rdkafkaoptions-reconnect.backoff.ms">reconnect.backoff.ms (int, optional)</h3><p>The initial time to wait before reconnecting to a broker after the connection has been closed. The time is increased exponentially until <code>reconnect.backoff.max.ms</code> is reached. -25% to +50% jitter is applied to each reconnect backoff. A value of 0 disables the backoff and reconnects immediately.</p><h3 id="rdkafkaoptions-resolve_cb">resolve_cb (string, optional)</h3><p>Address resolution callback (set with rd_kafka_conf_set_resolve_cb())</p><h3 id="rdkafkaoptions-ssl.ca.location">ssl.ca.location (string, optional)</h3><p>File or directory path to CA certificate(s) for verifying the broker&rsquo;s key. Defaults: On Windows the system&rsquo;s CA certificates are automatically looked up in the Windows Root certificate store. On Mac OSX this configuration defaults to <code>probe</code>. It is recommended to install openssl using Homebrew, to provide CA certificates. On Linux install the distribution&rsquo;s ca-certificates package. If OpenSSL is statically linked or <code>ssl.ca.location</code> is set to <code>probe</code> a list of standard paths will be probed and the first one found will be used as the default CA certificate location path. If OpenSSL is dynamically linked the OpenSSL library&rsquo;s default path will be used (see <code>OPENSSLDIR</code> in <code>openssl version -a</code>).</p><h3 id="rdkafkaoptions-ssl.ca.pem">ssl.ca.pem (string, optional)</h3><p>CA certificate string (PEM format) for verifying the broker&rsquo;s key.</p><h3 id="rdkafkaoptions-ssl.certificate.location">ssl.certificate.location (string, optional)</h3><p>Path to client&rsquo;s public key (PEM) used for authentication.</p><h3 id="rdkafkaoptions-ssl.certificate.pem">ssl.certificate.pem (string, optional)</h3><p>Client&rsquo;s public key string (PEM format) used for authentication.</p><h3 id="rdkafkaoptions-ssl.cipher.suites">ssl.cipher.suites (string, optional)</h3><p>A cipher suite is a named combination of authentication, encryption, MAC and key exchange algorithm used to negotiate the security settings for a network connection using TLS or SSL network protocol. See manual page for <code>ciphers(1)</code> and `SSL_CTX_set_cipher_list(3).</p><h3 id="rdkafkaoptions-ssl.crl.location">ssl.crl.location (string, optional)</h3><p>Path to CRL for verifying broker&rsquo;s certificate validity.</p><h3 id="rdkafkaoptions-ssl.curves.list">ssl.curves.list (string, optional)</h3><p>The supported-curves extension in the TLS ClientHello message specifies the curves (standard/named, or &rsquo;explicit&rsquo; GF(2^k) or GF(p)) the client is willing to have the server use. See manual page for <code>SSL_CTX_set1_curves_list(3)</code>. OpenSSL >= 1.0.2 required.</p><h3 id="rdkafkaoptions-ssl.endpoint.identification.algorithm">ssl.endpoint.identification.algorithm (string, optional)</h3><p>Endpoint identification algorithm to validate broker hostname using broker certificate. https - Server (broker) hostname verification as specified in RFC2818. none - No endpoint verification. OpenSSL >= 1.0.2 required.</p><h3 id="rdkafkaoptions-ssl.engine.id">ssl.engine.id (string, optional)</h3><p>OpenSSL engine id is the name used for loading engine.</p><h3 id="rdkafkaoptions-ssl.engine.location">ssl.engine.location (string, optional)</h3><p><strong>DEPRECATED</strong> Path to OpenSSL engine library. OpenSSL >= 1.1.x required. DEPRECATED: OpenSSL engine support is deprecated and should be replaced by OpenSSL 3 providers.</p><h3 id="rdkafkaoptions-ssl.key.location">ssl.key.location (string, optional)</h3><p>Path to client&rsquo;s private key (PEM) used for authentication.</p><h3 id="rdkafkaoptions-ssl.key.password">ssl.key.password (string, optional)</h3><p>Private key passphrase (for use with <code>ssl.key.location</code> and <code>set_ssl_cert()</code>).</p><h3 id="rdkafkaoptions-ssl.key.pem">ssl.key.pem (string, optional)</h3><p>Client&rsquo;s private key string (PEM format) used for authentication.</p><h3 id="rdkafkaoptions-ssl.keystore.location">ssl.keystore.location (string, optional)</h3><p>Path to client&rsquo;s keystore (PKCS#12) used for authentication.</p><h3 id="rdkafkaoptions-ssl.keystore.password">ssl.keystore.password (string, optional)</h3><p>Client&rsquo;s keystore (PKCS#12) password.</p><h3 id="rdkafkaoptions-ssl.providers">ssl.providers (string, optional)</h3><p>Comma-separated list of OpenSSL 3.0.x implementation providers. E.g., &ldquo;default,legacy&rdquo;.</p><h3 id="rdkafkaoptions-ssl.sigalgs.list">ssl.sigalgs.list (string, optional)</h3><p>The client uses the TLS ClientHello signature_algorithms extension to indicate to the server which signature/hash algorithm pairs may be used in digital signatures. See manual page for <code>SSL_CTX_set1_sigalgs_list(3)</code>. OpenSSL >= 1.0.2 required.</p><h3 id="rdkafkaoptions-sasl.kerberos.keytab">sasl.kerberos.keytab (string, optional)</h3><p>Path to Kerberos keytab file. This configuration property is only used as a variable in sasl.kerberos.kinit.cmd as &mldr; -t &ldquo;%{sasl.kerberos.keytab}&rdquo;.</p><h3 id="rdkafkaoptions-sasl.kerberos.kinit.cmd">sasl.kerberos.kinit.cmd (string, optional)</h3><p>Shell command to refresh or acquire the client&rsquo;s Kerberos ticket. This command is executed on client creation and every sasl.kerberos.min.time.before.relogin (0=disable).</p><h3 id="rdkafkaoptions-sasl.kerberos.min.time.before.relogin">sasl.kerberos.min.time.before.relogin (int, optional)</h3><p>Minimum time in milliseconds between key refresh attempts. Disable automatic key refresh by setting this property to 0.</p><h3 id="rdkafkaoptions-sasl.kerberos.principal">sasl.kerberos.principal (string, optional)</h3><p>This client&rsquo;s Kerberos principal name. (Not supported on Windows, will use the logon user&rsquo;s principal).</p><h3 id="rdkafkaoptions-sasl.kerberos.service.name">sasl.kerberos.service.name (string, optional)</h3><p>Kerberos principal name that Kafka runs as, not including /hostname@REALM.</p><h3 id="rdkafkaoptions-sasl.mechanisms">sasl.mechanisms (string, optional)</h3><p>SASL mechanism to use for authentication. Supported: GSSAPI, PLAIN, SCRAM-SHA-256, SCRAM-SHA-512, OAUTHBEARER. NOTE: Despite the name only one mechanism must be configured.</p><h3 id="rdkafkaoptions-sasl.oauthbearer.client.id">sasl.oauthbearer.client.id (string, optional)</h3><p>Public identifier for the application. Must be unique across all clients that the authorization server handles. Only used when sasl.oauthbearer.method is set to &ldquo;oidc&rdquo;.</p><h3 id="rdkafkaoptions-sasl.oauthbearer.client.secret">sasl.oauthbearer.client.secret (string, optional)</h3><p>Client secret only known to the application and the authorization server. This should be a sufficiently random string that is not guessable. Only used when sasl.oauthbearer.method is set to &ldquo;oidc&rdquo;.</p><h3 id="rdkafkaoptions-sasl.oauthbearer.config">sasl.oauthbearer.config (string, optional)</h3><p>SASL/OAUTHBEARER configuration. The format is implementation-dependent and must be parsed accordingly. The default unsecured token implementation (see <a href="https://tools.ietf.org/html/rfc7515#appendix-A.5">https://tools.ietf.org/html/rfc7515#appendix-A.5</a>) recognizes space-separated name=value pairs with valid names including principalClaimName, principal, scopeClaimName, scope, and lifeSeconds. The default value for principalClaimName is &ldquo;sub&rdquo;, the default value for scopeClaimName is &ldquo;scope&rdquo;, and the default value for lifeSeconds is 3600. The scope value is CSV format with the default value being no/empty scope. For example: principalClaimName=azp principal=admin scopeClaimName=roles scope=role1,role2 lifeSeconds=600. In addition, SASL extensions can be communicated to the broker via extension_NAME=value. For example: principal=admin extension_traceId=123.</p><h3 id="rdkafkaoptions-sasl.oauthbearer.extensions">sasl.oauthbearer.extensions (string, optional)</h3><p>Allow additional information to be provided to the broker. Comma-separated list of key=value pairs. E.g., &ldquo;supportFeatureX=true,organizationId=sales-emea&rdquo;.Only used when sasl.oauthbearer.method is set to &ldquo;oidc&rdquo;.</p><h3 id="rdkafkaoptions-sasl.oauthbearer.method">sasl.oauthbearer.method (string, optional)</h3><p>Set to &ldquo;default&rdquo; or &ldquo;oidc&rdquo; to control which login method to be used. If set to &ldquo;oidc&rdquo;, the following properties must also be specified: sasl.oauthbearer.client.id, sasl.oauthbearer.client.secret, and sasl.oauthbearer.token.endpoint.url.</p><h3 id="rdkafkaoptions-sasl.oauthbearer.scope">sasl.oauthbearer.scope (string, optional)</h3><p>Client use this to specify the scope of the access request to the broker. Only used when sasl.oauthbearer.method is set to &ldquo;oidc&rdquo;.</p><h3 id="rdkafkaoptions-sasl.oauthbearer.token.endpoint.url">sasl.oauthbearer.token.endpoint.url (string, optional)</h3><p>OAuth/OIDC issuer token endpoint HTTP(S) URI used to retrieve token. Only used when sasl.oauthbearer.method is set to &ldquo;oidc&rdquo;.</p><h3 id="rdkafkaoptions-sasl.password">sasl.password (string, optional)</h3><p>SASL password for use with the PLAIN and SASL-SCRAM-.. mechanism.</p><h3 id="rdkafkaoptions-sasl.username">sasl.username (string, optional)</h3><p>SASL username for use with the PLAIN and SASL-SCRAM-.. mechanisms.</p><h3 id="rdkafkaoptions-security.protocol">security.protocol (string, optional)</h3><p>Protocol used to communicate with brokers.</p><h3 id="rdkafkaoptions-socket.blocking.max.ms">socket.blocking.max.ms (int, optional)</h3><p>DEPRECATED No longer used.</p><h3 id="rdkafkaoptions-socket_cb">socket_cb (string, optional)</h3><p>Socket creation callback to provide race-free CLOEXEC</p><h3 id="rdkafkaoptions-socket.connection.setup.timeout.ms">socket.connection.setup.timeout.ms (int, optional)</h3><p>Maximum time allowed for broker connection setup (TCP connection setup as well SSL and SASL handshake). If the connection to the broker is not fully functional after this the connection will be closed and retried.</p><h3 id="rdkafkaoptions-socket.keepalive.enable">socket.keepalive.enable (bool, optional)</h3><p>Enable TCP keep-alives (SO_KEEPALIVE) on broker sockets</p><h3 id="rdkafkaoptions-socket.max.fails">socket.max.fails (int, optional)</h3><p>Disconnect from broker when this number of send failures (e.g., timed out requests) is reached. Disable with 0. WARNING: It is highly recommended to leave this setting at its default value of 1 to avoid the client and broker to become desynchronized in case of request timeouts. NOTE: The connection is automatically re-established.</p><h3 id="rdkafkaoptions-socket.nagle.disable">socket.nagle.disable (bool, optional)</h3><p>Disable the Nagle algorithm (TCP_NODELAY) on broker sockets.</p><h3 id="rdkafkaoptions-socket.receive.buffer.bytes">socket.receive.buffer.bytes (int, optional)</h3><p>Broker socket receive buffer size. System default is used if 0.</p><h3 id="rdkafkaoptions-socket.send.buffer.bytes">socket.send.buffer.bytes (int, optional)</h3><p>Broker socket send buffer size. System default is used if 0.</p><h3 id="rdkafkaoptions-socket.timeout.ms">socket.timeout.ms (int, optional)</h3><p>Default timeout for network requests. Producer: ProduceRequests will use the lesser value of <code>socket.timeout.ms</code> and remaining <code>message.timeout.ms</code> for the first message in the batch. Consumer: FetchRequests will use <code>fetch.wait.max.ms</code> + <code>socket.timeout.ms</code>. Admin: Admin requests will use <code>socket.timeout.ms</code> or explicitly set <code>rd_kafka_AdminOptions_set_operation_timeout()</code> value.</p><h3 id="rdkafkaoptions-statistics.interval.ms">statistics.interval.ms (int, optional)</h3><p>librdkafka statistics emit interval. The application also needs to register a stats callback using <code>rd_kafka_conf_set_stats_cb()</code>. The granularity is 1000ms. A value of 0 disables statistics.</p><h3 id="rdkafkaoptions-stats_cb">stats_cb (string, optional)</h3><p>Statistics callback (set with rd_kafka_conf_set_stats_cb())</p><h3 id="rdkafkaoptions-throttle_cb">throttle_cb (string, optional)</h3><p>Throttle callback (set with rd_kafka_conf_set_throttle_cb())</p><h3 id="rdkafkaoptions-topic.blacklist">topic.blacklist (string, optional)</h3><p>Topic blacklist, a comma-separated list of regular expressions for matching topic names that should be ignored in broker metadata information as if the topics did not exist.</p><h3 id="rdkafkaoptions-topic.metadata.propagation.max.ms">topic.metadata.propagation.max.ms (int, optional)</h3><p>Apache Kafka topic creation is asynchronous and it takes some time for a new topic to propagate throughout the cluster to all brokers. If a client requests topic metadata after manual topic creation but before the topic has been fully propagated to the broker the client is requesting metadata from, the topic will seem to be non-existent and the client will mark the topic as such, failing queued produced messages with <code>ERR__UNKNOWN_TOPIC</code>. This setting delays marking a topic as non-existent until the configured propagation max time has passed. The maximum propagation time is calculated from the time the topic is first referenced in the client, e.g., on produce().</p><h3 id="rdkafkaoptions-topic.metadata.refresh.fast.interval.ms">topic.metadata.refresh.fast.interval.ms (int, optional)</h3><p>When a topic loses its leader a new metadata request will be enqueued immediately and then with this initial interval, exponentially increasing upto <code>retry.backoff.max.ms</code>, until the topic metadata has been refreshed. If not set explicitly, it will be defaulted to <code>retry.backoff.ms</code>. This is used to recover quickly from transitioning leader brokers.</p><h3 id="rdkafkaoptions-topic.metadata.refresh.interval.ms">topic.metadata.refresh.interval.ms (int, optional)</h3><p>Period of time in milliseconds at which topic and broker metadata is refreshed in order to proactively discover any new brokers, topics, partitions or partition leader changes. Use -1 to disable the intervalled refresh (not recommended). If there are no locally referenced topics (no topic objects created, no messages produced, no subscription or no assignment) then only the broker list will be refreshed every interval but no more often than every 10s.</p><h3 id="rdkafkaoptions-topic.metadata.refresh.sparse">topic.metadata.refresh.sparse (bool, optional)</h3><p>Sparse metadata requests (consumes less network bandwidth)</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-3736a73536ae2ea19873950bfc5c1521">21 - LogDNA</h1><h1 id="logdna-outputhttpsgithubcomlogdnafluent-plugin-logdna"><a href="https://github.com/logdna/fluent-plugin-logdna">LogDNA Output</a></h1><h2 id="overview">Overview</h2><p>This plugin has been designed to output logs to LogDNA.</p><h2 id="configuration">Configuration</h2><h2 id="logdna">LogDNA</h2><p>Send your logs to LogDNA</p><h3 id="logdna-api_key">api_key (string, required)</h3><p>LogDNA Api key</p><h3 id="logdna-app">app (string, optional)</h3><p>Application name</p><h3 id="logdna-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="logdna-hostname">hostname (string, required)</h3><p>Hostname</p><h3 id="logdna-ingester_domain">ingester_domain (string, optional)</h3><p>Custom Ingester URL, Optional</p><p>Default: <code>https://logs.logdna.com</code></p><h3 id="logdna-ingester_endpoint">ingester_endpoint (string, optional)</h3><p>Custom Ingester Endpoint, Optional</p><p>Default: /logs/ingest</p><h3 id="logdna-request_timeout">request_timeout (string, optional)</h3><p>HTTPS POST Request Timeout, Optional. Supports s and ms Suffices</p><p>Default: 30 s</p><h3 id="logdna-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, Fluentd logs a warning message and increases the <code>fluentd_output_status_slow_flush_count</code> metric.</p><h3 id="logdna-tags">tags (string, optional)</h3><p>Comma-Separated List of Tags, Optional</p><h2 id="example-logdna-filter-configurations">Example <code>LogDNA</code> filter configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Output</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logdna-output-sample</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">logdna</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">api_key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">xxxxxxxxxxxxxxxxxxxxxxxxxxx</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">hostname</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging-operator</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">app</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">my-app</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">tags</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">web,dev</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#000">ingester_domain https://logs.logdna.com</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#000">ingester_endpoint /logs/ingest</span></span></span></code></pre></div><p>Fluentd config result:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#000">&lt;match **&gt;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">	</span>@<span style="color:#000">type logdna</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">	</span>@<span style="color:#000">id test_logdna</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">	</span><span style="color:#000">api_key xxxxxxxxxxxxxxxxxxxxxxxxxxy</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">	</span><span style="color:#000">app my-app</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">	</span><span style="color:#000">hostname logging-operator</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#000">&lt;/match&gt;</span></span></span></code></pre></div><hr>
</div><div class="td-content" style="page-break-before:always">
<h1 id="pg-f5b4f39075d38f596892cbc946ca5735">22 - LogZ</h1><h1 id="logz-output-plugin-for-fluentd">LogZ output plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>For details, see <a href="https://github.com/tarokkk/fluent-plugin-logzio">https://github.com/tarokkk/fluent-plugin-logzio</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">logz</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">endpoint</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">url</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">https://listener.logz.io</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">port</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">8071</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">token</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">valueFrom</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">         </span><span style="color:#204a87;font-weight:700">secretKeyRef</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">           </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logz-token</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">           </span><span style="color:#204a87;font-weight:700">key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">token</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">output_include_tags</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">output_include_time</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">buffer</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">type</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">file</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">flush_mode</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">interval</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">flush_thread_count</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">4</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">flush_interval</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">5s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">chunk_limit_size</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">16m</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">queue_limit_length</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">4096</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="logzio">Logzio</h2><p>LogZ Send your logs to LogZ.io</p><h3 id="logzio-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="logzio-bulk_limit">bulk_limit (int, optional)</h3><p>Limit to the size of the Logz.io upload bulk. Defaults to 1000000 bytes leaving about 24kB for overhead.</p><h3 id="logzio-bulk_limit_warning_limit">bulk_limit_warning_limit (int, optional)</h3><p>Limit to the size of the Logz.io warning message when a record exceeds bulk_limit to prevent a recursion when Fluent warnings are sent to the Logz.io output.</p><h3 id="logzio-endpoint">endpoint (*Endpoint, required)</h3><p>Define LogZ endpoint URL</p><h3 id="logzio-gzip">gzip (bool, optional)</h3><p>Should the plugin ship the logs in gzip compression. Default is false.</p><h3 id="logzio-http_idle_timeout">http_idle_timeout (int, optional)</h3><p>Timeout in seconds that the http persistent connection will stay open without traffic.</p><h3 id="logzio-output_include_tags">output_include_tags (bool, optional)</h3><p>Should the appender add the fluentd tag to the document, called &ldquo;fluentd_tag&rdquo;</p><h3 id="logzio-output_include_time">output_include_time (bool, optional)</h3><p>Should the appender add a timestamp to your logs on their process time (recommended).</p><h3 id="logzio-retry_count">retry_count (int, optional)</h3><p>How many times to resend failed bulks.</p><h3 id="logzio-retry_sleep">retry_sleep (int, optional)</h3><p>How long to sleep initially between retries, exponential step-off.</p><h3 id="logzio-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, Fluentd logs a warning message and increases the <code>fluentd_output_status_slow_flush_count</code> metric.</p><h2 id="endpoint">Endpoint</h2><p>Endpoint defines connection details for LogZ.io.</p><h3 id="endpoint-port">port (int, optional)</h3><p>Port over which to connect to LogZ URL.</p><p>Default: 8071</p><h3 id="endpoint-token">token (*secret.Secret, optional)</h3><p>LogZ API Token. <a href="../secret/">Secret</a></p><h3 id="endpoint-url">url (string, optional)</h3><p>LogZ URL.</p><p>Default: <a href="https://listener.logz.io">https://listener.logz.io</a></p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-683bbb879ced9c27f3943b7a4809b29e">23 - Mattermost</h1><h1 id="mattermost-plugin-for-fluentd">Mattermost plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>Sends logs to Mattermost via webhooks.
For details, see <a href="https://github.com/levigo-systems/fluent-plugin-mattermost">https://github.com/levigo-systems/fluent-plugin-mattermost</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">mattermost</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">webhook_url</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">https://xxx.xx/hooks/xxxxxxxxxxxxxxx</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">channel_id</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">xxxxxxxxxxxxxxx</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">message_color</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;#FFA500&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">enable_tls</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="output-config">Output Config</h2><h3 id="output-config-ca_path">ca_path (*secret.Secret, optional)</h3><p>The path of the CA certificates.</p><h3 id="output-config-channel_id">channel_id (string, optional)</h3><p>The ID of the channel where you want to receive the information.</p><h3 id="output-config-enable_tls">enable_tls (*bool, optional)</h3><p>You can set the communication channel if it uses TLS.</p><p>Default: true</p><h3 id="output-config-message">message (string, optional)</h3><p>The message you want to send. It can be a static message, which you add at this point, or you can receive the Fluentd infos with the %s</p><h3 id="output-config-message_color">message_color (string, optional)</h3><p>Color of the message you are sending, in hexadecimal format.</p><p>Default: #A9A9A9</p><h3 id="output-config-message_title">message_title (string, optional)</h3><p>The title you want to add to the message.</p><p>Default: fluent_title_default</p><h3 id="output-config-webhook_url">webhook_url (*secret.Secret, required)</h3><p>Incoming Webhook URI (Required for Incoming Webhook mode).</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-434371d7a3888abd2a15c4cd22f941cc">24 - NewRelic</h1><h1 id="new-relic-logs-plugin-for-fluentd">New Relic Logs plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>Output plugin send log data to New Relic Logs</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">newrelic</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">license_key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">valueFrom</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">secretKeyRef</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging-newrelic</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">licenseKey</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="output-config">Output Config</h2><h3 id="output-config-api_key">api_key (*secret.Secret, optional)</h3><p>New Relic API Insert key <a href="../secret/">Secret</a></p><h3 id="output-config-base_uri">base_uri (string, optional)</h3><p>New Relic ingestion endpoint <a href="../secret/">Secret</a></p><p>Default: <code>https://log-api.newrelic.com/log/v1</code></p><h3 id="output-config-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="output-config-format">format (*Format, optional)</h3><p><a href="../format/">Format</a></p><h3 id="output-config-license_key">license_key (*secret.Secret, optional)</h3><p>New Relic License Key (recommended) <a href="../secret/">Secret</a>.</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-bb72140946679f3fa6eaf82e404ea444">25 - OpenSearch</h1><h1 id="opensearch-output-plugin-for-fluentd">OpenSearch output plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>For details, see <a href="https://github.com/fluent/fluent-plugin-opensearch">https://github.com/fluent/fluent-plugin-opensearch</a>.</p><p>For an example deployment, see <a href="../../../../quickstarts/es-nginx/">Save all logs to OpenSearch</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">opensearch</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">host</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">opensearch-cluster.default.svc.cluster.local</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">port</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">9200</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">scheme</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">https</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">ssl_verify</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">ssl_version</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">TLSv1_2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">buffer</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">1m</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_wait</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">30s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_use_utc</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="opensearch">OpenSearch</h2><p>Send your logs to OpenSearch</p><h3 id="opensearch-application_name">application_name (*string, optional)</h3><p>Specify the application name for the rollover index to be created.</p><p>Default: default</p><h3 id="opensearch-buffer">buffer (*Buffer, optional)</h3><h3 id="opensearch-bulk_message_request_threshold">bulk_message_request_threshold (string, optional)</h3><p>Configure bulk_message request splitting threshold size. Default value is 20MB. (20 * 1024 * 1024) If you specify this size as negative number, bulk_message request splitting feature will be disabled.</p><p>Default: 20MB</p><h3 id="opensearch-catch_transport_exception_on_retry">catch_transport_exception_on_retry (*bool, optional)</h3><p>catch_transport_exception_on_retry (default: true)</p><p>Default: true</p><h3 id="opensearch-compression_level">compression_level (string, optional)</h3><p>compression_level</p><h3 id="opensearch-custom_headers">custom_headers (string, optional)</h3><p>This parameter adds additional headers to request. Example: <code>{"token":"secret"}</code></p><p>Default: {}</p><h3 id="opensearch-customize_template">customize_template (string, optional)</h3><p>Specify the string and its value to be replaced in form of hash. Can contain multiple key value pair that would be replaced in the specified template_file. This setting only creates template and to add rollover index please check the rollover_index configuration.</p><h3 id="opensearch-data_stream_enable">data_stream_enable (*bool, optional)</h3><p>Use @type opensearch_data_stream</p><h3 id="opensearch-data_stream_name">data_stream_name (string, optional)</h3><p>You can specify Opensearch data stream name by this parameter. This parameter is mandatory for opensearch_data_stream.</p><h3 id="opensearch-data_stream_template_name">data_stream_template_name (string, optional)</h3><p>Specify an existing index template for the data stream. If not present, a new template is created and named after the data stream.</p><p>Default: data_stream_name</p><h3 id="opensearch-default_opensearch_version">default_opensearch_version (int, optional)</h3><p>max_retry_get_os_version</p><p>Default: 1</p><h3 id="opensearch-emit_error_for_missing_id">emit_error_for_missing_id (bool, optional)</h3><p>emit_error_for_missing_id</p><p>Default: false</p><h3 id="opensearch-emit_error_label_event">emit_error_label_event (*bool, optional)</h3><p>emit_error_label_event (default: true)</p><p>Default: true</p><h3 id="opensearch-endpoint">endpoint (*OpenSearchEndpointCredentials, optional)</h3><p>AWS Endpoint Credentials</p><h3 id="opensearch-exception_backup">exception_backup (*bool, optional)</h3><p>Indicates whether to backup chunk when ignore exception occurs.</p><p>Default: true</p><h3 id="opensearch-fail_on_detecting_os_version_retry_exceed">fail_on_detecting_os_version_retry_exceed (*bool, optional)</h3><p>fail_on_detecting_os_version_retry_exceed (default: true)</p><p>Default: true</p><h3 id="opensearch-fail_on_putting_template_retry_exceed">fail_on_putting_template_retry_exceed (*bool, optional)</h3><p>Indicates whether to fail when max_retry_putting_template is exceeded. If you have multiple output plugin, you could use this property to do not fail on Fluentd statup.(default: true)</p><p>Default: true</p><h3 id="opensearch-flatten_hashes">flatten_hashes (bool, optional)</h3><p><a href="https://github.com/fluent/fluent-plugin-opensearch#hash-flattening">https://github.com/fluent/fluent-plugin-opensearch#hash-flattening</a></p><h3 id="opensearch-flatten_hashes_separator">flatten_hashes_separator (string, optional)</h3><p>Flatten separator</p><h3 id="opensearch-host">host (string, optional)</h3><p>You can specify OpenSearch host by this parameter.</p><p>Default: localhost</p><h3 id="opensearch-hosts">hosts (string, optional)</h3><p>You can specify multiple OpenSearch hosts with separator &ldquo;,&rdquo;. If you specify hosts option, host and port options are ignored.</p><h3 id="opensearch-http_backend">http_backend (string, optional)</h3><p>With http_backend typhoeus, the opensearch plugin uses typhoeus faraday http backend. Typhoeus can handle HTTP keepalive.</p><p>Default: excon</p><h3 id="opensearch-http_backend_excon_nonblock">http_backend_excon_nonblock (*bool, optional)</h3><p>http_backend_excon_nonblock</p><p>Default: true</p><h3 id="opensearch-id_key">id_key (string, optional)</h3><p>Field on your data to identify the data uniquely</p><h3 id="opensearch-ignore_exceptions">ignore_exceptions (string, optional)</h3><p>A list of exception that will be ignored - when the exception occurs the chunk will be discarded and the buffer retry mechanism won&rsquo;t be called. It is possible also to specify classes at higher level in the hierarchy.</p><h3 id="opensearch-include_index_in_url">include_index_in_url (bool, optional)</h3><p>With this option set to true, Fluentd manifests the index name in the request URL (rather than in the request body). You can use this option to enforce an URL-based access control.</p><h3 id="opensearch-include_tag_key">include_tag_key (bool, optional)</h3><p>This will add the Fluentd tag in the JSON record.</p><p>Default: false</p><h3 id="opensearch-include_timestamp">include_timestamp (bool, optional)</h3><p>Adds a @timestamp field to the log, following all settings logstash_format does, except without the restrictions on index_name. This allows one to log to an alias in OpenSearch and utilize the rollover API.</p><p>Default: false</p><h3 id="opensearch-index_date_pattern">index_date_pattern (*string, optional)</h3><p>Specify this to override the index date pattern for creating a rollover index.</p><p>Default: now/d</p><h3 id="opensearch-index_name">index_name (string, optional)</h3><p>The index name to write events to</p><p>Default: fluentd</p><h3 id="opensearch-index_separator">index_separator (string, optional)</h3><p>index_separator</p><p>Default: -</p><h3 id="opensearch-log_os_400_reason">log_os_400_reason (bool, optional)</h3><p>log_os_400_reason</p><p>Default: false</p><h3 id="opensearch-logstash_dateformat">logstash_dateformat (string, optional)</h3><p>Set the Logstash date format.</p><p>Default: %Y.%m.%d</p><h3 id="opensearch-logstash_format">logstash_format (bool, optional)</h3><p>Enable Logstash log format.</p><p>Default: false</p><h3 id="opensearch-logstash_prefix">logstash_prefix (string, optional)</h3><p>Set the Logstash prefix.</p><p>Default: logstash</p><h3 id="opensearch-logstash_prefix_separator">logstash_prefix_separator (string, optional)</h3><p>Set the Logstash prefix separator.</p><p>Default: -</p><h3 id="opensearch-max_retry_get_os_version">max_retry_get_os_version (int, optional)</h3><p>max_retry_get_os_version</p><p>Default: 15</p><h3 id="opensearch-max_retry_putting_template">max_retry_putting_template (string, optional)</h3><p>You can specify times of retry putting template.</p><p>Default: 10</p><h3 id="opensearch-parent_key">parent_key (string, optional)</h3><p>parent_key</p><h3 id="opensearch-password">password (*secret.Secret, optional)</h3><p>Password for HTTP Basic authentication. <a href="../secret/">Secret</a></p><h3 id="opensearch-path">path (string, optional)</h3><p>Path for HTTP Basic authentication.</p><h3 id="opensearch-pipeline">pipeline (string, optional)</h3><p>This param is to set a pipeline ID of your OpenSearch to be added into the request, you can configure ingest node.</p><h3 id="opensearch-port">port (int, optional)</h3><p>You can specify OpenSearch port by this parameter.</p><p>Default: 9200</p><h3 id="opensearch-prefer_oj_serializer">prefer_oj_serializer (bool, optional)</h3><p>With default behavior, OpenSearch client uses Yajl as JSON encoder/decoder. Oj is the alternative high performance JSON encoder/decoder. When this parameter sets as true, OpenSearch client uses Oj as JSON encoder/decoder.</p><p>Default: false</p><h3 id="opensearch-reconnect_on_error">reconnect_on_error (bool, optional)</h3><p>Indicates that the plugin should reset connection on any error (reconnect on next send). By default it will reconnect only on &ldquo;host unreachable exceptions&rdquo;. We recommended to set this true in the presence of OpenSearch shield.</p><p>Default: false</p><h3 id="opensearch-reload_after">reload_after (string, optional)</h3><p>When reload_connections true, this is the integer number of operations after which the plugin will reload the connections. The default value is 10000.</p><h3 id="opensearch-reload_connections">reload_connections (*bool, optional)</h3><p>You can tune how the OpenSearch-transport host reloading feature works.(default: true)</p><p>Default: true</p><h3 id="opensearch-reload_on_failure">reload_on_failure (bool, optional)</h3><p>Indicates that the OpenSearch-transport will try to reload the nodes addresses if there is a failure while making the request, this can be useful to quickly remove a dead node from the list of addresses.</p><p>Default: false</p><h3 id="opensearch-remove_keys">remove_keys (string, optional)</h3><p><a href="https://github.com/fluent/fluent-plugin-opensearch#remove_keys">https://github.com/fluent/fluent-plugin-opensearch#remove_keys</a></p><h3 id="opensearch-remove_keys_on_update">remove_keys_on_update (string, optional)</h3><p>Remove keys on update will not update the configured keys in OpenSearch when a record is being updated. This setting only has any effect if the write operation is update or upsert.</p><h3 id="opensearch-remove_keys_on_update_key">remove_keys_on_update_key (string, optional)</h3><p>This setting allows remove_keys_on_update to be configured with a key in each record, in much the same way as target_index_key works.</p><h3 id="opensearch-request_timeout">request_timeout (string, optional)</h3><p>You can specify HTTP request timeout.</p><p>Default: 5s</p><h3 id="opensearch-resurrect_after">resurrect_after (string, optional)</h3><p>You can set in the OpenSearch-transport how often dead connections from the OpenSearch-transport&rsquo;s pool will be resurrected.</p><p>Default: 60s</p><h3 id="opensearch-retry_tag">retry_tag (string, optional)</h3><p>This setting allows custom routing of messages in response to bulk request failures. The default behavior is to emit failed records using the same tag that was provided.</p><h3 id="opensearch-routing_key">routing_key (string, optional)</h3><p>routing_key</p><h3 id="opensearch-ca_file">ca_file (*secret.Secret, optional)</h3><p>CA certificate</p><h3 id="opensearch-client_cert">client_cert (*secret.Secret, optional)</h3><p>Client certificate</p><h3 id="opensearch-client_key">client_key (*secret.Secret, optional)</h3><p>Client certificate key</p><h3 id="opensearch-client_key_pass">client_key_pass (*secret.Secret, optional)</h3><p>Client key password</p><h3 id="opensearch-scheme">scheme (string, optional)</h3><p>Connection scheme</p><p>Default: http</p><h3 id="opensearch-selector_class_name">selector_class_name (string, optional)</h3><p>selector_class_name</p><h3 id="opensearch-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, Fluentd logs a warning message and increases the <code>fluentd_output_status_slow_flush_count</code> metric.</p><h3 id="opensearch-sniffer_class_name">sniffer_class_name (string, optional)</h3><p>The default Sniffer used by the OpenSearch::Transport class works well when Fluentd has a direct connection to all of the OpenSearch servers and can make effective use of the _nodes API. This doesn&rsquo;t work well when Fluentd must connect through a load balancer or proxy. The <code>sniffer_class_name</code> parameter gives you the ability to provide your own Sniffer class to implement whatever connection reload logic you require. In addition, there is a new Fluent::Plugin::OpenSearchSimpleSniffer class which reuses the hosts given in the configuration, which is typically the hostname of the load balancer or proxy. For example, a configuration like this would cause connections to logging-os to reload every 100 operations: <a href="https://github.com/fluent/fluent-plugin-opensearch#sniffer-class-name">https://github.com/fluent/fluent-plugin-opensearch#sniffer-class-name</a>.</p><h3 id="opensearch-ssl_verify">ssl_verify (*bool, optional)</h3><p>Skip ssl verification (default: true)</p><p>Default: true</p><h3 id="opensearch-ssl_version">ssl_version (string, optional)</h3><p>If you want to configure SSL/TLS version, you can specify ssl_version parameter. [SSLv23, TLSv1, TLSv1_1, TLSv1_2]</p><h3 id="opensearch-suppress_doc_wrap">suppress_doc_wrap (bool, optional)</h3><p>By default, record body is wrapped by &lsquo;doc&rsquo;. This behavior can not handle update script requests. You can set this to suppress doc wrapping and allow record body to be untouched.</p><p>Default: false</p><h3 id="opensearch-suppress_type_name">suppress_type_name (*bool, optional)</h3><p>Suppress type name to avoid warnings in OpenSearch</p><h3 id="opensearch-tag_key">tag_key (string, optional)</h3><p>This will add the Fluentd tag in the JSON record.</p><p>Default: tag</p><h3 id="opensearch-target_index_affinity">target_index_affinity (bool, optional)</h3><p>target_index_affinity</p><p>Default: false</p><h3 id="opensearch-target_index_key">target_index_key (string, optional)</h3><p>Tell this plugin to find the index name to write to in the record under this key in preference to other mechanisms. Key can be specified as path to nested record using dot (&rsquo;.&rsquo;) as a separator.</p><h3 id="opensearch-template_file">template_file (*secret.Secret, optional)</h3><p>The path to the file containing the template to install. <a href="../secret/">Secret</a></p><h3 id="opensearch-template_name">template_name (string, optional)</h3><p>The name of the template to define. If a template by the name given is already present, it will be left unchanged, unless template_overwrite is set, in which case the template will be updated.</p><h3 id="opensearch-template_overwrite">template_overwrite (bool, optional)</h3><p>Always update the template, even if it already exists.</p><p>Default: false</p><h3 id="opensearch-templates">templates (string, optional)</h3><p>Specify index templates in form of hash. Can contain multiple templates.</p><h3 id="opensearch-time_key">time_key (string, optional)</h3><p>By default, when inserting records in Logstash format, @timestamp is dynamically created with the time at log ingestion. If you&rsquo;d like to use a custom time, include an @timestamp with your record.</p><h3 id="opensearch-time_key_exclude_timestamp">time_key_exclude_timestamp (bool, optional)</h3><p>time_key_exclude_timestamp</p><p>Default: false</p><h3 id="opensearch-time_key_format">time_key_format (string, optional)</h3><p>The format of the time stamp field (@timestamp or what you specify with <code>time_key</code>). This parameter only has an effect when logstash_format is true as it only affects the name of the index we write to.</p><h3 id="opensearch-time_parse_error_tag">time_parse_error_tag (string, optional)</h3><p>With logstash_format true, OpenSearch plugin parses timestamp field for generating index name. If the record has invalid timestamp value, this plugin emits an error event to @ERROR label with <code>time_parse_error_tag</code> configured tag.</p><h3 id="opensearch-time_precision">time_precision (string, optional)</h3><p>Should the record not include a time_key, define the degree of sub-second time precision to preserve from the time portion of the routed event.</p><h3 id="opensearch-truncate_caches_interval">truncate_caches_interval (string, optional)</h3><p>truncate_caches_interval</p><h3 id="opensearch-unrecoverable_error_types">unrecoverable_error_types (string, optional)</h3><p>Default unrecoverable_error_types parameter is set up strictly. Because rejected_execution_exception is caused by exceeding OpenSearch&rsquo;s thread pool capacity. Advanced users can increase its capacity, but normal users should follow default behavior.</p><h3 id="opensearch-unrecoverable_record_types">unrecoverable_record_types (string, optional)</h3><p>unrecoverable_record_types</p><h3 id="opensearch-use_legacy_template">use_legacy_template (*bool, optional)</h3><p>Specify wether to use legacy template or not.</p><p>Default: true</p><h3 id="opensearch-user">user (string, optional)</h3><p>User for HTTP Basic authentication. This plugin will escape required URL encoded characters within %{} placeholders. e.g. <code>%{demo+}</code></p><h3 id="opensearch-utc_index">utc_index (*bool, optional)</h3><p>By default, the records inserted into index logstash-YYMMDD with UTC (Coordinated Universal Time). This option allows to use local time if you describe <code>utc_index</code> to false.</p><p>Default: true</p><h3 id="opensearch-validate_client_version">validate_client_version (bool, optional)</h3><p>When you use mismatched OpenSearch server and client libraries, fluent-plugin-opensearch cannot send data into OpenSearch.</p><p>Default: false</p><h3 id="opensearch-verify_os_version_at_startup">verify_os_version_at_startup (*bool, optional)</h3><p>verify_os_version_at_startup (default: true)</p><p>Default: true</p><h3 id="opensearch-with_transporter_log">with_transporter_log (bool, optional)</h3><p>This is debugging purpose option to enable to obtain transporter layer log.</p><p>Default: false</p><h3 id="opensearch-write_operation">write_operation (string, optional)</h3><p>The write_operation can be any of: (index,create,update,upsert)</p><p>Default: index</p><h2 id="opensearchendpointcredentials">OpenSearchEndpointCredentials</h2><h3 id="opensearchendpointcredentials-access_key_id">access_key_id (*secret.Secret, optional)</h3><p>AWS access key id. This parameter is required when your agent is not running on EC2 instance with an IAM Role.</p><h3 id="opensearchendpointcredentials-assume_role_arn">assume_role_arn (*secret.Secret, optional)</h3><p>Typically, you can use AssumeRole for cross-account access or federation.</p><h3 id="opensearchendpointcredentials-assume_role_session_name">assume_role_session_name (*secret.Secret, optional)</h3><p><a href="https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithWebIdentity.html">AssumeRoleWithWebIdentity</a></p><h3 id="opensearchendpointcredentials-assume_role_web_identity_token_file">assume_role_web_identity_token_file (*secret.Secret, optional)</h3><p><a href="https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithWebIdentity.html">AssumeRoleWithWebIdentity</a></p><h3 id="opensearchendpointcredentials-ecs_container_credentials_relative_uri">ecs_container_credentials_relative_uri (*secret.Secret, optional)</h3><p>Set with AWS_CONTAINER_CREDENTIALS_RELATIVE_URI environment variable value</p><h3 id="opensearchendpointcredentials-region">region (string, optional)</h3><p>AWS region. It should be in form like us-east-1, us-west-2. Default nil, which means try to find from environment variable AWS_REGION.</p><h3 id="opensearchendpointcredentials-secret_access_key">secret_access_key (*secret.Secret, optional)</h3><p>AWS secret key. This parameter is required when your agent is not running on EC2 instance with an IAM Role.</p><h3 id="opensearchendpointcredentials-sts_credentials_region">sts_credentials_region (*secret.Secret, optional)</h3><p>By default, the AWS Security Token Service (AWS STS) is available as a global service, and all AWS STS requests go to a single endpoint at <a href="https://sts.amazonaws.com">https://sts.amazonaws.com</a>. AWS recommends using Regional AWS STS endpoints instead of the global endpoint to reduce latency, build in redundancy, and increase session token validity. <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_enable-regions.html">https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_enable-regions.html</a></p><h3 id="opensearchendpointcredentials-url">url (string, required)</h3><p>AWS connection url.</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-ef25dbf7203fc85cd0c4a189a702360a">26 - Redis</h1><h1 id="redis-plugin-for-fluentd">Redis plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>Sends logs to Redis endpoints. For details, see <a href="https://github.com/fluent-plugins-nursery/fluent-plugin-redis">https://github.com/fluent-plugins-nursery/fluent-plugin-redis</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">redis</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">host</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">redis-master.prod.svc.cluster.local</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">buffer</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">tags</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;[]&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">flush_interval</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">10s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="output-config">Output Config</h2><h3 id="output-config-allow_duplicate_key">allow_duplicate_key (bool, optional)</h3><p>Allow inserting key duplicate. It will work as update values.</p><p>Default: false</p><h3 id="output-config-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="output-config-db_number">db_number (int, optional)</h3><p>DbNumber database number is optional.</p><p>Default: 0</p><h3 id="output-config-format">format (*Format, optional)</h3><p><a href="../format/">Format</a></p><h3 id="output-config-host">host (string, optional)</h3><p>Host Redis endpoint</p><p>Default: localhost</p><h3 id="output-config-insert_key_prefix">insert_key_prefix (string, optional)</h3><p>insert_key_prefix</p><p>Default: &ldquo;${tag}&rdquo;</p><h3 id="output-config-password">password (*secret.Secret, optional)</h3><p>Redis Server password</p><h3 id="output-config-port">port (int, optional)</h3><p>Port of the Redis server</p><p>Default: 6379</p><h3 id="output-config-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, Fluentd logs a warning message and increases the <code>fluentd_output_status_slow_flush_count</code> metric.</p><h3 id="output-config-strftime_format">strftime_format (string, optional)</h3><p>Users can set strftime format.</p><p>Default: &ldquo;%s&rdquo;</p><h3 id="output-config-ttl">ttl (int, optional)</h3><p>If 0 or negative value is set, ttl is not set in each key.</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-67b66da64354abd24b6cf4012f300c3a">27 - Relabel</h1><p>Available in Logging Operator version 4.2 and later.</p><p>The relabel output uses the <a href="https://docs.fluentd.org/output/relabel">relabel output plugin of Fluentd</a> to route events back to a specific Flow, where they can be processed again.</p><p>This is useful, for example, if you need to preprocess a subset of logs differently, but then do the same processing on all messages at the end. In this case, you can create multiple flows for preprocessing based on specific log matchers and then aggregate everything into a single final flow for postprocessing.</p><p>The value of the <code>label</code> parameter of the relabel output must be the same as the value of the <code>flowLabel</code> parameter of the Flow (or ClusterFlow) where you want to send the messages.</p><p>For example:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">ClusterOutput</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">final-relabel</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">relabel</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">label</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#39;@final-flow&#39;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#000">---</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Flow</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">serviceFlow1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">namespace</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">namespace1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">filters</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:700">[]</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">globalOutputRefs</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span>- <span style="color:#000">final-relabel</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">match</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span>- <span style="color:#204a87;font-weight:700">select</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">labels</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">app</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">service1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#000">---</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Flow</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">serviceFlow2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">namespace</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">namespace2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">filters</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:700">[]</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">globalOutputRefs</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span>- <span style="color:#000">final-relabel</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">match</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span>- <span style="color:#204a87;font-weight:700">select</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">labels</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">app</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">service2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#000">---</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">ClusterFlow</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">final-flow</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">flowLabel</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#39;@final-flow&#39;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">includeLabelInRouter</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">filters</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:700">[]</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Using the relabel output also makes it possible to pass the messages emitted by the <a href="/5.0/docs/configuration/plugins/filters/concat/">Concat</a> plugin in case of a timeout. Set the <code>timeout_label</code> of the concat plugin to the flowLabel of the flow where you want to send the timeout messages.</p><h2 id="output-config">Output Config</h2><h3 id="label-string-required-output-config-label">label (string, required) {#output config-label}</h3><p>Specifies new label for events</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-65dde214a849324898de8fc0878b8ff4">28 - Splunk</h1><h1 id="splunk-via-hec-output-plugin-for-fluentd">Splunk via Hec output plugin for Fluentd</h1><h2 id="overview">Overview</h2><p>For details, see <a href="https://github.com/splunk/fluent-plugin-splunk-hec">https://github.com/splunk/fluent-plugin-splunk-hec</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">splunkHec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">hec_host</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">splunk.default.svc.cluster.local</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">hec_port</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">8088</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">protocol</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">http</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="splunkhecoutput">SplunkHecOutput</h2><p>SplunkHecOutput sends your logs to Splunk via Hec</p><h3 id="splunkhecoutput-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="splunkhecoutput-ca_file">ca_file (*secret.Secret, optional)</h3><p>The path to a file containing a PEM-format CA certificate. <a href="../secret/">Secret</a></p><h3 id="splunkhecoutput-ca_path">ca_path (*secret.Secret, optional)</h3><p>The path to a directory containing CA certificates in PEM format. <a href="../secret/">Secret</a></p><h3 id="splunkhecoutput-client_cert">client_cert (*secret.Secret, optional)</h3><p>The path to a file containing a PEM-format CA certificate for this client. <a href="../secret/">Secret</a></p><h3 id="splunkhecoutput-client_key">client_key (*secret.Secret, optional)</h3><p>The private key for this client.&rsquo; <a href="../secret/">Secret</a></p><h3 id="splunkhecoutput-coerce_to_utf8">coerce_to_utf8 (*bool, optional)</h3><p>Indicates whether to allow non-UTF-8 characters in user logs. If set to true, any non-UTF-8 character is replaced by the string specified in non_utf8_replacement_string. If set to false, the Ingest API errors out any non-UTF-8 characters. .</p><p>Default: true</p><h3 id="splunkhecoutput-data_type">data_type (string, optional)</h3><p>The type of data that will be sent to Sumo Logic, either event or metric</p><p>Default: event</p><h3 id="splunkhecoutput-fields">fields (Fields, optional)</h3><p>In this case, parameters inside <code>&lt;fields></code> are used as indexed fields and removed from the original input events</p><h3 id="splunkhecoutput-format">format (*Format, optional)</h3><p><a href="../format/">Format</a></p><h3 id="splunkhecoutput-hec_host">hec_host (string, required)</h3><p>You can specify SplunkHec host by this parameter.</p><h3 id="splunkhecoutput-hec_port">hec_port (int, optional)</h3><p>The port number for the Hec token or the Hec load balancer.</p><p>Default: 8088</p><h3 id="splunkhecoutput-hec_token">hec_token (*secret.Secret, required)</h3><p>Identifier for the Hec token. <a href="../secret/">Secret</a></p><h3 id="splunkhecoutput-host">host (string, optional)</h3><p>The host location for events. Cannot set both host and host_key parameters at the same time. (Default:hostname)</p><h3 id="splunkhecoutput-host_key">host_key (string, optional)</h3><p>Key for the host location. Cannot set both host and host_key parameters at the same time.</p><h3 id="splunkhecoutput-idle_timeout">idle_timeout (int, optional)</h3><p>If a connection has not been used for this number of seconds it will automatically be reset upon the next use to avoid attempting to send to a closed connection. nil means no timeout.</p><h3 id="splunkhecoutput-index">index (string, optional)</h3><p>Identifier for the Splunk index to be used for indexing events. If this parameter is not set, the indexer is chosen by HEC. Cannot set both index and index_key parameters at the same time.</p><h3 id="splunkhecoutput-index_key">index_key (string, optional)</h3><p>The field name that contains the Splunk index name. Cannot set both index and index_key parameters at the same time.</p><h3 id="splunkhecoutput-insecure_ssl">insecure_ssl (*bool, optional)</h3><p>Indicates if insecure SSL connection is allowed</p><p>Default: false</p><h3 id="splunkhecoutput-keep_keys">keep_keys (bool, optional)</h3><p>By default, all the fields used by the *_key parameters are removed from the original input events. To change this behavior, set this parameter to true. This parameter is set to false by default. When set to true, all fields defined in <code>index_key</code>, <code>host_key</code>, <code>source_key</code>, <code>sourcetype_key</code>, <code>metric_name_key</code>, and <code>metric_value_key</code> are saved in the original event.</p><h3 id="splunkhecoutput-metric_name_key">metric_name_key (string, optional)</h3><p>Field name that contains the metric name. This parameter only works in conjunction with the metrics_from_event parameter. When this prameter is set, the <code>metrics_from_event</code> parameter is automatically set to false.</p><p>Default: true</p><h3 id="splunkhecoutput-metric_value_key">metric_value_key (string, optional)</h3><p>Field name that contains the metric value, this parameter is required when <code>metric_name_key</code> is configured.</p><h3 id="splunkhecoutput-metrics_from_event">metrics_from_event (*bool, optional)</h3><p>When data_type is set to &ldquo;metric&rdquo;, the ingest API will treat every key-value pair in the input event as a metric name-value pair. Set metrics_from_event to false to disable this behavior and use <code>metric_name_key</code> and <code>metric_value_key</code> to define metrics. (Default:true)</p><h3 id="splunkhecoutput-non_utf8_replacement_string">non_utf8_replacement_string (string, optional)</h3><p>If coerce_to_utf8 is set to true, any non-UTF-8 character is replaced by the string you specify in this parameter. .</p><p>Default: &rsquo; '</p><h3 id="splunkhecoutput-open_timeout">open_timeout (int, optional)</h3><p>The amount of time to wait for a connection to be opened.</p><h3 id="splunkhecoutput-protocol">protocol (string, optional)</h3><p>This is the protocol to use for calling the Hec API. Available values are: http, https.</p><p>Default: https</p><h3 id="splunkhecoutput-read_timeout">read_timeout (int, optional)</h3><p>The amount of time allowed between reading two chunks from the socket.</p><h3 id="splunkhecoutput-ssl_ciphers">ssl_ciphers (string, optional)</h3><p>List of SSL ciphers allowed.</p><h3 id="splunkhecoutput-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p><h3 id="splunkhecoutput-source">source (string, optional)</h3><p>The source field for events. If this parameter is not set, the source will be decided by HEC. Cannot set both source and source_key parameters at the same time.</p><h3 id="splunkhecoutput-source_key">source_key (string, optional)</h3><p>Field name to contain source. Cannot set both source and source_key parameters at the same time.</p><h3 id="splunkhecoutput-sourcetype">sourcetype (string, optional)</h3><p>The sourcetype field for events. When not set, the sourcetype is decided by HEC. Cannot set both source and <code>source_key</code> parameters at the same time.</p><h3 id="splunkhecoutput-sourcetype_key">sourcetype_key (string, optional)</h3><p>Field name that contains the sourcetype. Cannot set both source and source_key parameters at the same time.</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-f239285458b59ea6270063a2b99b095d">29 - SQS</h1><h1 id="sqs-outputhttpsgithubcomixixifluent-plugin-sqs"><a href="https://github.com/ixixi/fluent-plugin-sqs">SQS Output</a></h1><h2 id="overview">Overview</h2><p>Fluentd output plugin for SQS.</p><h2 id="configuration">Configuration</h2><h2 id="output-config">Output Config</h2><h3 id="output-config-aws_key_id">aws_key_id (*secret.Secret, optional)</h3><p>AWS access key id</p><h3 id="output-config-aws_sec_key">aws_sec_key (*secret.Secret, optional)</h3><p>AWS secret key</p><h3 id="output-config-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="output-config-create_queue">create_queue (*bool, optional)</h3><p>Create SQS queue</p><p>Default: true</p><h3 id="output-config-delay_seconds">delay_seconds (int, optional)</h3><p>Delivery delay seconds</p><p>Default: 0</p><h3 id="output-config-include_tag">include_tag (*bool, optional)</h3><p>Include tag</p><p>Default: true</p><h3 id="output-config-message_group_id">message_group_id (string, optional)</h3><p>Message group id for FIFO queue</p><h3 id="output-config-queue_name">queue_name (string, optional)</h3><p>SQS queue name - required if sqs_url is not set</p><h3 id="output-config-region">region (string, optional)</h3><p>AWS region</p><p>Default: ap-northeast-1</p><h3 id="sqs_url-string-optional-output-config-sqs_url">sqs_url (string, optional) {#output config-sqs_url}</h3><p>SQS queue url e.g. <code>https://sqs.us-west-2.amazonaws.com/123456789012/myqueue</code></p><h3 id="output-config-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p><h3 id="output-config-tag_property_name">tag_property_name (string, optional)</h3><p>Tags property name in json</p><p>Default: &lsquo;__tag&rsquo;</p><h2 id="example-sqs-output-configurations">Example <code>SQS</code> output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Output</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">sqs-output-sample</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">sqs</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">queue_name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">some-aws-sqs-queue</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">create_queue</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">region</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">us-east-1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Fluentd config result:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">&lt;match</span> <span style="color:#a40000">**</span><span style="color:#204a87;font-weight:700">&gt;</span>
</span></span><span style="display:flex"><span>    @type sqs
</span></span><span style="display:flex"><span>    @id test_sqs
</span></span><span style="display:flex"><span>    queue_name some-aws-sqs-queue
</span></span><span style="display:flex"><span>    create_queue false
</span></span><span style="display:flex"><span>    region us-east-1
</span></span><span style="display:flex"><span><span style="color:#204a87;font-weight:700">&lt;/match&gt;</span>
</span></span></code></pre></div><hr>
</div><div class="td-content" style="page-break-before:always">
<h1 id="pg-014aa24ff26bb6369dc8484f097d845d">30 - Syslog</h1><h1 id="syslog-outputhttpsgithubcomcloudfoundryfluent-plugin-syslog_rfc5424"><a href="https://github.com/cloudfoundry/fluent-plugin-syslog_rfc5424">Syslog Output</a></h1><h2 id="overview">Overview</h2><p>Fluentd output plugin for remote syslog with RFC5424 headers logs.</p><h2 id="configuration">Configuration</h2><h2 id="syslogoutputconfig">SyslogOutputConfig</h2><h3 id="syslogoutputconfig-allow_self_signed_cert">allow_self_signed_cert (*bool, optional)</h3><p>allow_self_signed_cert for mutual tls</p><p>Default: false</p><h3 id="syslogoutputconfig-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="syslogoutputconfig-client_cert_path">client_cert_path (*secret.Secret, optional)</h3><p>file path for private_key_path</p><h3 id="syslogoutputconfig-enable_system_cert_store">enable_system_cert_store (*bool, optional)</h3><p>cert_store to set ca_certificate for ssl context</p><h3 id="syslogoutputconfig-format">format (*FormatRfc5424, optional)</h3><p><a href="../format_rfc5424/">Format</a></p><h3 id="syslogoutputconfig-fqdn">fqdn (string, optional)</h3><p>Fqdn</p><p>Default: &ldquo;nil&rdquo;</p><h3 id="syslogoutputconfig-host">host (string, required)</h3><p>Destination host address</p><h3 id="syslogoutputconfig-insecure">insecure (*bool, optional)</h3><p>skip ssl validation</p><p>Default: false</p><h3 id="syslogoutputconfig-port">port (int, optional)</h3><p>Destination host port</p><p>Default: &ldquo;514&rdquo;</p><h3 id="syslogoutputconfig-private_key_passphrase">private_key_passphrase (*secret.Secret, optional)</h3><p>PrivateKeyPassphrase for private key</p><p>Default: &ldquo;nil&rdquo;</p><h3 id="syslogoutputconfig-private_key_path">private_key_path (*secret.Secret, optional)</h3><p>file path for private_key_path</p><h3 id="syslogoutputconfig-slow_flush_log_threshold">slow_flush_log_threshold (string, optional)</h3><p>The threshold for chunk flush performance check. Parameter type is float, not time, default: 20.0 (seconds) If chunk flush takes longer time than this threshold, fluentd logs warning message and increases metric fluentd_output_status_slow_flush_count.</p><h3 id="syslogoutputconfig-transport">transport (string, optional)</h3><p>Transport Protocol</p><p>Default: &ldquo;tls&rdquo;</p><h3 id="syslogoutputconfig-trusted_ca_path">trusted_ca_path (*secret.Secret, optional)</h3><p>file path to ca to trust</p><h3 id="syslogoutputconfig-verify_fqdn">verify_fqdn (*bool, optional)</h3><p>verify_fqdn</p><p>Default: nil</p><h3 id="syslogoutputconfig-version">version (string, optional)</h3><p>TLS Version</p><p>Default: &ldquo;TLSv1_2&rdquo;</p><h2 id="example-file-output-configurations">Example <code>File</code> output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">logging.banzaicloud.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Output</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">demo-output</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">syslog</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">host</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">SYSLOG-HOST</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">port</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">123</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">format</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">app_name_field</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">example.custom_field_1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">proc_id_field</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">example.custom_field_2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">buffer</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">1m</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_wait</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">10s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">timekey_use_utc</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span></span></span></code></pre></div><p>Fluentd config result:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">&lt;match</span> <span style="color:#a40000">**</span><span style="color:#204a87;font-weight:700">&gt;</span>
</span></span><span style="display:flex"><span>	@type syslog_rfc5424
</span></span><span style="display:flex"><span>	@id test_syslog
</span></span><span style="display:flex"><span>	host SYSLOG-HOST
</span></span><span style="display:flex"><span>	port 123
</span></span><span style="display:flex"><span> <span style="color:#204a87;font-weight:700">&lt;format&gt;</span>
</span></span><span style="display:flex"><span>   @type syslog_rfc5424
</span></span><span style="display:flex"><span>   app_name_field example.custom_field_1
</span></span><span style="display:flex"><span>   proc_id_field example.custom_field_2
</span></span><span style="display:flex"><span> <span style="color:#204a87;font-weight:700">&lt;/format&gt;</span>
</span></span><span style="display:flex"><span>	<span style="color:#204a87;font-weight:700">&lt;buffer</span> <span style="color:#a40000">tag,time</span><span style="color:#204a87;font-weight:700">&gt;</span>
</span></span><span style="display:flex"><span>	  @type file
</span></span><span style="display:flex"><span>	  path /buffers/test_file.*.buffer
</span></span><span style="display:flex"><span>	  retry_forever true
</span></span><span style="display:flex"><span>	  timekey 1m
</span></span><span style="display:flex"><span>	  timekey_use_utc true
</span></span><span style="display:flex"><span>	  timekey_wait 30s
</span></span><span style="display:flex"><span>	<span style="color:#204a87;font-weight:700">&lt;/buffer&gt;</span>
</span></span><span style="display:flex"><span><span style="color:#204a87;font-weight:700">&lt;/match&gt;</span></span></span></code></pre></div><hr>
</div><div class="td-content" style="page-break-before:always">
<h1 id="pg-1f1e7ebd2a7521c62ebb908f2d9dc6d4">31 - VMware Log Intelligence</h1><h2 id="overview">Overview</h2><p>VMware Log Intelligence output plugin for Fluentd. For details, see <a href="https://github.com/vmware/fluent-plugin-vmware-log-intelligence">https://github.com/vmware/fluent-plugin-vmware-log-intelligence</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">vmwarelogintelligence</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">endpoint_url</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">https://data.upgrade.symphony-dev.com/le-mans/v1/streams/ingestion-pipeline-stream</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">verify_ssl</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">http_compress</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">headers</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">content_type</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;application/json&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">authorization</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:700">valueFrom</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:700">secretKeyRef</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">vmware-log-intelligence-token</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:700">key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">authorization</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">structure</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">simple</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">buffer</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">chunk_limit_records</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">300</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">flush_interval</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">3s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">retry_max_times</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">3</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="vmwarelogintelligence">VMwareLogIntelligence</h2><h3 id="vmwarelogintelligence-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="vmwarelogintelligence-endpoint_url">endpoint_url (string, required)</h3><p>Log Intelligence endpoint to send logs to <a href="https://github.com/vmware/fluent-plugin-vmware-log-intelligence?tab=readme-ov-file#label-endpoint_url">https://github.com/vmware/fluent-plugin-vmware-log-intelligence?tab=readme-ov-file#label-endpoint_url</a></p><h3 id="vmwarelogintelligence-format">format (*Format, optional)</h3><p><a href="../format/">Format</a></p><h3 id="vmwarelogintelligence-http_compress">http_compress (*bool, optional)</h3><p>Compress http request <a href="https://github.com/vmware/fluent-plugin-vmware-log-intelligence?tab=readme-ov-file#label-http_compress">https://github.com/vmware/fluent-plugin-vmware-log-intelligence?tab=readme-ov-file#label-http_compress</a></p><h3 id="vmwarelogintelligence-headers">headers (LogIntelligenceHeaders, required)</h3><p>Required headers for sending logs to VMware Log Intelligence <a href="https://github.com/vmware/fluent-plugin-vmware-log-intelligence?tab=readme-ov-file#label-3Cheaders-3E">https://github.com/vmware/fluent-plugin-vmware-log-intelligence?tab=readme-ov-file#label-3Cheaders-3E</a></p><h3 id="vmwarelogintelligence-verify_ssl">verify_ssl (*bool, required)</h3><p>Verify SSL (default: true) <a href="https://github.com/vmware/fluent-plugin-vmware-log-intelligence?tab=readme-ov-file#label-verify_ssl">https://github.com/vmware/fluent-plugin-vmware-log-intelligence?tab=readme-ov-file#label-verify_ssl</a></p><p>Default: true</p><h2 id="vmwarelogintelligenceheaders">VMwareLogIntelligenceHeaders</h2><p>headers
<a href="https://github.com/vmware/fluent-plugin-vmware-log-intelligence?tab=readme-ov-file#label-3Cheaders-3E">https://github.com/vmware/fluent-plugin-vmware-log-intelligence?tab=readme-ov-file#label-3Cheaders-3E</a></p><h3 id="vmwarelogintelligenceheaders-authorization">authorization (*secret.Secret, required)</h3><p>Authorization Bearer token for http request to VMware Log Intelligence <a href="../secret/">Secret</a></p><h3 id="vmwarelogintelligenceheaders-content_type">content_type (string, required)</h3><p>Content Type for http request to VMware Log Intelligence</p><p>Default: application/json</p><h3 id="vmwarelogintelligenceheaders-structure">structure (string, required)</h3><p>Structure for http request to VMware Log Intelligence</p><p>Default: simple</p><h2 id="logintelligenceheadersout">LogIntelligenceHeadersOut</h2><p>LogIntelligenceHeadersOut is used to convert the input LogIntelligenceHeaders to a fluentd
output that uses the correct key names for the VMware Log Intelligence plugin. This allows the
Ouput to accept the config is snake_case (as other output plugins do) but output the fluentd
<headers> config with the proper key names (ie. content_type -> Content-Type)</p><h3 id="logintelligenceheadersout-authorization">Authorization (*secret.Secret, required)</h3><p>Authorization Bearer token for http request to VMware Log Intelligence</p><h3 id="logintelligenceheadersout-content-type">Content-Type (string, required)</h3><p>Content Type for http request to VMware Log Intelligence</p><p>Default: application/json</p><h3 id="logintelligenceheadersout-structure">structure (string, required)</h3><p>Structure for http request to VMware Log Intelligence</p><p>Default: simple</p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-0102b64d79d8ea746d1515b5bde58add">32 - VMware LogInsight</h1><h2 id="overview">Overview</h2><p>VMware LogInsight output plugin for Fluentd. For details, see <a href="https://github.com/vmware/fluent-plugin-vmware-loginsight">https://github.com/vmware/fluent-plugin-vmware-loginsight</a>.</p><h2 id="example-output-configurations">Example output configurations</h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">spec</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">vmwareLogInsight</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">scheme</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">https</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">ssl_verify</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">host</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">MY_LOGINSIGHT_HOST</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">port</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:700">9543</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">agent_id</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">log_text_keys</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">	</span>- <span style="color:#000">log</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">	</span>- <span style="color:#000">msg</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">	</span>- <span style="color:#000">message</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">http_conn_debug</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:700">false</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configuration">Configuration</h2><h2 id="vmwareloginsight">VMwareLogInsight</h2><p>Send your logs to VMware LogInsight</p><h3 id="vmwareloginsight-agent_id">agent_id (string, optional)</h3><p>agent_id generated by your LI</p><p>Default: 0</p><h3 id="vmwareloginsight-authentication">authentication (*string, optional)</h3><p>Type of authentication to use (nil,basic)</p><p>Default: nil</p><h3 id="vmwareloginsight-buffer">buffer (*Buffer, optional)</h3><p><a href="../buffer/">Buffer</a></p><h3 id="vmwareloginsight-ca_file">ca_file (*secret.Secret, optional)</h3><p><a href="../secret/">Secret</a></p><h3 id="vmwareloginsight-config_param">config_param (map[string]string, optional)</h3><p>Rename fields names</p><p>Default: {&ldquo;source&rdquo; => &ldquo;log_source&rdquo;}</p><h3 id="vmwareloginsight-flatten_hashes">flatten_hashes (*bool, optional)</h3><p>Flatten hashes to create one key/val pair w/o losing log data</p><p>Default: true</p><h3 id="vmwareloginsight-flatten_hashes_separator">flatten_hashes_separator (string, optional)</h3><p>Separator to use for joining flattened keys</p><p>Default: _</p><h3 id="vmwareloginsight-http_conn_debug">http_conn_debug (bool, optional)</h3><p>If set, enables debug logs for http connection</p><p>Default: false</p><h3 id="vmwareloginsight-http_method">http_method (string, optional)</h3><p>HTTP method (post)</p><p>Default: post</p><h3 id="vmwareloginsight-host">host (string, optional)</h3><p>VMware Aria Operations For Logs Host ex. localhost</p><h3 id="vmwareloginsight-log_text_keys">log_text_keys ([]string, optional)</h3><p>Keys from log event whose values should be added as log message/text to VMware Aria Operations For Logs. These key/value pairs won&rsquo;t be expanded/flattened and won&rsquo;t be added as metadata/fields.</p><p>Default: [&ldquo;log&rdquo;, &ldquo;message&rdquo;, &ldquo;msg&rdquo;]</p><h3 id="vmwareloginsight-max_batch_size">max_batch_size (int, optional)</h3><p>Number of bytes per post request</p><p>Default: 4000000</p><h3 id="vmwareloginsight-password">password (*secret.Secret, optional)</h3><p><a href="../secret/">Secret</a></p><h3 id="vmwareloginsight-path">path (string, optional)</h3><p>VMware Aria Operations For Logs ingestion api path ex. &lsquo;api/v1/events/ingest&rsquo;</p><p>Default: api/v1/events/ingest</p><h3 id="vmwareloginsight-port">port (int, optional)</h3><p>VMware Aria Operations For Logs port ex. 9000</p><p>Default: 80</p><h3 id="vmwareloginsight-raise_on_error">raise_on_error (bool, optional)</h3><p>Raise errors that were rescued during HTTP requests?</p><p>Default: false</p><h3 id="vmwareloginsight-rate_limit_msec">rate_limit_msec (int, optional)</h3><p>Simple rate limiting: ignore any records within <code>rate_limit_msec</code> since the last one</p><p>Default: 0</p><h3 id="vmwareloginsight-request_retries">request_retries (int, optional)</h3><p>Number of retries</p><p>Default: 3</p><h3 id="vmwareloginsight-request_timeout">request_timeout (int, optional)</h3><p>http connection ttl for each request</p><p>Default: 5</p><h3 id="vmwareloginsight-ssl_verify">ssl_verify (*bool, optional)</h3><p>SSL verification flag</p><p>Default: true</p><h3 id="vmwareloginsight-scheme">scheme (string, optional)</h3><p>HTTP scheme (http,https)</p><p>Default: http</p><h3 id="vmwareloginsight-serializer">serializer (string, optional)</h3><p>Serialization (json)</p><p>Default: json</p><h3 id="vmwareloginsight-shorten_keys">shorten_keys (map[string]string, optional)</h3><p>Keys from log event to rewrite for instance from &lsquo;kubernetes_namespace&rsquo; to &lsquo;k8s_namespace&rsquo; tags will be rewritten with substring substitution and applied in the order present in the hash. Hashes enumerate their values in the order that the corresponding keys were inserted, see: <a href="https://ruby-doc.org/core-2.2.2/Hash.html">https://ruby-doc.org/core-2.2.2/Hash.html</a></p><p>Default: { &lsquo;kubernetes_&rsquo;:&lsquo;k8s_&rsquo;, &rsquo;namespace&rsquo;:&rsquo;ns&rsquo;, &rsquo;labels_&rsquo;:&rsquo;&rsquo;, &lsquo;_name&rsquo;:&rsquo;&rsquo;, &lsquo;<em>hash&rsquo;:&rsquo;&rsquo;, &lsquo;container</em>&rsquo;:&rsquo;&rsquo; }</p><h3 id="vmwareloginsight-username">username (*secret.Secret, optional)</h3><p><a href="../secret/">Secret</a></p></div><div class="td-content" style="page-break-before:always">
<h1 id="pg-3effea023502f5f282b1bcfc984721f7">33 - Secret definition</h1><h2 id="define-secret-value">Define secret value</h2><p>Secrets can be used in logging-operator <code>Output</code> definitions.</p><blockquote>
<p>Secrets <em>MUST</em> be in the <em>SAME</em> namespace as the <code>Output</code> or <code>ClusterOutput</code> custom resource</p></blockquote><p><strong>Example secret definition</strong></p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">aws_key_id</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">valueFrom</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">secretKeyRef</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">&lt;kubernetes-secret-name&gt;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">&lt;kubernetes-secret-key&gt;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>For debug purposes you can define secret values directly. However this is <em>NOT</em> recommended in production.</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">aws_key_id</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">value</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;secretvalue&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="define-secret-mount">Define secret mount</h2><p>There are cases when you can&rsquo;t inject secret into the configuration because the plugin need a file to read from. For this cases you can use <code>mountFrom</code>.</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">tls_cert_path</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">mountFrom</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">secretKeyRef</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">&lt;kubernetes-secret-name&gt;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:700">key</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">&lt;kubernetes-secret-key&gt;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>The operator will collect the secret and copy it to the <code>fluentd-output</code> secret. The fluentd configuration will contain the secret path.</p><p><strong>Example rendered configuration</strong></p><pre tabindex="0"><code>&lt;match **&gt;
    @type forward
    tls_cert_path /fluentd/etc/secret/default-fluentd-tls-tls.crt
    ...
&lt;/match&gt;
</code></pre><h3 id="how-it-works">How it works?</h3><p>Behind the scene the operator marks the secret with an annotation and watches it for changes as long as the annotation is present.</p><p><strong>Example annotated secret</strong></p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="display:flex"><span><span style="color:#204a87;font-weight:700">apiVersion</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">v1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">kind</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Secret</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">type</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Opaque</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">metadata</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">annotations</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:700">logging.banzaicloud.io/default</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">watched</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">name</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">fluentd-tls</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">namespace</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">default</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:700">data</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:700">tls.crt</span><span style="color:#000;font-weight:700">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">SGVsbG8gV29ybGQ=</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><blockquote>
<p>The annotation format is <code>logging.banzaicloud.io/&lt;loggingRef>: watched</code>. Since the <code>name</code> part of the an annotation can&rsquo;t be empty the <code>default</code> applies to empty <code>loggingRef</code> value as well.</p></blockquote><p>The mount path is generated from the secret information</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="display:flex"><span>/fluentd/etc/secret/<span style="color:#000">$namespace</span>-<span style="color:#000">$secret_name</span>-<span style="color:#000">$secret_key</span>
</span></span></code></pre></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class="row">
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
</div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
<a class="text-white" target="_blank" rel="noopener" href="https://github.com/kube-logging/logging-operator" aria-label="GitHub">
<i class="fab fa-github"></i>
</a>
</li><li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
<a class="text-white" target="_blank" rel="noopener" href="/docs/community/" aria-label="Slack">
<i class="fab fa-slack"></i>
</a>
</li><li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Discord" aria-label="Discord">
<a class="text-white" target="_blank" rel="noopener" href="https://discord.gg/9ACY4RDsYN" aria-label="Discord">
<i class="fab fa-discord"></i>
</a>
</li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class="text-white"><a class="text-white" href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> | </small>
<small class="text-white">&copy; 2023-2025 kube-logging authors | All Rights Reserved</small>
</div></div></div></footer></div><script src="/5.0/js/main.min.b06f9e927b3439c8843072116d6eb1d2e82f2c9fb7eac55561e78ef25c9a2afb.js" integrity="sha256-sG+ekns0OciEMHIRbW6x0ugvLJ+36sVVYeeO8lyaKvs=" crossorigin="anonymous"></script>
<script src='/5.0/js/prism.js'></script>
<script src='/5.0/js/tabpane-persist.js'></script>
<script src="/js/tocbot.min.js"></script>
<script type="text/javascript">tocbot.init({tocSelector:".td-toc",contentSelector:".td-content",headingSelector:"h2, h3, h4",ignoreHiddenElements:!0})</script>
<script>(function(){var e=document.querySelector("#td-section-nav");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</body></html>